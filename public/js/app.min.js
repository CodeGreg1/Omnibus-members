!function(){"use strict";app.Settlement=[],app.Settlement.floatval=function(a){return parseFloat(a)||0},app.Settlement.preg_replace=function(a,e,t){var n=a.substr(a.lastIndexOf(a[0])+1);n=""!==n?n:"g";var i=a.substr(1,a.lastIndexOf(a[0])-1),o=new RegExp(i,n);return t.replace(o,e)},app.Settlement.preg_match_all=function(a,e){return e.match(a)},app.Settlement.strrchr=function(a,e){var t;return"string"!=typeof e&&(e=String.fromCharCode(parseInt(e,10))),e=e.charAt(0),-1===(t=a.lastIndexOf(e))?"":a.substr(t)},app.Settlement.number_format=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";a=(a+"").replace(/[^0-9+\-Ee.]/g,"");var i=isFinite(+a)?+a:0,o=isFinite(+e)?Math.abs(e):0,s="";return s=(o?function(a,e){var t=Math.pow(10,e);return""+(Math.round(a*t)/t).toFixed(e)}(i,o):""+Math.round(i)).split("."),s[0].length>3&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)),(s[1]||"").length<o&&(s[1]=s[1]||"",s[1]+=new Array(o-s[1].length+1).join("0")),s.join(t)}}(),function(){"use strict";$.fn.TableCheckAll=function(a){var e=$.extend({checkAllCheckboxClass:".check-all",checkboxClass:".check"},a);return this.each((function(){$(this).find(e.checkAllCheckboxClass).on("click",(function(){$(this).is(":checked")?$.each($(this).parents("table").find(e.checkboxClass),(function(){$(this).prop("checked",!0)})):$.each($(this).parents("table").find(e.checkboxClass),(function(){$(this).prop("checked",!1)}))})),$(this).find(e.checkboxClass).on("click",(function(){var a=$(this).parents("table").find(e.checkboxClass).length,t=$(this).parents("table").find(e.checkboxClass+":checked").length;a==t&&($(this).parents("table").find(e.checkAllCheckboxClass).is(":checked")||$(this).parents("table").find(e.checkAllCheckboxClass).prop("checked",!0)),a==t||$(this).is(":checked")||$(this).parents("table").find(e.checkAllCheckboxClass).prop("checked",!1)}))}))}}(),function(){"use strict";app.config={avatarDefault:"/users/avatar.png"},app.ajaxSetup=function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})},app.closeModal=function(){$('[data-dismiss="modal"]').trigger("click")},app.notify=function(a){if(void 0!==$.fn.toast&&""!=a){var e='<div class="d-flex justify-content-center align-items-center toast-notify">';e+='<div class="toast toast-notify-show toast-black" role="alert" aria-live="assertive" aria-atomic="true" data-delay="3000" data-autohide="true">',e+='<div class="toast-body">',e+=a,e+="</div>",e+="</div>",e+="</div>",$("body").find(".toast-notify")&&$(".toast-notify").remove(),$("body").append(e),$(".toast-notify-show").toast("show")}},app.notifyOnLoad=function(){void 0!==$(".alert-notification").html()&&setTimeout((function(){app.notify($(".alert-notification").html())}),1e3)},app.notifyError=function(a){a.errors?$.each(a.errors,(function(a,e){$.each(e,(function(a,e){app.notify(e)}))})):app.notify(a.message)},app.redirect=function(a){window.location=a},app.scrollTop=function(a){var e=$(a);if(e.length){var t=e.offset().top;if(0!=t)return $("html,body").animate({scrollTop:t-70},500),!1}},app.timeoutFadeOut=function(a,e){setTimeout((function(){$(a).fadeOut(2e3)}),e)},app.initSelect2=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";void 0!==$.fn.select2&&(""!=a?$(".select2").select2({placeholder:a}):$(".select2").select2())},app.trans=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var t in void 0!==app.translations[a]&&(a=app.translations[a]),e){var n=new RegExp(":"+t,"g"),i=e[t];a=a.replace(n,i)}return a},app.can=function(a){if(void 0!==app.policies)return void 0!==app.policies[a]&&app.policies[a]},app.stringHasDot=function(a){return a.includes(".")},app.recaptchaReset=function(){"undefined"!=typeof grecaptcha&&grecaptcha.reset()},app.objectToUrlParams=function(a){var e="";for(var t in a)""!=e&&(e+="&"),e+=t+"="+encodeURIComponent(a[t]);return e},app.removeClassDot=function(a){return a.replace(".","")},app.buttonLoader=function(a){a.attr("disabled",!0).html('&nbsp;<i class="fas fa-spinner fa-spin"></i>&nbsp;')},app.backButtonContent=function(a,e){a.attr("disabled",!1).html(e)},app.stringTruncate=function(a,e){return a.length>e?a.substr(0,e-1)+"&hellip;":a},app.inputMaxLength=function(){$("input[data-max-size], textarea[data-max-size]").each((function(a){var e=$(this);e.data("max-size",parseInt(e.attr("data-max-size"))||20),e.on("input propertychange",(function(a){var t=e.data("max-size"),n=e.val().length;n>=e.data("max-size")&&e.val(app.strMaxLength(e.val(),t));var i=e.closest(".form-group");i.length&&i.find(".character_length").html(n)}))}))},app.strMaxLength=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return a.substring(0,e)},app.init=function(){app.ajaxSetup(),app.notifyOnLoad(),app.initSelect2(),app.inputMaxLength()},app.slugify=function(a){return(a=(a=a.replace(/[`~!@#$%^&*()_\-+=\[\]{};:'"\\|\/,.<>?\s]/g," ").toLowerCase()).replace(/^\s+|\s+$/gm,"")).replace(/\s+/g,"-")},$(document).ready(app.init())}(),function(){"use strict";app.chartConfig={},app.chartConfig.defaultColor="#6777ef",app.chartConfig.lineBarCharts=["line","bar"],app.chartConfig.line={borderWidth:3,backgroundColor:"transparent",options:{responsive:!0,plugins:{legend:{position:"top",display:!1}},scales:{y:{grid:{display:!1,border:!1},ticks:{stepSize:150}},x:{grid:{color:"#f5f5f5",lineWidth:1}}}}},app.chartConfig.bar={borderWidth:2,backgroundColor:app.chartConfig.defaultColor,options:{responsive:!0,plugins:{legend:{position:"top",display:!1}},scales:{y:{grid:{display:!1,border:!1},ticks:{stepSize:150}},x:{grid:{color:"#f5f5f5",lineWidth:1}}}}},app.chartConfig.pie={backgroundColor:app.chartConfig.defaultColor,options:{responsive:!0,legend:{position:"bottom"}}},app.chartConfig.datasets=function(a){return app.chartConfig.lineBarCharts.includes(a.type)?[{label:a.label,data:a.result.data,borderWidth:app.chartConfig[a.type].borderWidth,borderColor:app.chartConfig.defaultColor,backgroundColor:app.chartConfig[a.type].backgroundColor,pointBackgroundColor:"#fff",pointBorderColor:app.chartConfig.defaultColor,pointRadius:4,tension:.3}]:"pie"==a.type?[{label:a.label,data:a.result.data,backgroundColor:app.chartConfig.generatePieBgColors(a.result.data)}]:void 0},app.chartConfig.generatePieBgColors=function(a){for(var e=[app.chartConfig.defaultColor],t=1;t<a.length;t++)e.push(app.chartConfig.randomColor());return e},app.chartConfig.randomColor=function(){var a=16777215*Math.random(),e=(a=(a=Math.floor(a)).toString(16)).padStart(6,0);return"#".concat(e.toUpperCase())},app.chart=function(a){new Chart(document.getElementById(a.selector).getContext("2d"),{type:a.type,data:{labels:a.result.labels,datasets:app.chartConfig.datasets(a)},options:app.chartConfig[a.type].options})}}(),function(){"use strict";app.baseDateTimePicker={},app.baseDateTimePicker.init=function(){jQuery().daterangepicker&&($(".datepicker").length&&$(".datepicker").daterangepicker({locale:{format:"YYYY-MM-DD"},singleDatePicker:!0}),$(".datetimepicker").length&&$(".datetimepicker").daterangepicker({locale:{format:"YYYY-MM-DD HH:mm"},singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0})),jQuery().timepicker&&$(".timepicker").length&&$(".timepicker").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1,icons:{up:"fas fa-chevron-up",down:"fas fa-chevron-down"}})},$(document).ready(app.baseDateTimePicker.init())}(),function(){"use strict";app.baseDropzone={},app.baseDropzone.config={defaultThumbnail:"/upload/media/default/file-thumb.png"},app.baseDropzone.remove=function(){$(document).delegate(".remove-dropzone-file","click",(function(){var a=$(this),e=a.attr("data-dz-id"),t=a.attr("data-route");$.ajax({type:"DELETE",url:t,data:{uid:a.attr("data-id")},success:function(t,n,i){var o=$(e)[0].dropzone;a.parents(".list-group-item").remove(),o.options.maxFiles=o.options.maxFiles+1},error:function(a,e,t){}})}))},app.baseDropzone.removeErrors=function(a){$(a.previewElement).removeClass("error"),$(a.previewElement).parents(".form-group").removeClass("error"),$(a.previewElement).parents(".form-group").find(".message").remove(),$(a.previewElement).parents(".form-group").find(".dz-preview").find(".list-group-item").removeClass("error")},app.baseDropzone.countUploaded=function(a){return $(a+" li.list-group-item").length},app.baseDropzone.init=function(a){app.baseDropzone.remove()},$(document).ready(app.baseDropzone.init())}(),function(){"use strict";app.baseImageType={},app.baseImageType.lists=["image/jpeg","image/jpg","image/png","image/gif"]}(),function(){"use strict";app.formErrorsHelper={},app.formErrorsHelper.config={formGroupClass:".form-group",formErrorMessageClass:".form-alert-message",errorClass:".error",messageClass:".message"},app.formErrorsHelper.remove=function(a){$(a).parents(app.formErrorsHelper.config.formGroupClass).hasClass(app.removeClassDot(app.formErrorsHelper.config.errorClass))&&($(a).parents(app.formErrorsHelper.config.formGroupClass).find(app.formErrorsHelper.config.messageClass).remove(),$(a).parents(app.formErrorsHelper.config.formGroupClass).removeClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)))},app.formErrorsHelper.dropzone=function(a,e){var t=a.split(".");$.each($(".dropzone"),(function(){var t=$(this);t.attr("data-field-name")==a&&($("#"+t.attr("id")).append("<p class='"+app.removeClassDot(app.formErrorsHelper.config.messageClass)+" mb-0 dropzone-required-error'>"+e+"</p>").addClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),$("#"+t.attr("id")).parents(app.formErrorsHelper.config.formGroupClass).addClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)))})),$.each($(".dropzone"),(function(){var n=$(this);if(t.length>1&&n.attr("data-field-name")==t[0]){var i=0;$.each(n.find(".dz-preview").find(">li"),(function(){t[1]==i&&$(this).append("<span class='"+app.removeClassDot(app.formErrorsHelper.config.messageClass)+"'>"+e.replace(a,t[0])+" </span>").addClass("error"),i++})),$("#"+n.attr("id")).parents(app.formErrorsHelper.config.formGroupClass).addClass(app.removeClassDot(app.formErrorsHelper.config.errorClass))}}))},app.formErrorsHelper.append=function(a,e,t){$(e).parents(app.formErrorsHelper.config.formGroupClass).append("<p class='"+app.removeClassDot(app.formErrorsHelper.config.messageClass)+"'>"+t+"</p>").addClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),app.formErrorsHelper.dropzone(a,t)},app.formErrorsHelper.keyup=function(a,e){$(e).on("keyup",(function(){$(e).parents(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).find(app.formErrorsHelper.config.messageClass).remove(),$(e).parents(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).removeClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),$(a).find(app.formErrorsHelper.config.formErrorMessageClass).remove()})),$(e).on("change",(function(){$(e).parents(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).find(app.formErrorsHelper.config.messageClass).remove(),$(e).parents(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).removeClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),$(a).find(app.formErrorsHelper.config.formErrorMessageClass).remove()})),$(e).on("click",(function(){$(e).parents(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).find(app.formErrorsHelper.config.messageClass).remove(),$(e).parents(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).removeClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),$(a).find(app.formErrorsHelper.config.formErrorMessageClass).remove()})),$(".dropzone .dz-default").on("change",(function(){$(e).parents(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).find(app.formErrorsHelper.config.messageClass).remove(),$(e).parents(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).removeClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),$(a).find(app.formErrorsHelper.config.formErrorMessageClass).remove()}))},app.formErrorsHelper.removeFormMessage=function(a){$(a).find(app.formErrorsHelper.config.formErrorMessageClass)&&$(a).find(app.formErrorsHelper.config.formErrorMessageClass).remove()},app.formErrorsHelper.showFormMessage=function(a,e,t){var n="warning";[200,201].includes(t)&&(n="success");var i='<div class="alert alert-'+n+" "+app.removeClassDot(app.formErrorsHelper.config.formErrorMessageClass)+'">';i+=e,i+="</div>",$(a).prepend(i),app.scrollTop(app.formErrorsHelper.config.formErrorMessageClass),app.timeoutFadeOut(app.formErrorsHelper.config.formErrorMessageClass,5e3)},app.formErrorsHelper.removeErrorsOnClickButton=function(a){$(a).find("button").on("click",(function(){$(a).find(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).find(app.formErrorsHelper.config.messageClass).remove(),$(a).find(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).removeClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),$(a).find(app.removeClassDot(app.formErrorsHelper.config.formErrorMessageClass)).remove()}))},app.formErrors=function(a,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:422;$.each(e.errors,(function(e,t){$.each(t,(function(t,n){var i=a+" [name='"+e+"']";if($(i).length||(i=a+" [name='"+e+"[]']"),app.stringHasDot(e)){var o=e.split(".");void 0!==o[0]&&(i=a+" [name='"+o[0]+"']"),$(a+" [name='"+o[0]+"["+o[1]+"]']").length?i=a+" [name='"+o[0]+"["+o[1]+"]']":(i=a+" [name='"+o[0]+'["'+o[1]+"\"]']",$(i).length||(i=a+" [name='"+o[0]+'["'+o[1]+"\"]']"),$(i).length||(i=a+' [name="'+o[0]+"['"+o[1]+"']\"]")),$(i).length||(i=a+" [name='"+o[0]+"[]']")}app.formErrorsHelper.remove(i),app.formErrorsHelper.append(e,i,n),app.formErrorsHelper.keyup(a,i)}))})),app.scrollTop(a),app.formErrorsHelper.removeFormMessage(a),app.formErrorsHelper.showFormMessage(a,e.message,t),app.formErrorsHelper.removeErrorsOnClickButton(a)}}(),function(){"use strict";app.formMessageHelper={},app.formMessageHelper.config={formErrorMessageClass:".form-alert-message"},app.formMessageHelper.removeFormMessage=function(a){$(a).find(app.formMessageHelper.config.formErrorMessageClass)&&$(a).find(app.formMessageHelper.config.formErrorMessageClass).remove()},app.formMessageHelper.showFormMessage=function(a,e,t){var n="success";[200,201].includes(t)||(n="warning");var i='<div class="alert '+app.removeClassDot(app.formMessageHelper.config.formErrorMessageClass)+" alert-"+n+'">';i+=e,i+="</div>",$(a).prepend(i),app.scrollTop(app.formMessageHelper.config.formErrorMessageClass),app.timeoutFadeOut(app.formMessageHelper.config.formErrorMessageClass,3e3)},app.formMessage=function(a,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;app.formMessageHelper.removeFormMessage(a),app.formMessageHelper.showFormMessage(a,e,t)}}(),function(){"use strict";app.formReset=function(a){$(a+" .select2").length&&$(a+" .select2").val("").trigger("change"),$(a)[0].reset()}}(),function(){"use strict";app.tinymcePlugin={},app.tinymcePlugin.image="",app.tinymcePlugin.photoGallery=function(){tinymce.PluginManager.add("photoGallery",(function(a,e){var t=function(){$("#select-image-galley-modal").length&&($("#select-image-galley-modal").modal("show"),window.photoGalleryTarget="tinyMce")};return $(document).delegate('[name="photoImageGallerySelectItem"]',"change",(function(){if(this.checked){var a=$(this).closest(".imagecheck");"tinyMce"===window.photoGalleryTarget&&(app.tinymcePlugin.image={id:this.value,src:a.find("img").data("src"),preview:a.find("img").attr("src"),name:a.find("img").attr("alt")})}})),$(".btn-image-gallery-select").on("click",(function(e){app.tinymcePlugin.image&&a.insertContent('<img src="'+app.tinymcePlugin.image.src+'" data-mce-src="'+app.tinymcePlugin.image.src+'" alt="'+app.tinymcePlugin.image.name+'">')})),a.ui.registry.addButton("insertPhoto",{icon:"gallery",onAction:function(){t()}}),a.ui.registry.addMenuItem("insertPhoto",{text:"Photo gallery",onAction:function(){t()}}),{getMetadata:function(){return{name:"Photo gallery",url:"http://exampleplugindocsurl.com"}}}}))},app.tinymcePlugin.init=function(){"undefined"!=typeof tinymce&&app.tinymcePlugin.photoGallery()},$(document).ready(app.tinymcePlugin.init())}(),function(){"use strict";app.adminUserActivitiesDatatable={},app.adminUserActivitiesDatatable.config={datatable:{selectable:!1,src:"/admin/activities/datatable",resourceName:{singular:"activity",plural:"activities"},columns:[{title:app.trans("Activity"),key:"description",classes:"description-column",searchable:!0,hidden:!1,element:function(a){var e="<span>";return null!=a.causer&&(e+='<a href="/admin/users/'+a.causer.id+'/show" target="_blank">',"N/A"!=a.causer.full_name?e+=a.causer.full_name+"</a> ":e+=app.trans("User with ID")+": "+a.causer.id+"</a> "),e+=a.description,e+=" &#9679; <i>"+a.created_at_for_humans+"</i></span>",e+='<br><span>(<a href="https://whatismyipaddress.com/ip/'+a.properties.user_ip+'" target="_blank" rel="nofollow">'+a.properties.user_ip+"</a>)</span>",$(e)}},{title:app.trans("User agent"),key:"user_agent",classes:"user-agent-column",searchable:!1,hidden:!1,element:function(a){if(void 0!==a.properties.user_agent)var e="<span>"+a.properties.user_agent+"</span>";else e="<span>&nbsp;</span>";return $(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No user activities were found!")},filterTabs:[{label:app.trans("All"),filters:[]}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")}]},limit:25}},app.adminUserActivitiesDatatable.init=function(){app.adminUserActivitiesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminUserActivitiesDatatable.tb=$("#admin-user-activities-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.adminUserActivitiesDatatable.init())}(),function(){"use strict";app.adminEmailTemplateCreate={},app.adminEmailTemplateCreate.config={form:"#email-template-create-form",route:"/admin/email-templates/create"},app.adminEmailTemplateCreate.tinyMCE=function(){tinymce.init({selector:"textarea#create-email-template-content",plugins:["preview","importcss","code","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"],mobile:{plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"]},menubar:"file edit view insert format tools table tc",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange formatpainter removeformat | insertfile image media link anchor codesample | a11ycheck ltr rtl | tpl_button",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,importcss_append:!0,height:600,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table",content_css:["/plugins/tinymce/css/email-templates.css"],a11y_advanced_options:!0,promotion:!1,setup:function(a){a.ui.registry.addButton("tpl_button",{text:app.trans("Add button"),onAction:function(){a.windowManager.open({title:app.trans("Add button"),body:{type:"panel",items:[{type:"input",name:"button_label",label:app.trans("Button label (put your own {shortcode} if you want dynamic value)"),flex:!0},{type:"input",name:"button_link",label:app.trans("Button link (put your own {shortcode} if you want dynamic value)"),flex:!0},{type:"selectbox",name:"button_style",label:app.trans("Button style"),items:[{text:app.trans("Primary"),value:"button button-primary"},{text:app.trans("Success"),value:"button button-success"},{text:app.trans("Error"),value:"button button-error"}],flex:!0}]},onSubmit:function(e){var t='<table class="action" style="box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Helvetica, Arial, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'; position: relative; -premailer-cellpadding: 0; -premailer-cellspacing: 0; -premailer-width: 100%; margin: 30px auto; padding: 0; text-align: center; width: 100%;" role="presentation" width="100%" cellspacing="0" cellpadding="0" align="center">';t+="<tbody>",t+="<tr>",t+="<td style=\"box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; position: relative;\" align=\"center\">",t+='<table style="box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Helvetica, Arial, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'; position: relative;" role="presentation" border="0" width="100%" cellspacing="0" cellpadding="0">',t+="<tbody>",t+="<tr>",t+="<td style=\"box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; position: relative;\" align=\"center\">",t+='<table style="box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Helvetica, Arial, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'; position: relative;" role="presentation" border="0" cellspacing="0" cellpadding="0">',t+="<tbody>",t+="<tr>",t+="<td style=\"box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; position: relative;\"><a class=\"button button-primary\" style=\"box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; position: relative; -webkit-text-size-adjust: none; border-radius: 4px; color: #fff; display: inline-block; overflow: hidden; text-decoration: none; background-color: #2d3748; border-bottom: 8px solid #2d3748; border-left: 18px solid #2d3748; border-right: 18px solid #2d3748; border-top: 8px solid #2d3748;\" href=\""+e.getData().button_link+'" target="_blank" rel="noopener noreferrer">'+e.getData().button_label+"</a></td>",t+="</tr>",t+="</tbody>",t+="</table>",t+="</td>",t+="</tr>",t+="</tbody>",t+="</table>",t+="</td>",t+="</tr>",t+="</tbody>",t+="</table>",a.insertContent(t),e.close()},buttons:[{text:app.trans("Close"),type:"cancel",onclick:"close"},{text:app.trans("Insert"),type:"submit",primary:!0,enabled:!0}]})}})}})},app.adminEmailTemplateCreate.data=function(){var a=$(this.config.form).serializeArray();return a.push({name:"content",value:tinyMCE.get("create-email-template-content").getContent()}),a},app.adminEmailTemplateCreate.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n),app.emailTemplates.groupError(s.responseJSON)}})},app.adminEmailTemplateCreate.init=function(){$(this.config.form).on("submit",this.process.bind(this)),"undefined"!=typeof tinymce&&$("#create-email-template-content").length&&app.adminEmailTemplateCreate.tinyMCE()},$(document).ready(app.adminEmailTemplateCreate.init())}(),function(){"use strict";app.adminEmailTemplateTest={},app.adminEmailTemplateTest.config={get:{route:"/admin/email-templates/get"},send:{route:"/admin/email-templates/send",form:"#email-template-send-form"}},app.adminEmailTemplateTest.data=function(){return $(this.config.send.form).serializeArray()},app.adminEmailTemplateTest.generateDefinedShortcodes=function(a){var e='<div class="form-group"><label>'+app.trans("Defined Shortcodes")+"</label>";e+='<table class="table table-bordered table-md">',e+="<tbody><tr>",e+='<th width="30%">'+app.trans("Shortcode")+"</th>",e+="<th>"+app.trans("Value")+"</th>",e+="</tr>";var t=a.data.defaultShortcodes;$.each(a.data.definedShortcodes,(function(a,n){t.includes(n)||(e+="<tr>",e+="<td>"+n+"</td>",e+='<td><input type="text" name="shortcodes['+n+']" class="form-control"></td>',e+="</tr>")})),e+="</tbody></table></div>",$("#templateDefinedShortcodesTable").html(e)},app.adminEmailTemplateTest.generateDefaultShortcodes=function(a){var e='<div class="form-group"><label>'+app.trans("Default Shortcodes")+"</label>";e+='<table class="table table-bordered table-md">',e+="<tbody><tr>",e+='<th width="30%">'+app.trans("Shortcode")+"</th>",e+="<th>"+app.trans("Value")+"</th>",e+="</tr>",$.each(a.data.defaultShortcodesValues,(function(a,t){e+="<tr>",e+="<td>{"+a+"}</td>",e+="<td>"+t+"</td>",e+="</tr>"})),e+="</tbody></table></div>",$("#templateDefaultShortcodesTable").html(e)},app.adminEmailTemplateTest.select=function(){var a=this;$("#selectTemplate").on("change",(function(){var e=app.adminEmailTemplateTest.config.get.route;$(this).val()?($("#email-template-send-form button").attr("disabled",!1),$.ajax({type:"GET",url:e,data:{id:$(this).val()},success:function(e,t,n){$("#sendToWrapper").show(),$(a.config.send.form+" #id").val(e.data.emailTemplate.id),$("#templateViewer").html(e.data.emailTemplate.content),app.adminEmailTemplateTest.generateDefinedShortcodes(e),app.adminEmailTemplateTest.generateDefaultShortcodes(e)}})):($("#email-template-send-form button").attr("disabled",!0),$("#sendToWrapper").hide(),$(a.config.send.form+" #id").val(""),$("#templateViewer").html(""),$("#templateShortcodesTable").html(""),$("#templateDefaultShortcodesTable").html(""),$("#templateDefinedShortcodesTable").html(""))}))},app.adminEmailTemplateTest.send=function(a){a.preventDefault();var e=this,t=$(e.config.send.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.send.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message)},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.send.form,i.responseJSON,i.status)}})},app.adminEmailTemplateTest.init=function(){app.adminEmailTemplateTest.select(),$(this.config.send.form).on("submit",this.send.bind(this))},$(document).ready(app.adminEmailTemplateTest.init())}(),function(){"use strict";app.adminEmailTemplateUpdate={},app.adminEmailTemplateUpdate.config={form:"#email-template-update-form"},app.adminEmailTemplateUpdate.tinyMCE=function(){tinymce.init({selector:"textarea#edit-email-template-content",plugins:["preview","importcss","code","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"],mobile:{plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"]},menubar:"file edit view insert format tools table tc",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange formatpainter removeformat | insertfile image media link anchor codesample | a11ycheck ltr rtl | tpl_button",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,importcss_append:!0,height:600,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table",content_css:["/plugins/tinymce/css/email-templates.css"],a11y_advanced_options:!0,promotion:!1,setup:function(a){a.ui.registry.addButton("tpl_button",{text:app.trans("Add button"),onAction:function(){a.windowManager.open({title:app.trans("Add button"),body:{type:"panel",items:[{type:"input",name:"button_label",label:app.trans("Button label (put your own {shortcode} if you want dynamic value)"),flex:!0},{type:"input",name:"button_link",label:app.trans("Button link (put your own {shortcode} if you want dynamic value)"),flex:!0},{type:"selectbox",name:"button_style",label:app.trans("Button style"),items:[{text:app.trans("Primary"),value:"button button-primary"},{text:app.trans("Success"),value:"button button-success"},{text:app.trans("Error"),value:"button button-error"}],flex:!0}]},onSubmit:function(e){var t='<table class="action" style="box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Helvetica, Arial, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'; position: relative; -premailer-cellpadding: 0; -premailer-cellspacing: 0; -premailer-width: 100%; margin: 30px auto; padding: 0; text-align: center; width: 100%;" role="presentation" width="100%" cellspacing="0" cellpadding="0" align="center">';t+="<tbody>",t+="<tr>",t+="<td style=\"box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; position: relative;\" align=\"center\">",t+='<table style="box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Helvetica, Arial, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'; position: relative;" role="presentation" border="0" width="100%" cellspacing="0" cellpadding="0">',t+="<tbody>",t+="<tr>",t+="<td style=\"box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; position: relative;\" align=\"center\">",t+='<table style="box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Helvetica, Arial, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'; position: relative;" role="presentation" border="0" cellspacing="0" cellpadding="0">',t+="<tbody>",t+="<tr>",t+="<td style=\"box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; position: relative;\"><a class=\""+e.getData().button_style+'" href="'+e.getData().button_link+'" target="_blank" rel="noopener noreferrer">'+e.getData().button_label+"</a></td>",t+="</tr>",t+="</tbody>",t+="</table>",t+="</td>",t+="</tr>",t+="</tbody>",t+="</table>",t+="</td>",t+="</tr>",t+="</tbody>",t+="</table>",a.insertContent(t),e.close()},buttons:[{text:app.trans("Close"),type:"cancel",onclick:"close"},{text:app.trans("Insert"),type:"submit",primary:!0,enabled:!0}]})}})}})},app.adminEmailTemplateUpdate.data=function(){var a=$(this.config.form).serializeArray();return a.push({name:"content",value:tinyMCE.get("edit-email-template-content").getContent()}),a},app.adminEmailTemplateUpdate.route=function(a){return $(this.config.form).data("action")},app.adminEmailTemplateUpdate.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:app.adminEmailTemplateUpdate.route(),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n),app.emailTemplates.groupError(s.responseJSON)}})},app.adminEmailTemplateUpdate.init=function(){$(this.config.form).on("submit",this.process.bind(this)),"undefined"!=typeof tinymce&&$("#edit-email-template-content").length&&app.adminEmailTemplateUpdate.tinyMCE()},$(document).ready(app.adminEmailTemplateUpdate.init())}(),function(){"use strict";app.adminEmailTemplatesDatatable={},app.adminEmailTemplatesDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to delete email template(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminEmailTemplatesDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminEmailTemplatesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminEmailTemplatesDatatable.config={delete:{route:"/admin/email-templates/delete"},datatable:{src:"/admin/email-templates/datatable",resourceName:{singular:app.trans("email template"),plural:app.trans("email templates")},columns:[{title:app.trans("Code"),key:"code",classes:"email-templates-code-column"},{title:app.trans("Name"),key:"name",classes:"email-templates-name-column"},{title:app.trans("Subject"),key:"subject",classes:"email-templates-subject-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"role-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',app.can("admin.email-templates.edit")&&(e+='<a class="dropdown-item" href="/admin/email-templates/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),e+="</div>",$(e)}}],filterTabs:[{label:app.trans("All"),filters:[]}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No email templates were found!")},sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"name__asc",label:app.trans("Name ( A - Z )")},{value:"name__desc",label:app.trans("Name ( Z - A )")}]},bulkActions:[{title:app.trans("Delete selected email templates"),onAction:app.adminEmailTemplatesDatatable.delete,status:"error"}],limit:25}},app.adminEmailTemplatesDatatable.init=function(){app.adminEmailTemplatesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminEmailTemplatesDatatable.tb=$("#email-templates-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.adminEmailTemplatesDatatable.init())}(),function(){"use strict";app.adminEmailTemplates={},app.adminEmailTemplates.init=function(){},app.adminEmailTemplates.groupError=function(a){a.errors.content&&($("#create-email-template-content").parents(".col-md-12").find(".group-error").length&&$("#create-email-template-content").parents(".col-md-12").find(".group-error").remove(),$.each(a.errors.content,(function(a,e){$("#create-email-template-content").parents(".col-md-12").prepend('<p class="group-error">'+e+"</p>")})),setTimeout((function(){$(".group-error").hide()}),3e3))},$(document).ready(app.adminEmailTemplates.init())}(),function(){"use strict";$(document).ready((function(){var a=function(a){var e=a.length?a.attr("data-lang"):$(a.target).attr("data-lang"),t=(a.length?a:$(a.target)).data("output");if(window.JSON){var n=app.adminMenus.generateData(document.querySelector("#create-menu-item-"+e+" .dd-list"));t.val(window.JSON.stringify(n)),$("#menu-create-output-"+e).val(JSON.stringify(n))}else t.val(app.trans("JSON browser support required."))},e=function(){return $("#language-content > .tab-pane.active.show").attr("id")};void 0!==$.fn.nestable&&$(".create-menu-item").length&&$.each($(".create-menu-item"),(function(){var e=$(this).attr("id"),t=$(this).attr("data-lang");$("#"+e).nestable({group:1,maxDepth:3}).on("change",a),a($("#create-menu-item-"+t).data("output",$("#menu-create-output-"+t)))})),$(document).delegate("#menu-create-form .add-menu-item","click",(function(){app.adminMenus.formReset("#menu-item-create-form"),$("#add-menu-item-modal").modal("show"),$("#menu-item-create-form").removeAttr("data-edit"),$("#menu-item-create-form").removeAttr("data-id"),$('#menu-item-create-form [name="link_type"]').val("Default").trigger("change"),$('#menu-item-create-form [name="name"]').val("")})),$("#menu-item-create-form").on("submit",(function(t){if(t.preventDefault(),$("#menu-item-create-form")[0].checkValidity()){var n=e(),i=$('#menu-item-create-form [name="name"]').val(),o=$('#menu-item-create-form [name="link"]').val(),s=$('#menu-item-create-form [name="link_type"]').val();"Custom"===s&&(o=$('#menu-item-create-form [name="url"]').val());var r=$('#menu-item-create-form [name="class"]').val(),l=$('#menu-item-create-form [name="icon"]').val(),p=0;$('#menu-item-create-form [name="target"]').is(":checked")&&(p=1);var c=0;if($('#menu-item-create-form [name="status"]').is(":checked")&&(c=1),$("#menu-item-create-form").attr("data-edit"))$.each($("#create-menu-item-"+n+" .dd-item"),(function(){$(this).attr("data-id")==$("#menu-item-create-form").attr("data-id")&&($(this).attr("data-name",i),$(this).attr("data-icon",l),$(this).attr("data-type",s),$(this).attr("data-link",o),$(this).attr("data-className",r),$(this).attr("data-target",p),$(this).attr("data-status",c),$(this).find(">.dd3-content>.item-content").html('<span class="'+l+'"></span> '+i+"</span>"))}));else{var d=$("#create-menu-item-"+n+">.dd-list .dd-item").length;d+=1;var u='<li class="dd-item dd3-item" data-id="'+(d=$("#create-menu-item-"+n+">.dd-list .dd-item").length)+'" id="'+d+'" data-name="'+i+'" data-icon="'+l+'" data-type="'+s+'" data-link="'+o+'" data-className="'+r+'" data-target="'+p+'" data-status="'+c+'">';u+='<div class="dd-handle dd3-handle"></div>',u+='<div class="dd3-content">',u+='<span class="item-content"><span class="'+l+'"></span> '+i+'</span>  <span class="float-right menu-item-actions"><i class="fas fa-edit edit-menu-item-data" title="'+app.trans("Edit")+'"></i><i class="fas fa-times remove-menu-item" title="'+app.trans("Remove")+'"></i></span>',u+="</div>",u+="</li>",$("#create-menu-item-"+n+" .dd-empty").remove(),$("#create-menu-item-"+n+">.dd-list").append(u)}app.closeModal(),a($("#create-menu-item-"+n).data("output",$("#menu-create-output-"+n))),app.adminMenus.formReset("#menu-item-create-form")}else $("#menu-item-create-form")[0].reportValidity()})),$(document).delegate(".create-menu-item .remove-menu-item","click",(function(){var t=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove this item!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(n){if(n){var i=e();t.parent().parent().parent().remove(),a($("#create-menu-item-"+i).data("output",$("#menu-create-output-"+i))),app.notify(app.trans("Menu item deleted successfully."))}}})})),$(document).delegate("#menu-create-form .edit-menu-item-data","click",(function(){app.adminMenus.formReset("#menu-item-create-form"),$("#add-menu-item-modal").modal("show");var a=$(this).parents(".dd-item"),e=a.attr("data-id"),t=a.attr("data-name"),n=a.attr("data-icon"),i=a.attr("data-type"),o=a.attr("data-link"),s=a.attr("data-classname"),r=a.attr("data-target"),l=a.attr("data-status");$('#menu-item-create-form [name="name"]').val(t),$('#menu-item-create-form [name="icon"]').val(n).trigger("change"),$('#menu-item-create-form [name="link_type"]').val(i).trigger("change"),"Custom"===i?$('#menu-item-create-form [name="url"]').val(o):$('#menu-item-create-form [name="link"]').val(o).trigger("change"),$('#menu-item-create-form [name="class"]').val(s),1==r&&$('#menu-item-create-form [name="target"]').prop("checked",!0),1==l?$('#menu-item-create-form [name="status"]').prop("checked",!0):$('#menu-item-create-form [name="status"]').prop("checked",!1),$("#menu-item-create-form").attr("data-edit",1),$("#menu-item-create-form").attr("data-id",e)})),$("#menu-create-form").on("submit",(function(a){a.preventDefault();var e=$("#menu-create-form").find(":submit"),t=$("#menu-create-form").data("action"),n=$("#menu-create-form").serializeArray(),i=e.html();$.ajax({type:"POST",url:t,data:n,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,t,n){var o=a;app.formErrors("#menu-create-form",o.responseJSON,o.status),app.backButtonContent(e,i),app.adminMenus.groupError(o.responseJSON,"menu-create-output")}})}))}))}(),function(){"use strict";$(document).ready((function(){var a=function(a){var e=a.length?a.attr("data-lang"):$(a.target).attr("data-lang"),t=(a.length?a:$(a.target)).data("output");if(window.JSON){var n=app.adminMenus.generateData(document.querySelector("#edit-menu-item-"+e+" .dd-list"));t.val(window.JSON.stringify(n)),$("#menu-edit-output-"+e).val(JSON.stringify(n))}else t.val(app.trans("JSON browser support required"))},e=function(){return $("#language-content > .tab-pane.active.show").attr("id")};void 0!==$.fn.nestable&&$(".edit-menu-item").length&&$.each($(".edit-menu-item"),(function(){var e=$(this).attr("id"),t=$(this).attr("data-lang");$("#"+e).nestable({group:1,maxDepth:3}).on("change",a),a($("#edit-menu-item-"+t).data("output",$("#menu-edit-output-"+t)))})),$(document).delegate("#menu-edit-form .add-menu-item","click",(function(){app.adminMenus.formReset("#menu-item-edit-form"),$("#add-menu-item-modal").modal("show"),$("#menu-item-edit-form").removeAttr("data-edit"),$("#menu-item-edit-form").removeAttr("data-id"),$('#menu-item-edit-form [name="link_type"]').val("Default").trigger("change"),$('#menu-item-edit-form [name="name"]').val("")})),$("#menu-item-edit-form").on("submit",(function(t){if(t.preventDefault(),$("#menu-item-edit-form")[0].checkValidity()){var n=e(),i=$('#menu-item-edit-form [name="name"]').val(),o=$('#menu-item-edit-form [name="icon"]').val(),s=$('#menu-item-edit-form [name="class"]').val(),r=$('#menu-item-edit-form [name="link"]').val(),l=$('#menu-item-edit-form [name="link_type"]').val();"Custom"===l&&(r=$('#menu-item-edit-form [name="url"]').val());var p=0;$('#menu-item-edit-form [name="target"]').is(":checked")&&(p=1);var c=0;if($('#menu-item-edit-form [name="status"]').is(":checked")&&(c=1),$("#menu-item-edit-form").attr("data-edit"))$.each($("#edit-menu-item-"+n+" .dd-item"),(function(){$(this).attr("data-id")==$("#menu-item-edit-form").attr("data-id")&&($(this).attr("data-name",i),$(this).attr("data-type",l),$(this).attr("data-link",r),$(this).attr("data-icon",o),$(this).attr("data-className",s),$(this).attr("data-target",p),$(this).attr("data-status",c),$(this).find(">.dd3-content>.item-content").html('<span class="'+o+'"></span> '+i+"</span>"))}));else{var d='<li class="dd-item dd3-item" data-name="'+i+'" data-icon="'+o+'" data-link="'+r+'" data-type="'+l+'" data-className="'+s+'" data-target="'+p+'" data-status="'+c+'">';d+='<div class="dd-handle dd3-handle"></div>',d+='<div class="dd3-content">',d+='<span class="item-content"><span class="'+o+'"></span> '+i+'</span>  <span class="float-right menu-item-actions"><i class="fas fa-edit edit-menu-item-data" title="Edit"></i><i class="fas fa-times remove-menu-item" title="Remove"></i></span>',d+="</div>",d+="</li>",$("#edit-menu-item-"+n+" .dd-empty").remove(),$("#edit-menu-item-"+n+">.dd-list").append(d)}app.closeModal(),a($("#edit-menu-item-"+n).data("output",$("#menu-edit-output-"+n)))}})),$(document).delegate("#menu-edit-form .edit-menu-item-data","click",(function(){var a="#menu-item-edit-form";app.adminMenus.formReset(a),$("#add-menu-item-modal").modal("show");var e=$(this).parents(".dd-item"),t=e.attr("data-id"),n=e.attr("data-name"),i=e.attr("data-icon"),o=e.attr("data-type"),s=e.attr("data-link"),r=e.attr("data-link-title"),l=e.attr("data-classname"),p=e.attr("data-target"),c=e.attr("data-status");$(a+' [name="name"]').val(n),$(a+' [name="icon"]').val(i).trigger("change"),$(a+' [name="class"]').val(l),$(a+' [name="link_type"]').val(o).trigger("change"),"Custom"===o?$(a+' [name="url"]').val(s):(r&&$(a+' [name="link"]').append($("<option>",{value:s,text:r})),$(a+' [name="link"]').val(s).trigger("change")),1==p&&$(a+' [name="target"]').prop("checked",!0),1==c?$(a+' [name="status"]').prop("checked",!0):$(a+' [name="status"]').prop("checked",!1),$(a).attr("data-edit",1),$(a).attr("data-id",t)})),$(document).delegate(".edit-menu-item .remove-menu-item","click",(function(){var t=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove this item!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(n){if(n){var i=t.parent().parent().parent();$.ajax({type:"delete",url:"/admin/menus/menu-items/delete",data:{id:i.attr("data-id")},success:function(t,n,o){var s=e();i.remove(),a($("#edit-menu-item-"+s).data("output",$("#menu-edit-output-"+s))),app.notify(t.message)},error:function(a){app.notify(a.message)}})}}})})),$("#menu-edit-form").on("submit",(function(a){a.preventDefault();var e=$("#menu-edit-form").find(":submit"),t=$("#menu-edit-form").data("action"),n=$("#menu-edit-form").serializeArray(),i=e.html();$.ajax({type:"POST",url:t,data:n,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,t,n){var o=a;app.formErrors("#menu-edit-form",o.responseJSON,o.status),app.adminMenus.groupError(o.responseJSON,"menu-edit-output"),app.backButtonContent(e,i)}})}))}))}(),function(){"use strict";app.adminMenusDatatable={},app.adminMenusDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to delete menu!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminMenusDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminMenusDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminMenusDatatable.config={delete:{route:"/admin/menus/delete"},datatable:{src:"/admin/menus/datatable",resourceName:{singular:"menu",plural:"menus"},columns:[{title:app.trans("Name"),key:"name",classes:"menu-name-column"},{title:app.trans("Type"),key:"type",classes:"menu-type-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',app.can("admin.menus.edit")&&(e+='<a class="dropdown-item" href="/admin/menus/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No menus were found!")},filterTabs:[{label:app.trans("All"),filters:[]}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected menus"),onAction:app.adminMenusDatatable.delete,status:"error"}],limit:25}},app.adminMenusDatatable.init=function(){app.adminMenusDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminMenusDatatable.tb=$("#menus-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.adminMenusDatatable.init())}(),function(){"use strict";function a(a){return function(a){if(Array.isArray(a))return e(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,t){if(a){if("string"==typeof a)return e(a,t);var n=Object.prototype.toString.call(a).slice(8,-1);return"Object"===n&&a.constructor&&(n=a.constructor.name),"Map"===n||"Set"===n?Array.from(a):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(a,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(a,e){(null==e||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}app.adminMenus={},app.adminMenus.generateData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a(e.children).reduce((function(a,e){e.querySelector(".dd3-content .item-content");var n=e.querySelector("ol.dd-list"),i={pid:t};return $.each(e.attributes,(function(){if(this.name.includes("data-")){var a=this.name.replace("data-","");i[a]=this.value}})),n&&(i.children=app.adminMenus.generateData(n,t+1)),a.push(i),a}),[])},app.adminMenus.groupError=function(a,e){void 0!==a.errors&&a.errors[e]&&($("#language-tab").parents(".col-md-12").find(".group-error").length&&$("#language-tab").parents(".col-md-12").find(".group-error").remove(),$.each(a.errors[e],(function(a,e){$("#language-tab").parents(".col-md-12").prepend('<p class="group-error">'+e+"</p>")})),setTimeout((function(){$(".group-error").hide()}),3e3))},app.adminMenus.formReset=function(a){app.formReset(a),app.adminMenus.resetIconSelect2()},app.adminMenus.resetIconSelect2=function(){$(".icon-select2").length&&$(".icon-select2").val("").trigger("change")},app.adminMenus.resetLinkSelect2=function(){$("#menu-links").length&&$("#menu-links").select2({ajax:{url:"/admin/menus/menu-lists",data:function(a){var e={page:a.page||1,limit:100,search:a.term,type:$('[name="link_type"]').val()};return $("#select2-menu-links-results").append($('<li class="select2-results__option select2-results__message select2-loader"><i class="fas fa-spinner fa-spin"></i></li>')),e},processResults:function(a){return $("#select2-menu-links-results").find(".select2-loader").remove(),a},cache:!0},placeholder:"Search for a link"})},$(document).ready((function(){void 0!==$.fn.select2&&($(".icon-select2").select2({escapeMarkup:function(a){return'<span class="fa-2x '+a+'"></span> '+a.replace("fas","")}}),app.adminMenus.resetLinkSelect2(),$('[name="link_type"]').on("change",(function(){if($("#menu-links").val(null).trigger("change"),"Custom"===this.value)$(".menu-link-route-type").addClass("d-none"),$(".menu-link-url-type").removeClass("d-none"),$('[name="link"]').removeAttr("required"),$('[name="url"]').prop("required",!0);else{app.adminMenus.resetLinkSelect2(),$(".menu-link-route-type").removeClass("d-none"),$(".menu-link-url-type").addClass("d-none"),$('[name="link"]').prop("required",!0),$('[name="url"]').removeAttr("required");var a=$("#menu-links").next();"Default"===this.value?a.find(".select2-selection__placeholder").html(app.trans("Search for links")):"Blog"===this.value?a.find(".select2-selection__placeholder").html(app.trans("Search for blogs")):a.find(".select2-selection__placeholder").html(app.trans("Search for pages"))}})),$("#menu-links").on("change",(function(){var a=$(this).closest("form").find('[name="name"]');a.length&&!a.val()&&a.val(this.textContent.trim())})),$('[name="type"]').on("change",(function(){var a=$('[name="link_type"]');a.length&&("Frontend"===this.value?a.find("option").map((function(){["Blog","Page"].includes(this.innerText)&&$(this).removeAttr("disabled")})):a.find("option").map((function(){["Blog","Page"].includes(this.innerText)&&$(this).prop("disabled",!0)}))),a.val(a.find("option:first").val())})))}))}(),function(){"use strict";app.adminOrderDatatable={},app.adminOrderDatatable.config={datatable:"#admin-orders-datatable",options:{src:"/admin/orders/datatable",resourceName:{singular:app.trans("order"),plural:app.trans("orders")},columns:[{title:app.trans("Date"),key:"date",classes:"order-date-column",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"amount",classes:"order-amount-column hidden md:table-cell",searchable:!1,orderable:!1},{title:app.trans("Items"),key:"items_count",classes:"order-amount-column hidden md:table-cell",searchable:!1,orderable:!1},{title:app.trans("Tracking"),key:"status",classes:"order-status-column hidden md:table-cell",element:function(a){var e=a.status.charAt(0).toUpperCase()+a.status.slice(1),t='<div class="btn-group">';if(t+='<button type="button" class="btn btn-sm btn-'+a.tracking_status_color+'">'+e+"</button>",a.tracking_transitions.length){t+='<button type="button" class="btn btn-sm btn-'+a.tracking_status_color+' dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-expanded="false"><span class="sr-only">Toggle Dropdown</span></button>',t+='<div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; transform: translate3d(119px, 35px, 0px); top: 0px; left: 0px; will-change: transform;">';for(var n=0;n<a.tracking_transitions.length;n++){var i=a.tracking_transitions[n];e=i.split("_").map((function(a){return a[0].toUpperCase()+a.substring(1)})).join(" "),t+='<a class="dropdown-item btn-tracking-transition" data-id="'+a.id+'" data-status="'+i+'" href="#" role="button">'+e+"</a>"}t+="</div>"}return t+="</div>",$(t)}},{title:app.trans("Payment status"),key:"paid",classes:"order-paid-column hidden md:table-cell",element:function(a){var e=a.status.charAt(0).toUpperCase()+a.status.slice(1),t="warning";return e="Pending",a.paid&&(t="primary",e="Paid"),$('<span class="badge badge-'+t+'">'+e+"</span>")}},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/orders/'+a.id+'/show">'+app.trans("Show details")+"</a>",e+='<a class="dropdown-item btn-download-invoice-order" href="/admin/orders/'+a.id+'/download-invoice">'+app.trans("Download invoice")+"</a>",a.paid||(e+='<a class="dropdown-item text-danger btn-cancel-order" data-route="/admin/orders/'+a.id+'/cancel" href="#">'+app.trans("Cancel order")+"</a>"),e+="</div>",$(e)}}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")}]},selectable:!1}},app.adminOrderDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminOrderDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminOrderDatatable.init=function(){this.initDatatable()},$(document).ready(app.adminOrderDatatable.init())}(),function(){"use strict";app.adminPermissionCreate={},app.adminPermissionCreate.config={form:"#permission-create-form",route:"/admin/permissions/create"},app.adminPermissionCreate.data=function(){return $(this.config.form).serializeArray()},app.adminPermissionCreate.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.adminPermissionCreate.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.adminPermissionCreate.init())}(),function(){"use strict";app.adminPermissionsDatatable={},app.adminPermissionsDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to delete user permission(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminPermissionsDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminPermissionsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminPermissionsDatatable.config={delete:{route:"/admin/permissions/delete"},datatable:{src:"/admin/permissions/datatable",resourceName:{singular:"permission",plural:"permissions"},columns:[{title:app.trans("Name"),key:"name",classes:"permission-name role-name-column"},{title:app.trans("Display Name"),key:"display_name",classes:"hidden md:table-cell"},{title:app.trans("Guard Name"),key:"guard_name",classes:"guard-name hidden md:table-cell"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"role-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',app.can("admin.permissions.edit")&&(e+='<a class="dropdown-item" href="/admin/permissions/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),e+="</div>",$(e)}}],filterTabs:[{label:app.trans("All"),filters:[]}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No permissions were found!")},sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected permissions"),onAction:app.adminPermissionsDatatable.delete,status:"error"}],limit:25}},app.adminPermissionsDatatable.init=function(){app.adminPermissionsDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminPermissionsDatatable.tb=$("#permissions-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.adminPermissionsDatatable.init())}(),function(){"use strict";app.adminPermissionUpdate={},app.adminPermissionUpdate.config={form:"#permission-edit-form"},app.adminPermissionUpdate.data=function(){return $(this.config.form).serializeArray()},app.adminPermissionUpdate.route=function(a){return $(this.config.form).data("action")},app.adminPermissionUpdate.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:app.adminPermissionUpdate.route(),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.adminPermissionUpdate.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.adminPermissionUpdate.init())}(),function(){"use strict";app.adminRoleCreate={},app.adminRoleCreate.config={form:"#roles-create-form",route:"/admin/roles/create"},app.adminRoleCreate.data=function(){return $(this.config.form).serializeArray()},app.adminRoleCreate.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.adminRoleCreate.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.adminRoleCreate.init())}(),function(){"use strict";app.adminRolesDatatable={},app.adminRolesDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to delete user role(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminRolesDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminRolesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminRolesDatatable.config={delete:{route:"/admin/roles/delete"},datatable:{src:"/admin/roles/datatable",resourceName:{singular:app.trans("role"),plural:app.trans("roles")},columns:[{title:app.trans("Name"),key:"name",classes:"role-name-column"},{title:app.trans("Display Name"),key:"display_name",classes:"hidden md:table-cell"},{title:app.trans("Type"),key:"type",classes:"hidden md:table-cell"},{title:app.trans("Description"),key:"description",classes:"hidden md:table-cell"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"role-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',app.can("admin.roles.edit")&&(e+='<a class="dropdown-item" href="/admin/roles/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No roles were found!")},filterTabs:[{label:app.trans("All"),filters:[]}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected roles"),onAction:app.adminRolesDatatable.delete,status:"error"}],limit:25}},app.adminRolesDatatable.init=function(){app.adminRolesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminRolesDatatable.tb=$("#roles-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.adminRolesDatatable.init())}(),function(){"use strict";app.adminRoles={},app.adminRoles.groupError=function(a){a.errors.permissions&&($("#accordion-permissions .group-error").length&&$("#accordion-permissions .group-error").remove(),$.each(a.errors.permissions,(function(a,e){$("#accordion-permissions").prepend('<p class="group-error">'+e+"</p>")})),setTimeout((function(){$(".group-error").hide()}),3e3))},app.adminRoles.tableCheckAll=function(){var a="#table-role-permissions";$.each($(".select-all-module-permissions").parents("tr"),(function(){var e=$(this),t=e.find(".select-all-module-permissions").attr("data-class");$.each(e.find(".select-module-permission"),(function(){var e=$(this).attr("data-class");$(a).TableCheckAll({checkAllCheckboxClass:"."+t,checkboxClass:"."+e})}))})),$(a).TableCheckAll({checkAllCheckboxClass:".select-all-permissions",checkboxClass:".select-permission"})},app.adminRoles.init=function(){app.adminRoles.tableCheckAll()},$(document).ready(app.adminRoles.init())}(),function(){"use strict";app.adminRolesUpdate={},app.adminRolesUpdate.config={form:"#roles-edit-form"},app.adminRolesUpdate.data=function(){return $(this.config.form).serializeArray()},app.adminRolesUpdate.route=function(a){return $(this.config.form).data("action")},app.adminRolesUpdate.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:app.adminRolesUpdate.route(),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.adminRolesUpdate.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.adminRolesUpdate.init())}(),function(){"use strict";app.usersCreate={},app.usersCreate.config={form:"#user-create-form"},app.usersCreate.data=function(){return $(this.config.form).serializeArray()},app.usersCreate.route=function(a){return $(this.config.form).data("action")},app.usersCreate.sendInvitationCheckbox=function(){$('[name="send_invitation"]').on("click",(function(){$(this).is(":checked")||""!=$('[name="password"]').val()||$(this).prop("checked",!0)})),$('[name="password"]').on("change",(function(){""==$(this).val()&&$('[name="send_invitation"]').prop("checked",!0)}))},app.usersCreate.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:app.usersCreate.route(),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.usersCreate.init=function(){app.usersCreate.sendInvitationCheckbox(),$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.usersCreate.init())}(),function(){"use strict";app.adminUsersDatatable={},app.adminUsersDatatable.hasSubscription=function(){return $("#users-datatable").attr("data-has-subscription")},app.adminUsersDatatable.hasWallet=function(){return $("#users-datatable").attr("data-has-wallet")},app.adminUsersDatatable.subscriptionFilterControler=function(){return{key:"subscriptions",title:app.trans("Subscription"),choices:[{label:app.trans("None"),value:"no_subscription"},{label:app.trans("Trialing"),value:"trialing"},{label:app.trans("Active"),value:"active"},{label:app.trans("Past Due"),value:"past_due"},{label:app.trans("Cancelled"),value:"cancelled"},{label:app.trans("Ended"),value:"ended"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}},app.adminUsersDatatable.walletFilterControler=function(){return{key:"wallet",title:app.trans("Wallet"),choices:[{label:app.trans("Has Balance"),value:"has_balance"},{label:app.trans("No Balance"),value:"no_balance"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}},app.adminUsersDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to delete user(s)."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminUsersDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminUsersDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminUsersDatatable.multiBan=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to ban user(s)."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"patch",url:app.adminUsersDatatable.config.multiBan.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminUsersDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminUsersDatatable.multiEnable=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to enable user(s)."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"patch",url:app.adminUsersDatatable.config.multiEnable.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminUsersDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminUsersDatatable.multiConfirm=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to confirm user(s)."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"patch",url:app.adminUsersDatatable.config.multiConfirm.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminUsersDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminUsersDatatable.avatar=function(a){return null===a?app.config.avatarDefault:a},app.adminUsersDatatable.config={delete:{route:"/admin/users/delete"},multiBan:{route:"/admin/users/multi-ban"},multiEnable:{route:"/admin/users/multi-enable"},multiConfirm:{route:"/admin/users/multi-confirm"},datatable:{src:"/admin/users/datatable",resourceName:{singular:"user",plural:"users"},columns:[{title:"",key:"avatar",classes:"users-avatar-row",searchable:!1,element:function(a){var e='<img src="'+app.adminUsersDatatable.avatar(a.avatar)+'" class="rounded-circle img-responsive" width="40">';return $(e)}},{title:app.trans("Name"),key:"full_name",searchable:!1,classes:"",element:function(a){var e='<p style="margin-bottom: 0;">';return" "!=a.full_name?e+='<span style="font-weight: bold;"><a href="/admin/users/'+a.id+'/overview">'+a.full_name+"</a></span><br>":e+='<span style="font-weight: bold;"><a href="/admin/users/'+a.id+'/overview">'+app.trans("N/A")+"</a></span><br>",e+='<span class="text-muted">'+a.email+"</span><br>",null!==a.username&&(e+='<span class="text-muted">'+a.username+"</span>"),e+="</p>",$(e)}},{title:app.trans("First Name"),key:"first_name",searchable:!0,hidden:!0},{title:app.trans("Last Name"),key:"last_name",searchable:!0,hidden:!0},{title:app.trans("Email"),key:"email",searchable:!0,hidden:!0},{title:app.trans("Username"),key:"username",searchable:!0,hidden:!0},{title:app.trans("Last Login"),key:"last_login_for_humans",searchable:!1,classes:"users-last-login-row"},{title:app.trans("Joined"),key:"created_at_for_humans",searchable:!1,classes:"users-joined-row"},{title:app.trans("Status"),key:"status",searchable:!1,classes:"users-status-row",element:function(a){var e="badge-success",t=a.status;return"Active"!=a.status&&(e="badge-danger"),null===a.email_verified_at&&"Active"==a.status&&(e="badge-warning",t="Unconfirmed"),$('<span class="badge '+e+'">'+t+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"users-edit-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',app.can("admin.users.edit")&&(e+='<a class="dropdown-item" href="/admin/users/'+a.id+'/edit/user-information"><i class="fas fa-edit"></i> '+app.trans("Edit user information")+"</a>"),app.can("admin.users.edit-user-settings")&&(e+='<a class="dropdown-item" href="/admin/users/'+a.id+'/edit/user-settings"><i class="fas fa-edit"></i> '+app.trans("Edit user settings")+"</a>"),app.can("admin.users.billing")&&(e+='<a class="dropdown-item" href="/admin/users/'+a.id+'/billing"><i class="fas fa-edit"></i> '+app.trans("Billing & Plan")+"</a>"),a.can_be_impersonated&&(e+='<a class="dropdown-item" href="/admin/users/'+a.id+'/impersonate"><i class="fas fa-user-secret"></i> '+app.trans("Impersonate")+"</a>"),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No users were found!")},filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("Active"),filters:[{key:"status",value:"Active"}]},{label:app.trans("Banned"),filters:[{key:"status",value:"Banned"}]},{label:app.trans("Unconfirmed"),filters:[{key:"status",value:"Unconfirmed"}]}],filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Active"),value:"Active"},{label:app.trans("Banned"),value:"Banned"},{label:app.trans("Unconfirmed"),value:"Unconfirmed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""},{key:"role",title:app.trans("Role"),choices:[],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"first_name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"first_name__desc",label:app.trans("Name")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminUsersDatatable.delete},{title:app.trans("Enable selected"),onAction:app.adminUsersDatatable.multiEnable},{title:app.trans("Ban selected"),onAction:app.adminUsersDatatable.multiBan},{title:app.trans("Confirm selected"),onAction:app.adminUsersDatatable.multiConfirm}],limit:25}},app.adminUsersDatatable.init=function(){if(app.adminUsersDatatable.tb={},void 0!==$.fn.JsDataTable){var a=this.config.datatable;1==app.adminUsersDatatable.hasSubscription()&&a.filterControl.push(app.adminUsersDatatable.subscriptionFilterControler()),1==app.adminUsersDatatable.hasWallet()&&a.filterControl.push(app.adminUsersDatatable.walletFilterControler()),app.adminUsersDatatable.tb=$("#users-datatable").JsDataTable(a),$("#users-datatable").length&&$.ajax({type:"GET",url:"/admin/users/all-roles",success:function(a,e,t){var n=[];$.each(a,(function(a,e){var t={};t.label=e.display_name,t.value=e.id,n.push(t)})),app.adminUsersDatatable.tb.loadFilters("role",n)}})}},$(document).ready(app.adminUsersDatatable.init())}(),function(){"use strict";app.adminUsers={},app.adminUsers.confirm=function(){$(".btn-confirm-user").on("click",(function(){var a=[],e=$(this),t=e.html();a.push($(this).data("id")),bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to confirm this user."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(n){n&&$.ajax({type:"patch",url:app.adminUsersDatatable.config.multiConfirm.route,data:{ids:a},beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){location.reload()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(e,t)}})}})}))},app.adminUsers.enable=function(){$(".btn-enable-user").on("click",(function(){var a=[],e=$(this),t=e.html();a.push($(this).data("id")),bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to enable this user."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(n){n&&$.ajax({type:"patch",url:app.adminUsersDatatable.config.multiEnable.route,data:{ids:a},beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){location.reload()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(e,t)}})}})}))},app.adminUsers.ban=function(){$(".btn-ban-user").on("click",(function(){var a=[],e=$(this),t=e.html();a.push($(this).data("id")),bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to ban this user."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(n){n&&$.ajax({type:"patch",url:app.adminUsersDatatable.config.multiBan.route,data:{ids:a},beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){location.reload()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(e,t)}})}})}))},app.adminUsers.init=function(){app.adminUsers.confirm(),app.adminUsers.enable(),app.adminUsers.ban()},$(document).ready(app.adminUsers.init())}(),function(){"use strict";app.usersUpdate={},app.usersUpdate.config={form:"#user-details-form"},app.usersUpdate.data=function(){return $(this.config.form).serializeArray()},app.usersUpdate.route=function(a){return $(this.config.form).data("action")},app.usersUpdate.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:app.usersUpdate.route(),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){location.reload()},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.usersUpdate.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.usersUpdate.init())}(),function(){"use strict";app.usersUpdateSettings={},app.usersUpdateSettings.config={form:"#user-settings-form"},app.usersUpdateSettings.data=function(){return $(this.config.form).serializeArray()},app.usersUpdateSettings.route=function(a){return $(this.config.form).data("action")},app.usersUpdateSettings.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:app.usersUpdateSettings.route(),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){location.reload()},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.usersUpdateSettings.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.usersUpdateSettings.init())}(),function(){"use strict";app.adminAddWalletBalance={},app.adminAddWalletBalance.config={form:"#user-add-balance-admin-form",route:"/admin/wallet/add-balance"},app.adminAddWalletBalance.ajax=function(){$(app.adminAddWalletBalance.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminAddWalletBalance.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminAddWalletBalance.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminAddWalletBalance.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminAddWalletBalance.init=function(){app.adminAddWalletBalance.ajax()},$(document).ready(app.adminAddWalletBalance.init())}(),function(){"use strict";app.adminAffiliateCommissionApprove={},app.adminAffiliateCommissionApprove.config={button:".btn-admin-commission-approve"},app.adminAffiliateCommissionApprove.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this).closest(".dropdown-menu").prev(),t=e.html(),n=$(this).data("name")||$(this).data("email"),i=$(this).data("route");bootbox.confirm({title:app.trans("Approve commission?"),message:app.trans("Do you want to approve :name commission?",{name:n}),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Approve now")}},callback:function(a){a&&$.ajax({type:"PUT",url:i,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminAffiliateCommissionDatatable.table.refresh()}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminAffiliateCommissionApprove.init=function(){this.ajax()},$(document).ready(app.adminAffiliateCommissionApprove.init())}(),function(){"use strict";app.adminAffiliateCommissionDatatable={},app.adminAffiliateCommissionDatatable.config={dpButton:"#admin-affiliate-action-dropdown",datatable:"#admin-affiliate-commissions-datatable",options:{src:"/admin/affiliates/commissions/datatable",resourceName:{singular:app.trans("commission"),plural:app.trans("commissions")},columns:[{title:app.trans("Affiliate"),key:"affiliate",classes:"admin-commission-affiliate-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.affiliate.user.full_name,'</strong>\n                            <span class="text-muted text-sm">').concat(a.affiliate.user.email,"</span>\n                        </div>\n                    "))}},{title:app.trans("Referred user"),key:"referred",classes:"admin-commission-referred-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.user.full_name,'</strong>\n                            <span class="text-muted text-sm">').concat(a.user.email,"</span>\n                        </div>\n                    "))}},{title:app.trans("Amount"),key:"withdrawable_amount",classes:"admin-commission-withdrawable-amount-row",searchable:!1,orderable:!1},{title:app.trans("Type"),key:"type",classes:"admin-commission-type-row"},{title:app.trans("Date"),key:"date",classes:"user-commission-date-row"},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){return"Rejected"===a.status_label&&a.rejected_reason?$('<span class="badge badge-'+a.status_color+'" data-toggle="tooltip" data-original-title="'+a.rejected_reason+'">'+a.status_label+"</span>"):$('<span class="badge badge-'+a.status_color+'">'+a.status_label+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"admin-affiliate-actions-row tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="admin-affiliate-action-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu" data-button="#admin-affiliate-action-dropdown">',e+='<a class="dropdown-item btn-admin-commission-view-details" role="button" href="javascript:void(0)" data-id="'+a.id+'">'+app.trans("View details")+"</a>","Withdrawable"!==a.status_label&&"Completed"!==a.status_label&&"Rejected"!==a.status_label&&(e+='<a class="dropdown-item btn-admin-commission-approve" role="button" href="javascript:void(0)" data-route="/admin/affiliates/commissions/'+a.id+'/approve" data-name="'+a.affiliate.user.full_name+'" data-email="'+a.affiliate.user.email+'">'+app.trans("Approve now")+"</a>"),"Completed"!==a.status_label&&"Rejected"!==a.status_label&&(e+='<a class="dropdown-item btn-admin-commission-reject" role="button" href="javascript:void(0)" data-route="/admin/affiliates/commissions/'+a.id+'/reject" data-name="'+a.affiliate.user.full_name+'" data-email="'+a.affiliate.user.email+'">'+app.trans("Reject")+"</a>"),e+="</div>",$(e)}},{title:"user",key:"user.first_name",hidden:!0},{title:"user",key:"user.last_name",hidden:!0},{title:"user",key:"user.email",hidden:!0},{title:"affiliate",key:"affiliate.user.first_name",hidden:!0},{title:"affiliate",key:"affiliate.user.last_name",hidden:!0},{title:"affiliate",key:"affiliate.user.email",hidden:!0},{title:"amount",key:"amount",hidden:!0},{title:"rate",key:"rate",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No commissions were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("For verification"),value:"For verification"},{label:app.trans("Withdrawable"),value:"Withdrawable"},{label:app.trans("Completed"),value:"Completed"},{label:app.trans("Rejected"),value:"Rejected"}],hidden:!0,shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("For verification"),filters:[{key:"status",value:"For verification"}]},{label:app.trans("Withdrawable"),filters:[{key:"status",value:"Withdrawable"}]},{label:app.trans("Completed"),filters:[{key:"status",value:"Completed"}]},{label:app.trans("Rejected"),filters:[{key:"status",value:"Rejected"}]}],selectable:!1,sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:25}},app.adminAffiliateCommissionDatatable.initShowDetails=function(){$(document).delegate(".btn-admin-commission-view-details","click",(function(){var a=$(this).closest("a").data("id"),e=app.adminAffiliateCommissionDatatable.table.findItem("id",parseInt(a));if(e){var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Affiliate"),'</span>\n                                <div class="d-flex flex-column">\n                                    <strong class="lh-sm mb-1">').concat(e.affiliate.user.full_name,'</strong>\n                                    <span class="text-muted text-sm lh-sm">').concat(e.affiliate.user.email,'</span>\n                                </div>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Referred user"),'</span>\n                                <div class="d-flex flex-column">\n                                    <strong class="lh-sm mb-1">').concat(e.user.full_name,'</strong>\n                                    <span class="text-muted text-sm lh-sm">').concat(e.user.email,'</span>\n                                </div>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Type"),"</span>\n                                <span>\n                                    ").concat(e.type,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Rate"),"</span>\n                                <span>\n                                    ").concat(e.rate,'%\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.withdrawable_amount,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Status"),"</span>\n                                <span>\n                                    ").concat(e.status_label,"\n                                </span>\n                            </div>\n                        </li>");"rejected"===e.status&&e.rejected_reason&&(t+='<li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Reject reason"),"</span>\n                                <span>\n                                    ").concat(e.rejected_reason,"\n                                </span>\n                            </div>\n                        </li>")),t+="</ul>",bootbox.dialog({title:app.trans("Commission details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.adminAffiliateCommissionDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminAffiliateCommissionDatatable.table=$(this.config.datatable).JsDataTable(this.config.options),$(this.config.datatable).on("table:draw.finish",(function(a,e){$('[data-toggle="tooltip"]').tooltip()})))},app.adminAffiliateCommissionDatatable.init=function(){this.initDatatable(),this.initShowDetails()},$(document).ready(app.adminAffiliateCommissionDatatable.init())}(),function(){"use strict";app.adminAffiliateCommissionReject={},app.adminAffiliateCommissionReject.config={button:".btn-admin-commission-reject"},app.adminAffiliateCommissionReject.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this).closest(".dropdown-menu").prev(),t=e.html(),n=$(this).data("name")||$(this).data("email"),i=$(this).data("route");bootbox.prompt({title:app.trans("Do you want to reject affiliate commission of :user?",{user:n}),inputType:"textarea",callback:function(a){null!==a&&$.ajax({type:"PUT",url:i,data:{reason:a},beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminAffiliateCommissionDatatable.table.refresh()}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminAffiliateCommissionReject.init=function(){this.ajax()},$(document).ready(app.adminAffiliateCommissionReject.init())}(),function(){"use strict";app.adminAffiliateCommissionTypeDisable={},app.adminAffiliateCommissionTypeDisable.config={button:".btn-admin-affiliate-setting-disable"},app.adminAffiliateCommissionTypeDisable.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this).closest(".dropdown-menu").prev(),t=e.html(),n=$(this).data("name"),i=$(this).data("route");bootbox.confirm({title:app.trans("Disable commission type?"),message:app.trans("Do you want to disable :name type?",{name:n}),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Disable")}},callback:function(a){a&&$.ajax({type:"PUT",url:i,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminAffiliateCommissionTypeDisable.init=function(){this.ajax()},$(document).ready(app.adminAffiliateCommissionTypeDisable.init())}(),function(){"use strict";app.adminAffiliateCommissionTypeEnable={},app.adminAffiliateCommissionTypeEnable.config={button:".btn-admin-affiliate-setting-enable"},app.adminAffiliateCommissionTypeEnable.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this).closest(".dropdown-menu").prev(),t=e.html(),n=$(this).data("name"),i=$(this).data("route");bootbox.confirm({title:app.trans("Enable commission type?"),message:app.trans("Do you want to enable :name type?",{name:n}),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Enable")}},callback:function(a){a&&$.ajax({type:"PUT",url:i,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminAffiliateCommissionTypeEnable.init=function(){this.ajax()},$(document).ready(app.adminAffiliateCommissionTypeEnable.init())}(),function(){"use strict";app.adminAffiliateCommissionTypeUpdate={},app.adminAffiliateCommissionTypeUpdate.config={showModalBtn:".btn-admin-affiliate-setting-edit",modal:"#admin-edit-commission-type-modal",form:"#admin-edit-commission-type-form",btnAddLevel:".btn-add-commission-type-level",btnRemoveLevel:".btn-remove-affiliate-commission-type-level"},app.adminAffiliateCommissionTypeUpdate.route=function(){var a=$(this.config.form).find('[name="id"]').val();return"/admin/affiliates/commission-types/".concat(a,"/update")},app.adminAffiliateCommissionTypeUpdate.data=function(){var a=new FormData;a.append("status",$(this.config.form).find('[name="active"]:checked').length);var e={};$(this.config.form).find(".affilliate-commission-type-conditions input").map((function(a,t){e[t.name]=t.checked?1:0})),a.append("conditions",JSON.stringify(e));var t=$(this.config.form).find(".affiliate-commission-type-levels tr").map((function(a,e){return $(e).find("input.commission-type-level").val()})).get();return a.append("levels",JSON.stringify(t)),a},app.adminAffiliateCommissionTypeUpdate.ajax=function(){var a=this;$(a.config.form).on("submit",(function(e){e.preventDefault();var t=$(a.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:a.route(),data:a.data(),contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(e,i,o){var s=e;app.formErrors(a.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})}))},app.adminAffiliateCommissionTypeUpdate.initEditModal=function(){var a=this;$(document).delegate(a.config.showModalBtn,"click",(function(e){var t=$(this).closest("tr").data("json");if($(a.config.form).find('[name="id"]').val(t.id),$(a.config.form).find('[name="name"]').val(t.name),$(a.config.form).find('[name="active"]').prop("checked",!!t.active),t.conditions&&Object.keys(t.conditions).length)for(var n in $(".affilliate-commission-type-conditions").append('<h6 class="mb-2">'+app.trans("Conditions")+"</h6>"),t.conditions){var i=t.conditions[n],o='<div class="form-group">\n                        <div class="custom-control custom-checkbox">\n                            <input type="checkbox" class="custom-control-input" name="'.concat(n,'" id="').concat(n,'" ').concat(!!i&&'checked="checked"','>\n                            <label class="custom-control-label" for="').concat(n,'">').concat(app.adminAffiliateCommistionTypeView.getConditionName(n),"</label>\n                        </div>\n                    </div>");$(".affilliate-commission-type-conditions").append(o)}for(var s=0;s<t.levels.length;s++){var r=t.levels[s];o="<tr>\n                            <td>".concat(app.trans("Level :level",{level:s+1}),'</td>\n                            <td>\n                                <div class="form-group mb-0">\n                                    <input type="text" class="form-control commission-type-level" data-decimals="2" value="').concat(r,'">\n                                </div>\n                            </td>\n                            <td class="text-right">\n                                <a href="javascript:void(0)" class="btn btn-icon btn-block btn-danger btn-remove-affiliate-commission-type-level ').concat(1===t.levels.length?"disabled":"",'" ').concat(1===t.levels.length?'disabled="disabled"':"",'><i class="fas fa-times"></i></a>\n                            </td>\n                        </tr>'),$(a.config.form).find(".affiliate-commission-type-levels tbody").append(o)}$(a.config.modal).modal("show")}))},app.adminAffiliateCommissionTypeUpdate.addLevel=function(){var a=this;$(a.config.btnAddLevel).on("click",(function(){$(a.config.form).find(".affiliate-commission-type-levels tbody tr a.btn-remove-affiliate-commission-type-level").removeClass("disabled").prop("disabled",!1);var e=$(a.config.form).find(".affiliate-commission-type-levels tbody tr").length;$(a.config.form).find(".affiliate-commission-type-levels tbody").append("\n            <tr>\n                <td>".concat(app.trans("Level :level",{level:e+1}),'</td>\n                <td>\n                    <div class="form-group mb-0">\n                        <input type="text" class="form-control commission-type-level" data-decimals="2" value="1">\n                    </div>\n                </td>\n                <td class="text-right">\n                    <a href="javascript:void(0)" class="btn btn-icon btn-block btn-danger btn-remove-affiliate-commission-type-level"><i class="fas fa-times"></i></a>\n                </td>\n            </tr>\n        '))}))},app.adminAffiliateCommissionTypeUpdate.removeLevel=function(){var a=this;$(document).delegate(a.config.btnRemoveLevel,"click",(function(){$(a.config.form).find(".affiliate-commission-type-levels tbody tr").length>1&&($(this).closest("tr").remove(),$(a.config.form).find(".affiliate-commission-type-levels tbody tr").map((function(a,e){$(e).find("td:first-child").html("".concat(app.trans("Level :level",{level:a+1})))}))),1===$(a.config.form).find(".affiliate-commission-type-levels tbody tr").length&&$(a.config.form).find(".affiliate-commission-type-levels tbody tr a.btn-remove-affiliate-commission-type-level").addClass("disabled").prop("disabled",!0)}))},app.adminAffiliateCommissionTypeUpdate.onModalHide=function(){var a=this;$(this.config.modal).on("hide.bs.modal",(function(){$(a.config.form).find('[name="name"]').val(""),$(a.config.form).find('[name="active"]').prop("checked",!1),$(a.config.form).find(".affilliate-commission-type-conditions").html(""),$(a.config.form).find(".affiliate-commission-type-levels tbody").html("")}))},app.adminAffiliateCommissionTypeUpdate.init=function(){this.initEditModal(),this.onModalHide(),this.addLevel(),this.removeLevel(),this.ajax()},$(document).ready(app.adminAffiliateCommissionTypeUpdate.init())}(),function(){"use strict";app.adminAffiliateCommistionTypeView={},app.adminAffiliateCommistionTypeView.view=function(){var a=this;$(document).delegate(".btn-admin-affiliate-setting-view","click",(function(){var e=$(this).closest("tr").data("json");if(e){var t='<ul class="list-group mb-4">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Status"),'</span>\n                                <strong class="').concat(e.active?"text-primary":"text-danger",'">\n                                    ').concat(e.active?"Enabled":"Disabled","\n                                </strong>\n                            </div>\n                        </li></ul>");t+='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <strong>\n                                    '.concat(app.trans("Levels"),"\n                                </strong>\n                                <strong>\n                                    ").concat(app.trans("Rate"),"\n                                </strong>\n                            </div>\n                        </li>");for(var n=0;n<e.levels.length;n++){var i=e.levels[n];t+='<li class="list-group-item">\n                        <div class="d-flex align-items-start justify-content-between">\n                            <span class="mr-4">'.concat(app.trans("Level :level",{level:n+1}),"</span>\n                            <span>\n                                ").concat(i,"%\n                            </span>\n                        </div>\n                    </li>")}if(t+="</ul>",e.conditions&&Object.keys(e.conditions).length){for(var o in t+='<ul class="list-group mt-4">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <strong>\n                                    '.concat(app.trans("Conditions"),"\n                                </strong>\n                            </div>\n                        </li>"),e.conditions)t+='<li class="list-group-item">\n                        <div class="d-flex align-items-start justify-content-between">\n                            <span class="mr-4">'.concat(a.getConditionName(o),"</span>\n                            <span>\n                                ").concat(e.conditions[o]?"Enabled":"Disabled","\n                            </span>\n                        </div>\n                    </li>");t+="</ul>"}bootbox.dialog({title:app.trans(":name details",{name:e.name}),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.adminAffiliateCommistionTypeView.getConditionName=function(a){return(a=a.replace(/\_/g," ")).charAt(0).toUpperCase()+a.slice(1)},app.adminAffiliateCommistionTypeView.init=function(){this.view()},$(document).ready(app.adminAffiliateCommistionTypeView.init())}(),app.adminAffiliateReferralDatatable={},app.adminAffiliateReferralDatatable.config={dpButton:"#admin-affiliate-referral-action-dropdown",datatable:"#admin-affiliate-referrals-datatable",options:{src:"/admin/affiliates/referrals/datatable",resourceName:{singular:app.trans("affiliate referral"),plural:app.trans("affiliate referrals")},columns:[{title:app.trans("User"),key:"user",classes:"admin-affiliate-referral-user-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.user.full_name,'</strong>\n                            <span class="text-muted text-sm">').concat(a.user.email,"</span>\n                        </div>\n                    "))}},{title:app.trans("Referred by"),key:"referred_by",classes:"admin-affiliate-referral-referred-by-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.affiliate.user.full_name,'</strong>\n                            <span class="text-muted text-sm">').concat(a.affiliate.user.email,"</span>\n                        </div>\n                    "))}},{title:app.trans("Created"),key:"created",classes:"admin-affiliate-referral-created-row md:table-cell"},{title:"user",key:"user.first_name",hidden:!0},{title:"user",key:"user.last_name",hidden:!0},{title:"user",key:"user.email",hidden:!0},{title:"affiliate",key:"affiliate.user.first_name",hidden:!0},{title:"affiliate",key:"affiliate.user.last_name",hidden:!0},{title:"affiliate",key:"affiliate.user.email",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No affiliate referrals were found!")},selectable:!1,sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:25}},app.adminAffiliateReferralDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminAffiliateReferralDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminAffiliateReferralDatatable.init=function(){this.initDatatable()},$(document).ready(app.adminAffiliateReferralDatatable.init()),function(){"use strict";app.adminAffiliateSettingsUpdate={},app.adminAffiliateSettingsUpdate.config={form:"#admin-affiliate-settings-edit-form",route:"/admin/settings/affiliates/update",redirect:"/admin/settings/affiliates"},app.adminAffiliateSettingsUpdate.ajax=function(){$(app.adminAffiliateSettingsUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminAffiliateSettingsUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminAffiliateSettingsUpdate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.notify(a.message),setTimeout((function(){app.redirect(app.adminAffiliateSettingsUpdate.config.redirect)}),1e3),app.backButtonContent(e,t)},error:function(a,n,i){var o=a;app.formErrors(app.adminAffiliateSettingsUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminAffiliateSettingsUpdate.init=function(){this.ajax()},$(document).ready(app.adminAffiliateSettingsUpdate.init())}(),function(){"use strict";app.adminAffiliateUserApprove={},app.adminAffiliateUserApprove.config={button:".btn-admin-affiliate-approve"},app.adminAffiliateUserApprove.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this).closest(".dropdown-menu").prev(),t=e.html(),n=$(this).data("user"),i=$(this).data("route");bootbox.confirm({title:app.trans("Approve affiliate?"),message:app.trans("Do you want to approve the affiliate request of :user?",{user:n}),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Approve")}},callback:function(a){a&&$.ajax({type:"PUT",url:i,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminAffiliateUserDatatable.table.refresh()}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminAffiliateUserApprove.init=function(){this.ajax()},$(document).ready(app.adminAffiliateUserApprove.init())}(),function(){"use strict";app.adminAffiliateUserDatatable={},app.adminAffiliateUserDatatable.config={dpButton:"#admin-affiliate-action-dropdown",datatable:"#admin-affiliates-datatable",options:{src:"/admin/affiliates/users/datatable",resourceName:{singular:app.trans("affiliate"),plural:app.trans("affiliates")},columns:[{title:app.trans("User"),key:"user",classes:"admin-affiliate-user-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.user.full_name,'</strong>\n                            <span class="text-muted text-sm">').concat(a.user.email,"</span>\n                        </div>\n                    "))}},{title:app.trans("Code"),key:"code",classes:"admin-affiliate-code-row"},{title:app.trans("Referrals"),key:"referrals_count",classes:"admin-affiliate-referrals-count-row",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t=app.trans("Pending");return a.rejected_at?(e="danger",t=app.trans("Rejected")):a.approved&&(a.active?(e="primary",t=app.trans("Active")):(e="warning",t=app.trans("Disabled"))),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"admin-affiliate-actions-row tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="admin-affiliate-action-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu" data-button="#admin-affiliate-action-dropdown">',a.approved?a.active?e+='<a class="dropdown-item btn-admin-affiliate-disable" role="button" href="javascript:void(0)" data-id="'+a.id+'" data-user="'+a.user.full_name+'" data-route="/admin/affiliates/users/'+a.id+'/disable">'+app.trans("Disable affiliate")+"</a>":e+='<a class="dropdown-item btn-admin-affiliate-enable" role="button" href="javascript:void(0)" data-id="'+a.id+'" data-user="'+a.user.full_name+'" data-route="/admin/affiliates/users/'+a.id+'/enable">'+app.trans("Enable affiliate")+"</a>":(e+='<a class="dropdown-item btn-admin-affiliate-approve" role="button" href="javascript:void(0)" data-id="'+a.id+'" data-user="'+a.user.full_name+'" data-route="/admin/affiliates/users/'+a.id+'/approve">'+app.trans("Approve affiliate")+"</a>",a.rejected_at||(e+='<a class="dropdown-item btn-admin-affiliate-reject" role="button" href="javascript:void(0)" data-id="'+a.id+'" data-user="'+a.user.full_name+'" data-route="/admin/affiliates/users/'+a.id+'/reject">'+app.trans("Reject affiliate")+"</a>")),e+="</div>",$(e)}},{title:"user",key:"user.first_name",hidden:!0},{title:"user",key:"user.last_name",hidden:!0},{title:"user",key:"user.email",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No affiliates were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Pending"),value:"Pending"},{label:app.trans("Active"),value:"Active"},{label:app.trans("Rejected"),value:"Rejected"},{label:app.trans("Disabled"),value:"Disabled"}],hidden:!0,shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("Pending"),filters:[{key:"status",value:"Pending"}]},{label:app.trans("Active"),filters:[{key:"status",value:"Active"}]},{label:app.trans("Rejected"),filters:[{key:"status",value:"Rejected"}]},{label:app.trans("Disabled"),filters:[{key:"status",value:"Disabled"}]}],selectable:!1,sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:25}},app.adminAffiliateUserDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminAffiliateUserDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminAffiliateUserDatatable.init=function(){this.initDatatable()},$(document).ready(app.adminAffiliateUserDatatable.init())}(),function(){"use strict";app.adminAffiliateUserDisable={},app.adminAffiliateUserDisable.config={button:".btn-admin-affiliate-disable"},app.adminAffiliateUserDisable.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this).closest(".dropdown-menu").prev(),t=e.html(),n=$(this).data("user"),i=$(this).data("route");bootbox.confirm({title:app.trans("Disable affiliate?"),message:app.trans("Do you want to disable affiliate membership of :user?",{user:n}),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Confirm")}},callback:function(a){a&&$.ajax({type:"PUT",url:i,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminAffiliateUserDatatable.table.refresh()}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminAffiliateUserDisable.init=function(){this.ajax()},$(document).ready(app.adminAffiliateUserDisable.init())}(),function(){"use strict";app.adminAffiliateUserEnable={},app.adminAffiliateUserEnable.config={button:".btn-admin-affiliate-enable"},app.adminAffiliateUserEnable.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this).closest(".dropdown-menu").prev(),t=e.html(),n=$(this).data("user"),i=$(this).data("route");bootbox.confirm({title:app.trans("Enable affiliate?"),message:app.trans("Do you want to enable affiliate membership of :user?",{user:n}),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Confirm")}},callback:function(a){a&&$.ajax({type:"PUT",url:i,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminAffiliateUserDatatable.table.refresh()}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminAffiliateUserEnable.init=function(){this.ajax()},$(document).ready(app.adminAffiliateUserEnable.init())}(),function(){"use strict";app.adminAffiliateUserReject={},app.adminAffiliateUserApprove.config={button:".btn-admin-affiliate-reject"},app.adminAffiliateUserApprove.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this).closest(".dropdown-menu").prev(),t=e.html(),n=$(this).data("user"),i=$(this).data("route");bootbox.prompt({title:app.trans("Do you want to reject affiliate request of :user?",{user:n}),inputType:"textarea",callback:function(a){null!==a&&$.ajax({type:"PUT",url:i,data:{reason:a},beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminAffiliateUserDatatable.table.refresh()}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminAffiliateUserApprove.init=function(){this.ajax()},$(document).ready(app.adminAffiliateUserApprove.init())}(),function(){"use strict";app.adminApproveManualDeposit={},app.adminApproveManualDeposit.config={button:"#btn-approve-manual-deposit"},app.adminApproveManualDeposit.ajax=function(){$(this.config.button).on("click",(function(a){var e=$(this),t=e.data("route"),n=e.html();bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to approve this deposit request!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-primary"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"POST",url:t,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,t,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,n)}),350)}})}})}))},app.adminApproveManualDeposit.init=function(){this.ajax()},$(document).ready(app.adminApproveManualDeposit.init())}(),function(){"use strict";app.adminApproveWithdrawRequest={},app.adminApproveWithdrawRequest.config={form:"#withdrawal-confirm-approve-form",button:"#btn-approve-withdraw-request",modal:"#withdrawal-confirm-approve-modal"},app.adminApproveWithdrawRequest.ajax=function(){var a=this;$(a.config.form).on("submit",(function(e){e.preventDefault();var t=$(a.config.form).find(":submit"),n=t.html(),i=t.data("route"),o=new FormData(this),s=$("#confirm-approve-withdrawal-image-dropzone").get(0).dropzone.getAcceptedFiles();$.each(s,(function(a,e){o.append("image["+a+"]",$("#confirm-approve-withdrawal-image-dropzone")[0].dropzone.getAcceptedFiles()[a])})),$.ajax({type:"POST",url:i,data:o,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(e,t,n){$(a.config.modal).modal("hide"),setTimeout((function(){app.notify(e.message),app.redirect(e.data.redirectTo)}),350)},error:function(e,i,o){var s=e;app.formErrors(a.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})}))},app.adminApproveWithdrawRequest.onModalHide=function(){var a=this;$(this.config.modal).on("hide.bs.modal",(function(e){$(a.config.form).find('[name="note"]').val(""),$(a.config.form).find('[name="image"]').val(null),$(a.config.form).find("ul.dz-preview [data-dz-remove]").map((function(){this.click()}))}))},app.adminApproveWithdrawRequest.init=function(){this.ajax(),this.onModalHide()},$(document).ready(app.adminApproveWithdrawRequest.init())}(),function(){"use strict";app.adminApproveWithdrawRequestUpload={},app.adminApproveWithdrawRequestUpload.image=function(){var a=$("#confirm-approve-withdrawal-image-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"image",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:".jpeg,.jpg,.png,.gif",init:function(){var a=app.baseDropzone.countUploaded(".manual-gateway-image-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminApproveWithdrawRequestUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.adminApproveWithdrawRequestUpload.image())},$(document).ready(app.adminApproveWithdrawRequestUpload.init())}(),function(){"use strict";app.adminAvailableCurrencies={},app.adminAvailableCurrencies.code=function(){$('[name="currency_id"]').on("change",(function(){var a=$(this).val();$.ajax({type:"GET",url:"/admin/currencies/"+a+"/get-currency/",contentType:!1,cache:!1,processData:!1,beforeSend:function(){$('form [name="name"]').val(""),$('form [name="symbol"]').val(""),$('form [name="code"]').val(""),$('form [name="format"]').val("")},success:function(a,e,t){$('form [name="name"]').val(a.data.name),$('form [name="symbol"]').val(a.data.symbol),$('form [name="code"]').val(a.data.code),$('form [name="format"]').val(a.data.format)},error:function(a,e,t){var n=a;app.notify(n.responseJSON.message)}})}))},app.adminAvailableCurrencies.init=function(){app.adminAvailableCurrencies.code()},$(document).ready(app.adminAvailableCurrencies.init())}(),function(){"use strict";app.adminAvailableCurrenciesCreate={},app.adminAvailableCurrenciesCreate.config={form:"#admin-available-currencies-create-form",route:"/admin/currencies/create"},app.adminAvailableCurrenciesCreate.ajax=function(){$(app.adminAvailableCurrenciesCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminAvailableCurrenciesCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminAvailableCurrenciesCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminAvailableCurrenciesCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminAvailableCurrenciesCreate.init=function(){app.adminAvailableCurrenciesCreate.ajax()},$(document).ready(app.adminAvailableCurrenciesCreate.init())}(),function(){"use strict";app.adminAvailableCurrenciesDatatable={},app.adminAvailableCurrenciesDatatable.config={delete:{route:"/admin/currencies/multi-delete"},datatable:{selectable:!1,src:"/admin/currencies/datatable",resourceName:{singular:app.trans("currency"),plural:app.trans("currencies")},columns:[{title:app.trans("Name"),key:"name",searchable:!0,classes:"availablecurrencies-name-column"},{title:app.trans("Exchange Rate"),key:"exchange_rate",searchable:!0,classes:"availablecurrencies-exchange-rate-column"},{title:app.trans("Symbol"),key:"symbol",searchable:!0,classes:"availablecurrencies-symbol-column"},{title:app.trans("Code"),key:"code",searchable:!0,classes:"availablecurrencies-code-column"},{title:app.trans("Format"),key:"format",searchable:!0,classes:"availablecurrencies-format-column"},{title:app.trans("System currency"),key:"is_default",searchable:!1,classes:"availablecurrencies-is_default-column",element:function(a){return a.is_default?$('<span class="badge badge-success">'+app.trans("Yes")+"</span>"):$('<span class="badge badge-danger">'+app.trans("No")+"</span>")}},{title:app.trans("Status"),key:"status",searchable:!1,classes:"availablecurrencies-status-column",element:function(a){return a.status?$('<span class="badge badge-success">'+app.trans("Enabled")+"</span>"):$('<span class="badge badge-danger">'+app.trans("Disabled")+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"availablecurrencies-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',app.can("admin.available-currencies.edit")&&(e+='<a class="dropdown-item" href="/admin/currencies/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No available currencies were found!")},sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"currency__asc",label:app.trans("Currency")+" ( A - Z )"},{value:"currency__desc",label:app.trans("Currency")+" ( Z - A )"},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"},{value:"symbol__asc",label:app.trans("Symbol")+" ( A - Z )"},{value:"symbol__desc",label:app.trans("Symbol")+" ( Z - A )"},{value:"code__asc",label:app.trans("Code")+" ( A - Z )"},{value:"code__desc",label:app.trans("Code")+" ( Z - A )"},{value:"exchange_rate__asc",label:app.trans("Exchange Rate")+" ( A - Z )"},{value:"exchange_rate__desc",label:app.trans("Exchange Rate")+" ( Z - A )"}]},filterControl:[{key:"system_currency",title:app.trans("System currency"),choices:[{label:app.trans("Yes"),value:1},{label:app.trans("No"),value:0}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""},{key:"currency_status",title:app.trans("Status"),choices:[{label:app.trans("Enabled"),value:1},{label:app.trans("Disabled"),value:0}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],bulkActions:[],limit:10}},app.adminAvailableCurrenciesDatatable.init=function(){app.adminAvailableCurrenciesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminAvailableCurrenciesDatatable.tb=$("#admin-availablecurrencies-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.adminAvailableCurrenciesDatatable.init())}(),function(){"use strict";app.adminAvailableCurrenciesDelete={},app.adminAvailableCurrenciesDelete.config={button:".btn-admin-availablecurrencies-delete"},app.adminAvailableCurrenciesDelete.ajax=function(a){$(document).delegate(app.adminAvailableCurrenciesDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this available currency!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"DELETE",url:"/admin/currencies/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(a)},success:function(a,e,t){app.notify(a.message),app.adminAvailableCurrenciesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.adminAvailableCurrenciesDelete.init=function(){app.adminAvailableCurrenciesDelete.ajax()},$(document).ready(app.adminAvailableCurrenciesDelete.init())}(),function(){"use strict";app.adminAvailableCurrenciesUpdate={},app.adminAvailableCurrenciesUpdate.config={form:"#admin-available-currencies-edit-form"},app.adminAvailableCurrenciesUpdate.route=function(a){return $(this.config.form).data("action")},app.adminAvailableCurrenciesUpdate.ajax=function(a){$(app.adminAvailableCurrenciesUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminAvailableCurrenciesUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminAvailableCurrenciesUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminAvailableCurrenciesUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminAvailableCurrenciesUpdate.init=function(){app.adminAvailableCurrenciesUpdate.ajax()},$(document).ready(app.adminAvailableCurrenciesUpdate.init())}(),function(){"use strict";app.adminBlog={},app.adminBlog.config={tagSearchInpt:".tagsinput-search",tagInpt:".tagsinput",tagList:".tag-list",tagItemRemoveBtn:".tag-item-remove-btn",tagSearchTimeout:null,tagSearchItem:".available-tag-item",toggleSeoSetting:".toggle-blog-seo-settings"},app.adminBlog.tinyMCE=function(){tinymce.init({selector:"textarea#blog-content",plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","photoGallery","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"],mobile:{plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"]},menubar:"file edit view insert format tools table tc",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange formatpainter removeformat | insertPhoto image media link anchor codesample | a11ycheck ltr rtl",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,importcss_append:!0,height:600,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table",content_css:["/plugins/tinymce/css/email-templates.css"],a11y_advanced_options:!0,promotion:!1,setup:function(a){a.on("init",(function(a){$("#btn-update-blog").removeClass("d-none")}))}})},app.adminBlog.searchTag=function(){var a=this;$(a.config.tagSearchInpt).on("input",(function(e){var t=this.value.trim(),n=$(this),i=$(this).closest(".dropdown");t.length>=2?(clearTimeout(a.config.tagSearchTimeout),a.config.tagSearchTimeout=setTimeout((function(){$.ajax({type:"GET",url:"/admin/tags/search?name="+t,beforeSend:function(){},success:function(a,e,t){if(i.find(".available-tag-item").remove(),a.length){for(var o=0;o<a.length;o++){var s=a[o];i.find(".dropdown-menu").append('<a class="dropdown-item available-tag-item" href="javascript:void(0)" data-id="'.concat(s.id,'" data-name="').concat(s.name,'">').concat(s.name,"</a>"))}n.data("expanded",!0),i.addClass("show"),i.find(".dropdown-menu").addClass("show")}},error:function(a,e,t){i.find(".available-tag-item").remove(),n.data("expanded",!1),i.removeClass("show"),i.find(".dropdown-menu").removeClass("show")}})}),500)):(i.find(".available-tag-item").remove(),n.data("expanded",!1),i.removeClass("show"),i.find(".dropdown-menu").removeClass("show"))}))},app.adminBlog.searchTagItemSelect=function(){var a=this;$(document).delegate(a.config.tagSearchItem,"click",(function(){var e=$(this).data("id"),t=$(this).data("name");$(a.config.tagList).find('[data-name="'+t+'"]').length||a.addTagItem({id:e,name:t})}))},app.adminBlog.addTag=function(){var a=this;$(a.config.tagSearchInpt).keypress((function(e){if(13==e.keyCode){var t=e.target.value.trim();if($(a.config.tagList).find('[data-name="'+t+'"]').length)return;$.ajax({type:"POST",url:"/admin/tags/create",data:{name:t},beforeSend:function(){$(a.config.tagSearchInpt).attr("disabled",!0)},success:function(e,t,n){$(a.config.tagSearchInpt).attr("disabled",!1),a.addTagItem(e.data.tag),$(a.config.tagSearchInpt).val(""),$(a.config.tagSearchInpt).focus()},error:function(e,t,n){$(a.config.tagSearchInpt).attr("disabled",!1)}})}}))},app.adminBlog.addTagItem=function(a){$(this.config.tagList).find('[data-name="'+a.name+'"]').length||($(this.config.tagList).removeClass("no-tag-list"),$(this.config.tagList).find(".no-tags").remove(),$(this.config.tagList).append('<div class="tag-item" data-id="'.concat(a.id,'" data-name="').concat(a.name,'">\n                                    <span class="tag-item-name">').concat(a.name,'</span>\n                                    <a href="javascript:void(0)" class="tag-item-remove-btn">\n                                        <i class="fas fa-times"></i>\n                                    </a>\n                                </div>')))},app.adminBlog.removeTagItem=function(){var a=this;$(document).delegate(a.config.tagItemRemoveBtn,"click",(function(){$(this).parent(".tag-item").remove(),$(a.config.tagList).find(".tag-item").length||($(a.config.tagList).addClass("no-tag-list"),$(a.config.tagList).html('<div class="no-tags">'.concat(app.trans("No tags added"),"</div>")))}))},app.adminBlog.pageTitleInput=function(){$('.admin-blog-form [name="page_title"]').length&&($(".admin-blog-form .page_title_length").html($('.admin-blog-form [name="page_title"]').val().length),$('.admin-blog-form [name="page_title"]').on("input",(function(){$(".admin-blog-form .page_title_length").html(this.value.length)}))),$('.admin-blog-form [name="page_description"]').length&&($(".admin-blog-form page_description_length").html($('.admin-blog-form [name="page_description"]').val().length),$('.admin-blog-form [name="page_description"]').on("input",(function(){$(".admin-blog-form .page_description_length").html(this.value.length)})))},app.adminBlog.toggleSeoSettings=function(){$(this.config.toggleSeoSetting).on("click",(function(){$(this).remove(),$(".admin-blog-form .blog-seo-edit").removeClass("display-none")}))},app.adminBlog.hasPageTitle=function(){return!(!$('.admin-blog-form [name="title"]').length||!$('.admin-blog-form [name="title"]').val().trim())||!(!$('.admin-blog-form [name="page_title"]').length||!$('.admin-blog-form [name="page_title"]').val().trim())},app.adminBlog.hasPageDescription=function(){return!(!$('.admin-blog-form [name="description"]').length||!$('.admin-blog-form [name="description"]').val().trim())||!(!$('.admin-blog-form [name="page_description"]').length||!$('.admin-blog-form [name="page_description"]').val().trim())},app.adminBlog.toggleSeoPreviewTitle=function(){this.hasPageTitle()?($(".admin-blog-form .blog-seo-preview-title-desc").addClass("d-none"),$(".admin-blog-form .blog-seo-preview-title-desc-value").removeClass("d-none")):($(".admin-blog-form .blog-seo-preview-title-desc").removeClass("d-none"),$(".admin-blog-form .blog-seo-preview-title-desc-value").addClass("d-none"))},app.adminBlog.seoSettingInpt=function(){var a=this;$('.admin-blog-form [name="title"]').on("input",(function(){$('.admin-blog-form [name="page_title"]').length&&($('.admin-blog-form [name="page_title"]').attr("placeholder",app.strMaxLength(this.value,70)),$('.admin-blog-form [name="page_title"]').val().trim()||($(".admin-blog-form .blog-seo-preview-title").html(app.strMaxLength(this.value,70)),a.toggleSeoPreviewTitle())),$('.admin-blog-form [name="slug"]').length&&($('.admin-blog-form [name="slug"]').val().trim()||($('.admin-blog-form [name="slug"]').attr("placeholder",app.slugify(app.strMaxLength(this.value,70))),$(".admin-blog-form .blog-seo-preview-url").html(window.location.origin+"/blogs/"+app.slugify(app.strMaxLength(this.value,70))),a.toggleSeoPreviewTitle()))})),$('.admin-blog-form [name="description"]').on("input",(function(){$('.admin-blog-form [name="page_description"]').length&&($('.admin-blog-form [name="page_description"]').attr("placeholder",app.strMaxLength(this.value.trim(),320)),$(".admin-blog-form .blog-seo-edit").hasClass("display-none")&&($('.admin-blog-form [name="page_description"]').val(app.strMaxLength(this.value,320)),$(".admin-blog-form .blog-seo-preview-desc").html(app.strMaxLength(this.value,320))),$('.admin-blog-form [name="page_description"]').val().trim()||$(".admin-blog-form .blog-seo-preview-desc").html(app.strMaxLength(this.value,320)),a.toggleSeoPreviewTitle())})),$('.admin-blog-form [name="page_title"]').on("input",(function(){var e=this.value.trim();e||(e=$('.admin-blog-form [name="title"]').length?$('.admin-blog-form [name="title"]').val().trim():""),$(".admin-blog-form .blog-seo-preview-title").html(app.strMaxLength(e,70)),a.toggleSeoPreviewTitle()})),$('.admin-blog-form [name="page_description"]').on("input",(function(){var e=this.value.trim();e?$(".admin-blog-form .blog-seo-preview-desc").html(app.strMaxLength(e,320)):$(".admin-blog-form .blog-seo-preview-desc").html(app.strMaxLength($('.admin-blog-form [name="description"]').val().trim(),320)),a.toggleSeoPreviewTitle()})),$('.admin-blog-form [name="page_description"]').on("focus",(function(){if(!this.value.trim()){var e=$('.admin-blog-form [name="description"]').val().trim();$(this).val(e),$(".admin-blog-form .blog-seo-preview-desc").html(app.strMaxLength(e,320)),a.toggleSeoPreviewTitle()}})),$('.admin-blog-form [name="slug"]').on("input propertychange",(function(){this.value=this.value.replace(/\s+/g,"-"),$(".admin-blog-form .blog-seo-preview-url").html(window.location.origin+"/blogs/"+app.slugify(app.strMaxLength(this.value,70)));var e=this.value.trim();e?$(".admin-blog-form .blog-seo-preview-url").html(window.location.origin+"/blogs/"+app.slugify(app.strMaxLength(this.value,70))):(e=$('.admin-blog-form [name="title"]').length?$('.admin-blog-form [name="title"]').val().trim():"",$(".admin-blog-form .blog-seo-preview-url").html(window.location.origin+"/blogs/"+app.slugify(app.strMaxLength(e,70)))),a.toggleSeoPreviewTitle()}))},app.adminBlog.init=function(){"undefined"!=typeof tinymce&&$("#blog-content").length&&app.adminBlog.tinyMCE(),this.searchTag(),this.addTag(),this.removeTagItem(),this.searchTagItemSelect(),this.pageTitleInput(),this.seoSettingInpt(),this.toggleSeoSettings(),$("#tagSearchDropdown").on("shown.bs.dropdown",(function(){$(this).find(".available-tag-item").length||($(this).find(".dropdown-toggle").data("expanded",!1),$(this).removeClass("show"),$(this).find(".dropdown-menu").removeClass("show"))}))},$(document).ready(app.adminBlog.init())}(),function(){"use strict";app.adminBlogCreate={},app.adminBlogCreate.config={btn:"#btn-create-blog",form:"#blog-create-form",route:"/admin/blogs/create"},app.adminBlogCreate.data=function(){var a=$(this.config.form).serializeArray();a.push({name:"content",value:tinyMCE.get("blog-content").getContent()});var e=$('[data-image-gallery="1100"]').sGallery().images();return $(app.adminBlog.config.tagList).find(".tag-item").map((function(){a.push({name:"tags[]",value:$(this).data("id")})})),e.length&&a.push({name:"media_id",value:e[0].id}),a},app.adminBlogCreate.process=function(a){a.preventDefault();var e=this,t=$(e.config.btn),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.adminBlogCreate.init=function(){var a=this;$(this.config.btn).on("click",(function(){$(a.config.form).submit()})),$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.adminBlogCreate.init())}(),function(){"use strict";app.adminBlogUpdate={},app.adminBlogUpdate.config={btn:"#btn-update-blog",form:"#blog-update-form"},app.adminBlogUpdate.data=function(){var a=$(this.config.form).serializeArray();a.push({name:"content",value:tinyMCE.get("blog-content").getContent()});var e=$('[data-image-gallery="1101"]').sGallery().images();return $(app.adminBlog.config.tagList).find(".tag-item").map((function(){a.push({name:"tags[]",value:$(this).data("id")})})),e.length?a.push({name:"media_id",value:e[0].id}):a.push({name:"media_id",value:""}),a},app.adminBlogUpdate.process=function(a){a.preventDefault();var e=this,t=$(e.config.btn),n=t.html();$.ajax({type:"PATCH",url:$(e.config.form).data("route"),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.adminBlogUpdate.init=function(){var a=this;$(this.config.btn).on("click",(function(){$(a.config.form).submit()})),$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.adminBlogUpdate.init())}(),function(){"use strict";app.adminBlogsDatatable={},app.adminBlogsDatatable.removeSelected=function(a,e){var t=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete blog post(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.adminBlogsDatatable.tableAjax("delete",{blogs:t},"/admin/blogs/destroy",e)}})},app.adminBlogsDatatable.moveToPending=function(a,e){var t=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to move selected blog post(s) to pending!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.adminBlogsDatatable.tableAjax("post",{blogs:t},"/admin/blogs/move-to-pending",e)}})},app.adminBlogsDatatable.moveToDraft=function(a,e){var t=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to move selected blog post(s) to draft!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.adminBlogsDatatable.tableAjax("post",{blogs:t},"/admin/blogs/move-to-draft",e)}})},app.adminBlogsDatatable.moveToPublished=function(a,e){var t=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to move selected blog post(s) to published!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.adminBlogsDatatable.tableAjax("post",{blogs:t},"/admin/blogs/move-to-published",e)}})},app.adminBlogsDatatable.tableAjax=function(a,e,t,n){var i=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Processing")+"...</p>",closeButton:!1});$.ajax({type:a,url:t,data:e,success:function(a,e,t){app.notify(a.message),n.refresh(),setTimeout((function(){i.modal("hide")}),350)},error:function(a){app.notify(a.responseJSON.message),setTimeout((function(){i.modal("hide")}),350)}})},app.adminBlogsDatatable.config={datatable:"#admin-blogs-datatable",route:"/admin/blogs/datatable",options:{src:"/admin/blogs/datatable",resourceName:{singular:app.trans("blog"),plural:app.trans("blogs")},columns:[{title:app.trans("Title"),key:"title",classes:"blog-title-row"},{title:app.trans("Category"),key:"category",classes:"blog-category-row",searchable:!1,orderable:!1,element:function(a){return $("<span>".concat(a.category.name,"</span>"))}},{title:app.trans("Author"),key:"author",classes:"blog-author-row",searchable:!1,orderable:!1,element:function(a){return $('<a href="/admin/users/'.concat(a.author.id,'/overview">\n                              <img alt="image" src="').concat(a.author.avatar,'" class="rounded-circle" width="35" data-toggle="title" title=""> <div class="d-inline-block ml-1">').concat(a.author.full_name||a.author.email,"</div>\n                        </a>"))}},{title:app.trans("Created"),key:"created",classes:"blog-created-row",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e=a.status.charAt(0).toUpperCase()+a.status.slice(1),t='<span class="badge badge-'+a.status_color+'">'+e+"</span>";return $(t)}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"deposit-actions-column tb-actions-column text-right",element:function(a){var e=["pending","draft","published"],t=e.indexOf(a.status);-1!==t&&e.splice(t,1);var n='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';n+='<i class="fas fa-ellipsis-h"></i>',n+="</button>",n+='<div class="dropdown-menu">',"published"===a.status&&(n+='<a class="dropdown-item" href="/blogs/'+a.slug+'" target="_blank">'+app.trans("View blog post in site")+"</a>"),n+='<a class="dropdown-item" href="/admin/blogs/'+a.id+'/edit">'+app.trans("Edit blog post")+"</a>";for(var i=0;i<e.length;i++){var o=e[i];n+='<a class="dropdown-item btn-move-to-'+o+'-blog-post blog-post-status-transition-btn" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Move to :status",{status:o})+"</a>"}return n+='<a class="dropdown-item text-danger btn-delete-blog-post" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Delete blog post")+"</a>",n+="</div>",$(n)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No blogs were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Published"),value:"Published"},{label:app.trans("Pending"),value:"Pending"},{label:app.trans("Draft"),value:"Draft"}],hidden:!0,shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("Published"),filters:[{key:"status",value:"Published"}]},{label:app.trans("Pending"),filters:[{key:"status",value:"Pending"}]},{label:app.trans("Draft"),filters:[{key:"status",value:"Draft"}]}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},bulkActions:[{title:app.trans("Removed selected"),onAction:app.adminBlogsDatatable.removeSelected.bind(app.adminBlogsDatatable),reloadOnChange:!0},{title:app.trans("Move to Pending"),onAction:app.adminBlogsDatatable.moveToPending.bind(app.adminBlogsDatatable),reloadOnChange:!0},{title:app.trans("Move to Draft"),onAction:app.adminBlogsDatatable.moveToDraft.bind(app.adminBlogsDatatable),reloadOnChange:!0},{title:app.trans("Move to Published"),onAction:app.adminBlogsDatatable.moveToPublished.bind(app.adminBlogsDatatable),reloadOnChange:!0}],limit:25}},app.adminBlogsDatatable.handleMoveToPending=function(){var a=this;$(document).delegate(".btn-move-to-pending-blog-post","click",(function(){a.moveToPending([{id:$(this).data("id")}],app.adminBlogsDatatable.table)}))},app.adminBlogsDatatable.handleMoveToDraft=function(){var a=this;$(document).delegate(".btn-move-to-draft-blog-post","click",(function(){a.moveToDraft([{id:$(this).data("id")}],app.adminBlogsDatatable.table)}))},app.adminBlogsDatatable.handleMoveToPublished=function(){var a=this;$(document).delegate(".btn-move-to-published-blog-post","click",(function(){a.moveToPublished([{id:$(this).data("id")}],app.adminBlogsDatatable.table)}))},app.adminBlogsDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminBlogsDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminBlogsDatatable.handleRemove=function(){var a=this;$(document).delegate(".btn-delete-blog-post","click",(function(){a.removeSelected([{id:$(this).data("id")}],app.adminBlogsDatatable.table)}))},app.adminBlogsDatatable.init=function(){this.initDatatable(),this.handleRemove(),this.handleMoveToPending(),this.handleMoveToDraft(),this.handleMoveToPublished()},$(document).ready(app.adminBlogsDatatable.init())}(),function(){"use strict";app.adminCategories={},app.adminCategories.init=function(){void 0!==$.fn.colorpicker&&$(".colorpickerinput").colorpicker({format:"hex",component:".input-group-append"})},$(document).ready(app.adminCategories.init())}(),function(){"use strict";app.adminCategoriesCreate={},app.adminCategoriesCreate.config={form:"#admin-categories-create-form",route:"/admin/categories/create"},app.adminCategoriesCreate.ajax=function(){$(app.adminCategoriesCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminCategoriesCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminCategoriesCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminCategoriesCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminCategoriesCreate.init=function(){app.adminCategoriesCreate.ajax()},$(document).ready(app.adminCategoriesCreate.init())}(),function(){"use strict";app.adminCategoriesDatatable={},app.adminCategoriesDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete category(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminCategoriesDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminCategoriesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminCategoriesDatatable.restore=function(){$(document).delegate(".btn-admin-categories-restore","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this category!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"post",url:app.adminCategoriesDatatable.config.restore.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminCategoriesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminCategoriesDatatable.forceDelete=function(){$(document).delegate(".btn-admin-categories-force-delete","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this category!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"delete",url:app.adminCategoriesDatatable.config.forceDelete.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminCategoriesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminCategoriesDatatable.config={delete:{route:"/admin/categories/multi-delete"},restore:{route:"/admin/categories/restore"},forceDelete:{route:"/admin/categories/force-delete"},datatable:{src:"/admin/categories/datatable",resourceName:{singular:app.trans("category"),plural:app.trans("categories")},columns:[{title:app.trans("Id"),key:"id",searchable:!0,classes:"categories-id-column tb-id-column"},{title:app.trans("Category type name"),key:"category_type.name",searchable:!0,hidden:!0},{title:app.trans("Type"),key:"category_type.type",searchable:!0,classes:"categories-category-type-column",element:function(a){return null!==a.category_type?$("<span>"+a.category_type.type_name+"</span>"):$("<span>&nbsp;</span>")}},{title:app.trans("Name"),key:"name",searchable:!0,classes:"categories-name-column"},{title:app.trans("Description"),key:"description",searchable:!0,classes:"categories-description-column"},{title:app.trans("Color"),key:"color",searchable:!0,classes:"categories-color-column",element:function(a){var e='<span class="badge" style="background-color: '+a.color+'; padding: unset; height: 25px; width: 25px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>';return $(e)}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"categories-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&(app.can("admin.categories.show")&&(e+='<a class="dropdown-item" href="/admin/categories/'+a.id+'/show"><i class="fas fa-eye"></i> '+app.trans("View")+"</a>"),app.can("admin.categories.edit")&&(e+='<a class="dropdown-item" href="/admin/categories/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),app.can("admin.categories.delete")&&(e+='<a class="dropdown-item btn-admin-categories-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Delete")+"</a>")),null!==a.deleted_at&&(app.can("admin.categories.restore")&&(e+='<a class="dropdown-item btn-admin-categories-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> '+app.trans("Restore")+"</a>"),app.can("admin.categories.force-delete")&&(e+='<a class="dropdown-item btn-admin-categories-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Force delete")+"</a>")),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No categories were found!")},filterTabs:[{label:app.trans("All"),filters:[{key:"status",value:"All"}]},{label:app.trans("Trashed"),filters:[{key:"status",value:"Trashed"}]}],filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Trashed"),value:"Trashed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"category_type__asc",label:app.trans("Category Type")+" ( A - Z )"},{value:"category_type__desc",label:app.trans("Category Type")+" ( Z - A )"},{value:"parent__asc",label:app.trans("Parent")+" ( A - Z )"},{value:"parent__desc",label:app.trans("Parent")+" ( Z - A )"},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminCategoriesDatatable.delete,status:"error"}],limit:10}},app.adminCategoriesDatatable.init=function(){app.adminCategoriesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminCategoriesDatatable.tb=$("#admin-categories-datatable").JsDataTable(this.config.datatable)),app.adminCategoriesDatatable.restore(),app.adminCategoriesDatatable.forceDelete()},$(document).ready(app.adminCategoriesDatatable.init())}(),function(){"use strict";app.adminCategoriesDelete={},app.adminCategoriesDelete.config={button:".btn-admin-categories-delete"},app.adminCategoriesDelete.ajax=function(a){$(document).delegate(app.adminCategoriesDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this category!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=a.parents(".tb-actions-column").find(".dropdown-toggle"),n=t.html();$.ajax({type:"DELETE",url:"/admin/categories/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message),app.adminCategoriesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(t,n)}})}}})}))},app.adminCategoriesDelete.init=function(){app.adminCategoriesDelete.ajax()},$(document).ready(app.adminCategoriesDelete.init())}(),function(){"use strict";app.adminCategoriesUpdate={},app.adminCategoriesUpdate.config={form:"#admin-categories-edit-form"},app.adminCategoriesUpdate.route=function(a){return $(this.config.form).data("action")},app.adminCategoriesUpdate.ajax=function(a){$(app.adminCategoriesUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminCategoriesUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminCategoriesUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminCategoriesUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminCategoriesUpdate.init=function(){app.adminCategoriesUpdate.ajax()},$(document).ready(app.adminCategoriesUpdate.init())}(),function(){"use strict";app.adminCategoriesUpload={},app.adminCategoriesUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1)},$(document).ready(app.adminCategoriesUpload.init())}(),function(){"use strict";app.adminCategoryTypes={},app.adminCategoryTypes.init=function(){},$(document).ready(app.adminCategoryTypes.init())}(),function(){"use strict";app.adminCategoryTypesCreate={},app.adminCategoryTypesCreate.config={form:"#admin-category-types-create-form",route:"/admin/category-types/create"},app.adminCategoryTypesCreate.ajax=function(){$(app.adminCategoryTypesCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminCategoryTypesCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminCategoryTypesCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminCategoryTypesCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminCategoryTypesCreate.init=function(){app.adminCategoryTypesCreate.ajax()},$(document).ready(app.adminCategoryTypesCreate.init())}(),function(){"use strict";app.adminCategoryTypesDatatable={},app.adminCategoryTypesDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete category type(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminCategoryTypesDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminCategoryTypesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminCategoryTypesDatatable.restore=function(){$(document).delegate(".btn-admin-categorytypes-restore","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this category type!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"post",url:app.adminCategoryTypesDatatable.config.restore.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminCategoryTypesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminCategoryTypesDatatable.forceDelete=function(){$(document).delegate(".btn-admin-categorytypes-force-delete","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this category type!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"delete",url:app.adminCategoryTypesDatatable.config.forceDelete.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminCategoryTypesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminCategoryTypesDatatable.config={delete:{route:"/admin/category-types/multi-delete"},restore:{route:"/admin/category-types/restore"},forceDelete:{route:"/admin/category-types/force-delete"},datatable:{src:"/admin/category-types/datatable",resourceName:{singular:app.trans("category type"),plural:app.trans("category types")},columns:[{title:app.trans("Id"),key:"id",searchable:!0,classes:"categorytypes-id-column tb-id-column"},{title:app.trans("Type"),key:"type",searchable:!0,classes:"categorytypes-type-column"},{title:app.trans("Name"),key:"name",searchable:!0,classes:"categorytypes-name-column"},{title:app.trans("Description"),key:"description",searchable:!0,classes:"categorytypes-description-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"categorytypes-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&(app.can("admin.category-types.show")&&(e+='<a class="dropdown-item" href="/admin/category-types/'+a.id+'/show"><i class="fas fa-eye"></i> '+app.trans("View")+"</a>"),app.can("admin.category-types.edit")&&(e+='<a class="dropdown-item" href="/admin/category-types/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),app.can("admin.category-types.delete")&&(e+='<a class="dropdown-item btn-admin-categorytypes-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Delete")+"</a>")),null!==a.deleted_at&&(app.can("admin.category-types.restore")&&(e+='<a class="dropdown-item btn-admin-categorytypes-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> '+app.trans("Restore")+"</a>"),app.can("admin.category-types.force-delete")&&(e+='<a class="dropdown-item btn-admin-categorytypes-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Force delete")+"</a>")),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No category types were found!")},filterTabs:[{label:app.trans("All"),filters:[{key:"status",value:"All"}]},{label:app.trans("Trashed"),filters:[{key:"status",value:"Trashed"}]}],filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Trashed"),value:"Trashed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"type__asc",label:app.trans("Type")+" ( A - Z )"},{value:"type__desc",label:app.trans("Type")+" ( Z - A )"},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminCategoryTypesDatatable.delete,status:"error"}],limit:10}},app.adminCategoryTypesDatatable.init=function(){app.adminCategoryTypesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminCategoryTypesDatatable.tb=$("#admin-categorytypes-datatable").JsDataTable(this.config.datatable)),app.adminCategoryTypesDatatable.restore(),app.adminCategoryTypesDatatable.forceDelete()},$(document).ready(app.adminCategoryTypesDatatable.init())}(),function(){"use strict";app.adminCategoryTypesDelete={},app.adminCategoryTypesDelete.config={button:".btn-admin-categorytypes-delete"},app.adminCategoryTypesDelete.ajax=function(a){$(document).delegate(app.adminCategoryTypesDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this categorytype!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=a.parents(".tb-actions-column").find(".dropdown-toggle"),n=t.html();$.ajax({type:"DELETE",url:"/admin/category-types/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message),app.adminCategoryTypesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(t,n)}})}}})}))},app.adminCategoryTypesDelete.init=function(){app.adminCategoryTypesDelete.ajax()},$(document).ready(app.adminCategoryTypesDelete.init())}(),function(){"use strict";app.adminCategoryTypesUpdate={},app.adminCategoryTypesUpdate.config={form:"#admin-category-types-edit-form"},app.adminCategoryTypesUpdate.route=function(a){return $(this.config.form).data("action")},app.adminCategoryTypesUpdate.ajax=function(a){$(app.adminCategoryTypesUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminCategoryTypesUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminCategoryTypesUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminCategoryTypesUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminCategoryTypesUpdate.init=function(){app.adminCategoryTypesUpdate.ajax()},$(document).ready(app.adminCategoryTypesUpdate.init())}(),function(){"use strict";app.adminCategoryTypesUpload={},app.adminCategoryTypesUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1)},$(document).ready(app.adminCategoryTypesUpload.init())}(),function(){"use strict";app.adminDashboardWidgetsCreate={},app.adminDashboardWidgetsCreate.config={form:"#admin-dashboard-widgets-create-form",route:"/admin/dashboard-widgets/create",sumAvgTypesTrigger:["integer","decimal","float"],groupPeriodsTrigger:["timestamp"],excludedColumns:["id","password","auth_id","authy_status","authy_country_code","authy_phone"],charts:["line","bar","pie"],defaultFilterData:{"days|today":app.trans("Today"),"days|7":app.trans("Show last 7 days"),"days|14":app.trans("Show last 14 days"),"days|30":app.trans("Show last 30 days"),"days|60":app.trans("Show last 60 days"),"days|90":app.trans("Show last 90 days"),"period|last_week":app.trans("Show last week"),"period|this_week":app.trans("Show this week"),"period|last_month":app.trans("Show last month"),"period|this_month":app.trans("Show this month"),"period|last_year":app.trans("Show last year"),"period|this_year":app.trans("Show this year")},yearFilterData:{"period|last_week":app.trans("Show last week"),"period|this_week":app.trans("Show this week"),"period|last_month":app.trans("Show last month"),"period|this_month":app.trans("Show this month"),"period|last_year":app.trans("Show last year"),"period|this_year":app.trans("Show this year"),"years|3":app.trans("Last 3 years"),"years|5":app.trans("Last 5 years"),"years|10":app.trans("Last 10 years")},counterFilterData:{"string|null":app.trans("Null"),alltime:app.trans("All time"),"days|today":app.trans("Today"),"minutes|3":app.trans("Show last 3 mins"),"minutes|5":app.trans("Show last 5 mins"),"minutes|10":app.trans("Show last 10 mins"),"minutes|20":app.trans("Show last 20 mins"),"minutes|30":app.trans("Show last 30 mins"),"days|7":app.trans("Show last 7 days"),"days|14":app.trans("Show last 14 days"),"days|30":app.trans("Show last 30 days"),"days|60":app.trans("Show last 60 days"),"days|90":app.trans("Show last 90 days"),"period|last_week":app.trans("Show last week"),"period|this_week":app.trans("Show this week"),"period|last_month":app.trans("Show last month"),"period|this_month":app.trans("Show this month"),"period|last_year":app.trans("Show last year"),"period|this_year":app.trans("Show this year")}},app.adminDashboardWidgetsCreate.loadOptionsFilterDataSelect=function(a){var e=$('[name="filter_data"]'),t="";$.each(a,(function(a,n){void 0!==e.attr("data-edit-value")&&e.attr("data-edit-value")==a?t+='<option value="'+a+'" selected>'+n+"</option>":t+='<option value="'+a+'">'+n+"</option>"})),e.html(t)},app.adminDashboardWidgetsCreate.groupByColumnSelect=function(){$(document).delegate('[name="group_by_column"]',"change",(function(a){"YEAR"==$(this).val().split("|").shift()?app.adminDashboardWidgetsCreate.loadOptionsFilterDataSelect(app.adminDashboardWidgetsCreate.config.yearFilterData):app.adminDashboardWidgetsCreate.loadOptionsFilterDataSelect(app.adminDashboardWidgetsCreate.config.defaultFilterData)}))},app.adminDashboardWidgetsCreate.filterFieldSelect=function(){$(document).delegate('[name="filter_field"]',"change",(function(a){var e=$(this).val();$('[for="filter_data"] .field-name').html(e)}))},app.adminDashboardWidgetsCreate.hideShowWrapperSelect=function(a,e){"show"==e?($(a).show(),$(a).find("select").length&&$(a).find("select").prop("disabled",!1),$(a).find("input").length&&$(a).find("input").prop("disabled",!1)):($(a).hide(),$(a).find("select").length&&$(a).find("select").prop("disabled",!0),$(a).find("input").length&&$(a).find("input").prop("disabled",!0))},app.adminDashboardWidgetsCreate.widget=function(){$('[name="type"]').on("click",(function(){var a=$(this).val();app.adminDashboardWidgetsCreate.config.charts.includes(a)&&(app.adminDashboardWidgetsCreate.loadOptionsFilterDataSelect(app.adminDashboardWidgetsCreate.config.defaultFilterData),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".group-by-column-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".show-blank-data-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".aggregate-function-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".show-filter-data-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".filter-field-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".total-records-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".load-relationships-wrapper","hide"),app.adminDashboardWidgetsFieldToShow.hideShowTableWrapper(".field-to-show-table-wrapper","hide"),$('[name="bg_background"]').prop("disabled",!0),$('[name="icon"]').prop("disabled",!0),$('[name="view_more"]').prop("disabled",!0)),"counter"==a&&(app.adminDashboardWidgetsCreate.loadOptionsFilterDataSelect(app.adminDashboardWidgetsCreate.config.counterFilterData),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".group-by-column-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".show-blank-data-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".filter-field-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".aggregate-function-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".show-filter-data-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".total-records-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".load-relationships-wrapper","hide"),app.adminDashboardWidgetsFieldToShow.hideShowTableWrapper(".field-to-show-table-wrapper","hide"),$('[name="bg_background"]').prop("disabled",!1),$('[name="icon"]').prop("disabled",!1),$('[name="view_more"]').prop("disabled",!0)),"latest_records"==a&&(app.adminDashboardWidgetsCreate.loadOptionsFilterDataSelect(app.adminDashboardWidgetsCreate.config.defaultFilterData),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".filter-field-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".group-by-column-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".show-blank-data-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".aggregate-function-wrapper","hide"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".total-records-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".load-relationships-wrapper","show"),app.adminDashboardWidgetsFieldToShow.hideShowTableWrapper(".field-to-show-table-wrapper","show"),app.adminDashboardWidgetsCreate.hideShowWrapperSelect(".show-filter-data-wrapper","hide"),$('[name="bg_background"]').prop("disabled",!0),$('[name="icon"]').prop("disabled",!0),$('[name="view_more"]').prop("disabled",!1))}))},app.adminDashboardWidgetsCreate.model=function(){$(document).delegate('[name="data_source_model"]',"change",(function(a){var e=$(this).val();$.ajax({type:"GET",url:"/admin/dashboard-widgets/table-columns",data:{table:e},contentType:!1,cache:!1,processData:!0,beforeSend:function(){$('[name="aggregate_function"]').html('<option value="">Loading...</option>'),$('[name="aggregate_function"]').prop("disabled",!0),$('[name="group_by_column"]').html('<option value="">Loading...</option>'),$('[name="group_by_column"]').prop("disabled",!0),$('[name="filter_field"]').html('<option value="">Loading...</option>'),$('[name="filter_field"]').prop("disabled",!0)},success:function(a,e,t){var n='<option value="count">count()</option>',i="",o="",s="";$.each(a,(function(a,e){app.adminDashboardWidgetsCreate.config.excludedColumns.includes(a)||a.includes("_id")||!app.adminDashboardWidgetsCreate.config.sumAvgTypesTrigger.includes(e.type)||(n+='<option value="sum|'+a+'">sum('+a+")</option>",n+='<option value="avg|'+a+'">avg('+a+")</option>"),!a.includes("_id")&&app.adminDashboardWidgetsCreate.config.groupPeriodsTrigger.includes(e.type)&&(i+='<option value="DAY|'+a+'">DAY('+a+")</option>",i+='<option value="WEEK|'+a+'">WEEK('+a+")</option>",i+='<option value="MONTH|'+a+'">MONTH('+a+")</option>",i+='<option value="YEAR|'+a+'">YEAR('+a+")</option>"),app.adminDashboardWidgetsCreate.config.excludedColumns.includes(a)||(o+='<option value="'+a+'" '+("created_at"==a?"selected":"")+">"+a+"</option>"),app.adminDashboardWidgetsCreate.config.excludedColumns.includes(a)||(s+=app.adminDashboardWidgetsFieldToShow.template(a,e))})),$.each(a,(function(a,e){app.adminDashboardWidgetsCreate.config.excludedColumns.includes(a)||a.includes("_id")||app.adminDashboardWidgetsCreate.config.groupPeriodsTrigger.includes(e.type)||(i+='<option value="'+a+'">'+a+"</option>")})),$('[name="aggregate_function"]').html(n),$('[name="group_by_column"]').html(i),$('[name="filter_field"]').html(o),$("#fields-table-to-show tbody").html(s),$('[name="aggregate_function"]').prop("disabled",!1),$('[name="group_by_column"]').prop("disabled",!1),"counter"==$('[name="type"]:checked').val()&&$('[name="filter_field"]').prop("disabled",!1),app.adminDashboardWidgetsFieldToShow.initSelect2()},error:function(){$('[name="aggregate_function"]').prop("disabled",!1),$('[name="group_by_column"]').prop("disabled",!1),$('[name="filter_field"]').prop("disabled",!1)}})}))},app.adminDashboardWidgetsCreate.ajax=function(){$(app.adminDashboardWidgetsCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminDashboardWidgetsCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminDashboardWidgetsCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminDashboardWidgetsCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminDashboardWidgetsCreate.init=function(){app.adminDashboardWidgetsCreate.loadOptionsFilterDataSelect(app.adminDashboardWidgetsCreate.config.defaultFilterData),app.adminDashboardWidgetsCreate.groupByColumnSelect(),app.adminDashboardWidgetsCreate.filterFieldSelect(),app.adminDashboardWidgetsCreate.widget(),app.adminDashboardWidgetsCreate.model(),app.adminDashboardWidgetsCreate.ajax()},$(document).ready(app.adminDashboardWidgetsCreate.init()),$(document).ready((function(){void 0!==$.fn.select2&&$(".icon-widget-select2").select2({escapeMarkup:function(a){return'<span class="fa-2x '+a+'"></span> '+a.replace("fas","")}})}))}(),function(){"use strict";app.adminDashboardWidgetsDatatable={},app.adminDashboardWidgetsDatatable.config={delete:{route:"/admin/dashboard-widgets/multi-delete"},datatable:{selectable:!1,src:"/admin/dashboard-widgets/datatable",resourceName:{singular:app.trans("dashboard widget"),plural:app.trans("dashboard widgets")},columns:[{title:"",key:"handle",searchable:!0,classes:"dashboardwidgets-handle-column",element:function(a){var e='<span data-id="'+a.id+'" data-ordering="'+a.ordering+'"><i class="fas fa-arrows-alt drag-handle"></i></span>';return $(e)}},{title:app.trans("Id"),key:"id",searchable:!0,classes:"dashboardwidgets-id-column tb-id-column"},{title:app.trans("Name"),key:"name",searchable:!0,classes:"dashboardwidgets-name-column"},{title:app.trans("Type"),key:"type",searchable:!0,classes:"dashboardwidgets-type-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"dashboardwidgets-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',app.can("admin.dashboard-widgets.edit")&&(e+='<a class="dropdown-item" href="/admin/dashboard-widgets/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),app.can("admin.dashboard-widgets.delete")&&(e+='<a class="dropdown-item btn-admin-dashboardwidgets-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Delete")+"</a>"),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No dashboard widgets were found!")},sortControl:{value:"ordering__asc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"},{value:"type__asc",label:app.trans("Type")+" ( A - Z )"},{value:"type__desc",label:app.trans("Type")+" ( Z - A )"},{value:"ordering__desc",label:app.trans("Ordering")+" ( Z - A )"},{value:"ordering__asc",label:app.trans("Ordering")+" ( A - Z )"}]},bulkActions:[],limit:50}},app.adminDashboardWidgetsDatatable.init=function(){app.adminDashboardWidgetsDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminDashboardWidgetsDatatable.tb=$("#admin-dashboardwidgets-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.adminDashboardWidgetsDatatable.init())}(),function(){"use strict";app.adminDashboardWidgetsDelete={},app.adminDashboardWidgetsDelete.config={button:".btn-admin-dashboardwidgets-delete"},app.adminDashboardWidgetsDelete.ajax=function(a){$(document).delegate(app.adminDashboardWidgetsDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this dashboardwidget!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"DELETE",url:"/admin/dashboard-widgets/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(a)},success:function(a,e,t){app.notify(a.message),app.adminDashboardWidgetsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.adminDashboardWidgetsDelete.init=function(){app.adminDashboardWidgetsDelete.ajax()},$(document).ready(app.adminDashboardWidgetsDelete.init())}(),function(){"use strict";app.adminDashboardWidgetsFieldToShow={},app.adminDashboardWidgetsFieldToShow.checkboxFieldToShow=function(a){var e=[".field-to-show-display",".field-to-show-format-type",".field-to-show-display-format",".field-to-show-width"];""!=$('[name="loaded_relationships"]').val()&&(e=e.concat([".field-to-show-relationship-name",".field-to-show-relationship-model",".field-to-show-relationship-fields"]));var t=a;$.each(e,(function(a,e){t.is(":checked")?t.parents(".row-field-to-show").find(e).prop("disabled",!1):t.parents(".row-field-to-show").find(e).prop("disabled",!0)}))},app.adminDashboardWidgetsFieldToShow.initSelect2=function(){void 0!==$.fn.select2&&($(".field-to-show-table-wrapper .select2").select2(),app.adminDashboardWidgetsFieldToShow.loadMultipleSelect2())},app.adminDashboardWidgetsFieldToShow.clickCheckboxFieldToShow=function(){$(document).delegate(".checkbox-field-to-show","click",(function(){app.adminDashboardWidgetsFieldToShow.checkboxFieldToShow($(this))}))},app.adminDashboardWidgetsFieldToShow.isFieldChecked=function(){$.each($(".checkbox-field-to-show"),(function(){app.adminDashboardWidgetsFieldToShow.checkboxFieldToShow($(this))}))},app.adminDashboardWidgetsFieldToShow.loadMultipleSelect2=function(){$(".row-field-to-show .field-to-show-relationship-fields:not(.select2-hidden-accessible)").select2({placeholder:"Select Relationship Fields"})},app.adminDashboardWidgetsFieldToShow.relationshipModel=function(){$(document).delegate(".field-to-show-relationship-model","change",(function(a){var e=$(this),t=e.val();$.ajax({type:"GET",url:"/admin/dashboard-widgets/table-columns",data:{table:t},contentType:!1,cache:!1,processData:!0,beforeSend:function(){e.parents(".row-field-to-show").find(".select2-selection--multiple .select2-search--inline .select2-search__field").attr("placeholder","Loading...")},success:function(a,t,n){var i="";$.each(a,(function(a,e){app.adminDashboardWidgetsCreate.config.excludedColumns.includes(a)||(i+='<option value="'+a+'">'+a+"</option>")})),e.parents(".row-field-to-show").find(".field-to-show-relationship-fields").html(i)},error:function(){}})}))},app.adminDashboardWidgetsFieldToShow.hideShowTableWrapper=function(a,e){"show"==e?$(a).show():$(a).hide()},app.adminDashboardWidgetsFieldToShow.template=function(a,e){var t=$('[name="loaded_relationships"]').val(),n="";return n+='<tr class="row-field-to-show '+a+'-field-row">',n+="<td>",n+='<div class="custom-control custom-checkbox">',n+='<input type="checkbox" name="checkbox_field" class="custom-control-input checkbox-field-to-show" id="custom-check-'+a+'">',n+='<label class="custom-control-label" for="custom-check-'+a+'"></label>',n+="</div>",n+="</td>",n+="<td>"+a+"</td>",n+="<td>",n+='<input disabled type="text" value="'+e.display+'" name="fields['+a+'][column_name]" class="form-control field-to-show-display">',n+="</td>",n+="<td>",n+='<select disabled class="form-control select2 field-to-show-format-type" name="fields['+a+'][format_type]">',n+='<option value="html">'+app.trans("HTML")+"</option>",n+='<option value="timeago">'+app.trans("Timeago")+"</option>",n+='<option value="date">'+app.trans("Date")+"</option>",n+='<option value="datetime">'+app.trans("DateTime")+"</option>",n+="</select>",n+="</td>",n+="<td>",n+='<textarea disabled name="fields['+a+'][display_format]" class="form-control field-to-show-display-format">$'+a+"$</textarea>",n+="</td>",n+="<td>",n+='<input disabled type="number" maxlength="100" placeholder="'+app.trans("Column width in percentage.")+'" name="fields['+a+'][width]" class="form-control field-to-show-width">',n+="</td>",n+="<td>",n+='<select disabled class="field-to-show-relationship-name form-control select2" name="fields['+a+'][relationship_name]">',""!=t?(n+='<option value="">'+app.trans("Select Relationship Name")+"</option>",$.each(t.split(","),(function(a,e){n+='<option value="'+e+'">'+e+"</option>"}))):n+='<option value="">'+app.trans("Add Loaded Relationships")+"</option>",n+="</select>",n+="</td>",n+="<td>",n+='<select disabled class="field-to-show-relationship-model form-control select2" name="fields['+a+'][relationship_model]">',""!=t?(n+='<option value="">'+app.trans("Select Model")+"</option>",$.each($('[name="data_source_model"] > option'),(function(){""!=$(this).attr("value")&&(n+='<option value="'+$(this).attr("value")+'">'+$(this).html()+"</option>")}))):n+='<option value="">'+app.trans("Add Loaded Relationships")+"</option>",n+="</select>",n+="</td>",n+="<td>",n+='<select disabled multiple class="field-to-show-relationship-fields form-control" name="fields['+a+'][relationship_fields][]">',n+=""!=t?'<option value="">'+app.trans("Select Relationship Fields")+"</option>":'<option value="">'+app.trans("Add Loaded Relationships")+"</option>",n+="</select>",n+="</td>",n+="</tr>"},app.adminDashboardWidgetsFieldToShow.init=function(){app.adminDashboardWidgetsFieldToShow.clickCheckboxFieldToShow(),app.adminDashboardWidgetsFieldToShow.relationshipModel()},$(document).ready(app.adminDashboardWidgetsFieldToShow.init())}(),function(){"use strict";app.adminDashboardWidgetsFormatType={},app.adminDashboardWidgetsFormatType.templateValue=function(a,e){var t=a.find(".field-to-show-display-format").attr("data-default-value"),n=a.find("td:first-child + td").html();return"html"==e?""!=t?t:"$"+n+"$":e},app.adminDashboardWidgetsFormatType.init=function(){$(document).delegate(".field-to-show-format-type","change",(function(a){var e=$(this).val(),t=$(this).parents(".row-field-to-show"),n=app.adminDashboardWidgetsFormatType.templateValue(t,e);"html"==e?t.find(".field-to-show-display-format").prop("disabled",!1):t.find(".field-to-show-display-format").prop("disabled",!0),t.find(".field-to-show-display-format").val(n)}))},$(document).ready(app.adminDashboardWidgetsFormatType.init())}(),function(){"use strict";app.adminDashboardWidgetsLoadedRelationships={},app.adminDashboardWidgetsLoadedRelationships.loadRelationshipName=function(a){$.each($("#fields-table-to-show .field-to-show-relationship-name"),(function(){$(this);var e='<option value="">'+app.trans("Select Relationship Name")+"</option>";$.each(a.split(","),(function(a,t){""!=t&&(e+='<option value="'+t+'">'+t+"</option>")})),$(this).html(e)}))},app.adminDashboardWidgetsLoadedRelationships.loadRelationshipModel=function(){$.each($("#fields-table-to-show .field-to-show-relationship-model"),(function(){$(this);var a='<option value="">'+app.trans("Select Model")+"</option>";$.each($('[name="data_source_model"] > option'),(function(){""!=$(this).attr("value")&&(a+='<option value="'+$(this).attr("value")+'">'+$(this).html()+"</option>")})),$(this).html(a)}))},app.adminDashboardWidgetsLoadedRelationships.changeRelationshipFields=function(){$.each($("#fields-table-to-show .field-to-show-relationship-fields"),(function(){$(this);var a='<option value="">'+app.trans("Select Relationship Fields")+"</option>";$(this).html(a)}))},app.adminDashboardWidgetsLoadedRelationships.resetRelationshipFieldsOption=function(){$.each([".field-to-show-relationship-name",".field-to-show-relationship-model",".field-to-show-relationship-fields"],(function(a,e){$.each($("#fields-table-to-show "+e),(function(){$(this);var a='<option value="">'+app.trans("Add Loaded Relationships")+"</option>";$(this).html(a),$(this).prop("disabled",!0)}))}))},app.adminDashboardWidgetsLoadedRelationships.init=function(){$('[name="loaded_relationships"]').on("change",(function(){var a=$(this).val();""!=a?(app.adminDashboardWidgetsLoadedRelationships.loadRelationshipName(a),app.adminDashboardWidgetsLoadedRelationships.loadRelationshipModel(),app.adminDashboardWidgetsLoadedRelationships.changeRelationshipFields(),app.adminDashboardWidgetsFieldToShow.isFieldChecked()):app.adminDashboardWidgetsLoadedRelationships.resetRelationshipFieldsOption()}))},$(document).ready(app.adminDashboardWidgetsLoadedRelationships.init())}(),function(){"use strict";app.adminDashboardWidgetsSort={},app.adminDashboardWidgetsSort.init=function(){void 0!==$.fn.sortable&&($("#admin-dashboardwidgets-datatable table td").each((function(){$(this).css("width",$(this).outerWidth())})),$("#admin-dashboardwidgets-datatable tbody").sortable({delay:150,handle:".drag-handle",cursor:"move",placeholder:"placeholder",stop:function(){var a=new Array;$("#admin-dashboardwidgets-datatable tbody>tr").each((function(){var e=$(this).find(".dashboardwidgets-handle-column"),t=e.find(">span").attr("data-id"),n=e.find(">span").attr("data-ordering");a.push({id:t,ordering:n})})),$.ajax({type:"POST",url:"/admin/dashboard-widgets/reorder",dataType:"json",data:{ordering:a},success:function(a,e,t){app.notify(a.message)}})}}))},$(document).ready(app.adminDashboardWidgetsSort.init())}(),function(){"use strict";app.adminDashboardWidgetsUpdate={},app.adminDashboardWidgetsUpdate.init=function(){void 0!==$.fn.select2&&setTimeout((function(){$(".field-to-show-relationship-fields").select2({placeholder:app.trans("Select Relationship Fields")})}),2e3),$('[name="type"]:checked').trigger("click")},$(document).ready(app.adminDashboardWidgetsUpdate.init())}(),function(){"use strict";app.adminDatabaseBackup={},app.adminDatabaseBackup.init=function(){$('[name="database_auto_backup"]').on("change",(function(){this.checked?$(".database-backup-frequency").removeClass("d-none"):$(".database-backup-frequency").addClass("d-none")}))},$(document).ready(app.adminDatabaseBackup.init())}(),function(){"use strict";app.adminDatabaseBackupCreate={},app.adminDatabaseBackupCreate.config={route:"/admin/database-backup/create",btn:"#btn-admin-backup-database"},app.adminDatabaseBackupCreate.ajax=function(a){$(app.adminDatabaseBackupCreate.config.btn).on("click",(function(a){a.preventDefault();var e=$(this),t=e.html();$.ajax({type:"POST",url:app.adminDatabaseBackupCreate.config.route,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.notify(a.message),app.adminDatabaseBackupDatatable.tb.refresh()},error:function(a,n,i){var o=a;app.notify(o.responseJSON.message),app.backButtonContent(e,t)}})}))},app.adminDatabaseBackupCreate.init=function(){app.adminDatabaseBackupCreate.ajax()},$(document).ready(app.adminDatabaseBackupCreate.init())}(),function(){"use strict";app.adminDatabaseBackupDatatable={},app.adminDatabaseBackupDatatable.delete=function(a,e){var t=a.map((function(a){return a.file}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete file(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Processing")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:"/admin/database-backup/delete",data:{files:t},success:function(a,t,i){app.notify(a.message),e.refresh(),setTimeout((function(){n.modal("hide")}),350)},error:function(a){app.notify(a.responseJSON.message),setTimeout((function(){n.modal("hide")}),350)}})}}})},app.adminDatabaseBackupDatatable.config={datatable:"#admin-database-backup-datatable",options:{src:"/admin/database-backup/datatable",resourceName:{singular:app.trans("database backup"),plural:app.trans("database backups")},columns:[{title:app.trans("Date"),key:"date",classes:"database-backup-date-row"},{title:app.trans("Actions"),key:"date",classes:"database-backup-actions-row",element:function(a){return $('<div class="d-flex"><a href="javascript:void(0)" class="btn btn-success btn-sm btn-download-database-backup-row mr-1" data-id="'.concat(a.file,'"><i class="fas fa-download"></i></a><a href="javascript:void(0)" class="btn btn-danger btn-sm btn-delete-database-backup-row" data-id="').concat(a.file,'"><i class="fas fa-trash"></i></a></div>'))}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No database backups were found!")},selectable:!1,showSearchQuery:!1,limit:25}},app.adminDatabaseBackupDatatable.handleDownload=function(){$(document).delegate(".btn-download-database-backup-row","click",(function(){location.href="/admin/database-backup/download?file="+$(this).data("id")}))},app.adminDatabaseBackupDatatable.handleDelete=function(){var a=this;$(document).delegate(".btn-delete-database-backup-row","click",(function(){a.delete([{file:$(this).data("id")}],app.adminDatabaseBackupDatatable.tb)}))},app.adminDatabaseBackupDatatable.init=function(){app.adminDatabaseBackupDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminDatabaseBackupDatatable.tb=$(this.config.datatable).JsDataTable(this.config.options)),this.handleDownload(),this.handleDelete()},$(document).ready(app.adminDatabaseBackupDatatable.init())}(),function(){"use strict";app.adminDatabaseBackupSettingsUpdate={},app.adminDatabaseBackupSettingsUpdate.config={form:"#admin-database-backup-settings-update-form",route:"/admin/database-backup/settings/update"},app.adminDatabaseBackupSettingsUpdate.ajax=function(a){$(app.adminDatabaseBackupSettingsUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminDatabaseBackupSettingsUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminDatabaseBackupSettingsUpdate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.notify(a.message)},error:function(a,n,i){var o=a;app.formErrors(app.adminDatabaseBackupSettingsUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminDatabaseBackupSettingsUpdate.init=function(){app.adminDatabaseBackupSettingsUpdate.ajax()},$(document).ready(app.adminDatabaseBackupSettingsUpdate.init())}(),function(){"use strict";app.adminDeductWalletBalance={},app.adminDeductWalletBalance.config={btn:".btn-admin-deduct-wallet-balance",modal:"#user-deduct-balance-admin-modal",form:"#user-deduct-balance-admin-form",route:"/admin/wallet/deduct-balance"},app.adminDeductWalletBalance.ajax=function(){$(app.adminDeductWalletBalance.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminDeductWalletBalance.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminDeductWalletBalance.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminDeductWalletBalance.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminDeductWalletBalance.showModal=function(){var a=this;$(document).delegate(a.config.btn,"click",(function(){var e=$(this).data("balance"),t=$(this).data("currency");$(a.config.form).find(".deduct-wallet-currency-label").html(t),$(a.config.form).find('[name="currency"]').val(t),$(a.config.form).find(".deduct-wallet-balance-label").html(e),$(a.config.modal).modal("show")}))},app.adminDeductWalletBalance.onModalHide=function(){var a=this;$(this.config.modal).on("hide.bs.modal",(function(){$(a.config.form).find(".deduct-wallet-balance-label").html("$0.00"),$(a.config.form).find(".deduct-wallet-currency-label").html("USD"),$(a.config.form).find('[name="currency"]').val(""),$(a.config.form).find('[name="amount"]').val("")}))},app.adminDeductWalletBalance.init=function(){this.showModal(),this.onModalHide(),this.ajax()},$(document).ready(app.adminDeductWalletBalance.init())}(),function(){"use strict";app.adminDepositManualGatewayDatatable={},app.adminDepositManualGatewayDatatable.avatar=function(a){return null===a?app.config.avatarDefault:a},app.adminDepositManualGatewayDatatable.config={datatable:"#admin-deposit-manual-gateways-datatable",route:"/admin/shipping-rates/delete",options:{src:"/admin/deposits/gateway/manual/datatable",resourceName:{singular:app.trans("manual gateway"),plural:app.trans("manual gateways")},columns:[{title:app.trans("Gateway"),key:"gateway",classes:"manual-gateway-name-row",searchable:!1,element:function(a){return $('<div class="d-flex align-items-center">\n                                <div class="media mr-3">\n                                    <img src="'.concat(a.logo,'" alt="').concat(a.name,'" width="55" height="55" style="object-fit: cover; object-position: center;">\n                                </div>\n                                <span class="text-bold">').concat(a.name,"</span>\n                            </div>"))}},{title:app.trans("Min Amount"),key:"min_amount_display",classes:"deposit-manual-method-min_amount-display-row",searchable:!1,orderable:!1},{title:app.trans("Max Amount"),key:"max_amount_display",classes:"deposit-manual-method-max_amount-display-row",searchable:!1,orderable:!1},{title:app.trans("Charge"),key:"charge",classes:"deposit-manual-method-charge-row",searchable:!1,element:function(a){return $('<span class="d-flex align-items-center">\n                                '.concat(a.charge_display," + ").concat(a.percent_charge||0,"%\n                            </span>"))}},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t="Archived";return a.status&&(e="primary",t="Active"),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"manual-gateway-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/deposits/gateway/manual/'+a.id+'/edit" data-id="'+a.id+'">'+app.trans("Edit gateway")+"</a>",a.status?e+='<a class="dropdown-item text-danger btn-disable-manual-gateway" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Disable gateway")+"</a>":e+='<a class="dropdown-item btn-enable-manual-gateway" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Enable gateway")+"</a>",e+='<a class="dropdown-item text-danger btn-delete-manual-gateway" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Delete gateway")+"</a>",e+="</div>",$(e)}},{title:"name",key:"name",hidden:!0},{title:"min_limit",key:"min_limit",hidden:!0},{title:"max_limit",key:"max_limit",hidden:!0},{title:"fixed_charge",key:"fixed_charge",hidden:!0},{title:"percent_charge",key:"percent_charge",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No manual gateways were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Active"),value:"active"},{label:app.trans("Archived"),value:"archived"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],selectable:!1,sortControl:{value:"created_at__desc",options:[]},limit:25}},app.adminDepositManualGatewayDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminDepositManualGatewayDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminDepositManualGatewayDatatable.init=function(){this.initDatatable()},$(document).ready(app.adminDepositManualGatewayDatatable.init())}(),function(){"use strict";app.adminDepositRequestsDatatable={},app.adminDepositRequestsDatatable.config={datatable:"#admin-deposit-requests-datatable",route:"/admin/deposits/datatable",options:{src:"/admin/deposits/datatable",resourceName:{singular:app.trans("deposit request"),plural:app.trans("deposit requests")},columns:[{title:app.trans("Gateway"),key:"trx",classes:"deposit-history-trx-row",searchable:!1,orderable:!1,element:function(a){if(a.gateway)var e=a.gateway.charAt(0).toUpperCase()+a.gateway.slice(1);else e=a.method.name;return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(e,'</strong>\n                            <span class="text-muted text-sm">').concat(a.trx,"</span>\n                        </div>\n                    "))}},{title:app.trans("User"),key:"user",classes:"deposit-history-user-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.user.full_name,'</strong>\n                            <span class="text-muted text-sm">').concat(a.user.email,"</span>\n                        </div>\n                    "))}},{title:app.trans("Amount"),key:"total",classes:"deposit-history-total-row",searchable:!1,orderable:!1},{title:app.trans("Charge"),key:"charge_display",classes:"deposit-history-total-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <span>'.concat(a.charge_display,'</span>\n                            <span class="text-sm text-muted">').concat(a.fixed_charge_display," + ").concat(a.percent_charge_rate,"%</span>\n                        </div>\n                    "))}},{title:app.trans("Date"),key:"date",classes:"deposit-history-date-row",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t=app.trans("Pending");return a.rejected_at?(e="danger",t=app.trans("Rejected")):a.status&&(e="primary",t=app.trans("Completed")),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"deposit-actions-column tb-actions-column text-right",element:function(a){return $('<a href="/admin/deposits/'.concat(a.trx,'" class="btn btn-primary btn-sm ').concat(a.method_id?"":"disabled",'" ').concat(a.method_id?"":'disabled="disabled"','><i class="fas fa-eye"></i></a>'))}},{title:"trx",key:"trx",hidden:!0},{title:"gateway",key:"gateway",hidden:!0},{title:"amount",key:"amount",hidden:!0},{title:"fixed_charge",key:"fixed_charge",hidden:!0},{title:"percent_charge_rate",key:"percent_charge_rate",hidden:!0},{title:"percent_charge",key:"percent_charge",hidden:!0},{title:"charge",key:"charge",hidden:!0},{title:"currency",key:"currency",hidden:!0},{title:"first_name",key:"user.first_name",hidden:!0},{title:"last_name",key:"user.last_name",hidden:!0},{title:"email",key:"user.email",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No requests were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Pending"),value:"Pending"},{label:app.trans("Completed"),value:"Completed"},{label:app.trans("Rejected"),value:"Rejected"}],hidden:!0,shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("Pending"),filters:[{key:"status",value:"Pending"}]},{label:app.trans("Completed"),filters:[{key:"status",value:"Completed"}]},{label:app.trans("Rejected"),filters:[{key:"status",value:"Rejected"}]}],selectable:!1,sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:25}},app.adminDepositRequestsDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminDepositRequestsDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminDepositRequestsDatatable.init=function(){this.initDatatable()},$(document).ready(app.adminDepositRequestsDatatable.init())}(),function(){"use strict";app.adminExportTransactionsReport={},app.adminExportTransactionsReport.config={button:{print:".btn-print-transactions",excel:".btn-export-transaction-excel",pdf:".btn-export-transaction-pdf"}},app.adminExportTransactionsReport.exportExcel=function(){$(this.config.button.excel).click((function(){window.location="/admin/transactions/reports/export-excel?"+app.adminTransactionReportsDatatable.table.getQuery()}))},app.adminExportTransactionsReport.exportPdf=function(){$(this.config.button.pdf).click((function(){window.location="/admin/transactions/reports/export-pdf?"+app.adminTransactionReportsDatatable.table.getQuery()}))},app.adminExportTransactionsReport.print=function(){$(this.config.button.print).click((function(){var a="/admin/transactions/reports/datatable/print-preview?"+app.adminTransactionReportsDatatable.table.getQuery(),e=$(this),t=e.html();$.ajax({type:"GET",url:a,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t);var o=$("<iframe />");o[0].name="frame1",o.css({position:"absolute",top:"-1000000px"}),$("body").append(o);var s=o[0].contentWindow?o[0].contentWindow:o[0].contentDocument.document?o[0].contentDocument.document:o[0].contentDocument;s.document.open(),s.document.write(a),s.document.close(),setTimeout((function(){window.frames.frame1.focus(),window.frames.frame1.print(),o.remove()}),500)},error:function(a,n,i){var o=a;app.backButtonContent(e,t),app.notify(o.responseJSON.message)}})}))},app.adminExportTransactionsReport.init=function(){this.exportExcel(),this.exportPdf(),this.print()},$(document).ready(app.adminExportTransactionsReport.init())}(),function(){"use strict";app.adminFrontend={},app.adminFrontend.colorSchemeType=function(){$('#admin-frontend-settings-form [name="frontend_color_scheme"]').on("change",(function(){"dark"==$(this).val()?$(".dark-color-wrapper").show():$(".dark-color-wrapper").hide()}))},app.adminFrontend.sectionFrontendType=function(){$('#admin-frontend-create-form [name="type"]').on("change",(function(){var a=$(this).val();"section"==a&&$(".frontend-section-wrapper").show(),"element"==a&&$(".frontend-section-wrapper").hide()}))},app.adminFrontend.sectionFrontendSectionData=function(){$('#admin-frontend-create-form [name="section_data_source"]').on("change",(function(){"manual"==$(this).val()?$(".frontend-section-data-wrapper").show():$(".frontend-section-data-wrapper").hide()}))},app.adminFrontend.sectionBackgroundType=function(){$("[name='section_background_type']").on("change",(function(){var a=$(this).val();"colored"==a&&($(".section-background-color-wrapper").show(),$(".section-background-image-wrapper").hide(),Dropzone.forElement("#frontend-section_background_image-dropzone").removeAllFiles(!0)),"imaged"==a&&($(".section-background-image-wrapper").show(),$(".section-background-color-wrapper").hide(),$(".section-background-color-wrapper").find('[name="section_background_color"]').val(""),$(".section-background-color-wrapper .input-group-append").find("i").removeAttr("style"))}))},app.adminFrontend.init=function(){void 0!==$.fn.colorpicker&&$(".section-color-picker").colorpicker({format:"hex",component:".input-group-append"}),app.adminFrontend.colorSchemeType(),app.adminFrontend.sectionFrontendType(),app.adminFrontend.sectionBackgroundType(),app.adminFrontend.sectionFrontendSectionData()},$(document).ready(app.adminFrontend.init())}(),function(){"use strict";app.adminFrontendSettings={},app.adminFrontendSettings.config={form:"#admin-frontend-settings-form",redirect:"/admin/frontends/settings",types:{general:{getData:function(a){var e=new FormData(a),t=$('[data-image-gallery="2100"]').sGallery().images();return t.length?e.append("frontend_social_sharing_image",t[0].original_url):e.append("frontend_social_sharing_image",""),e}},footer_section:{getData:function(a){var e=new FormData(a);return $('[data-image-gallery="2200"]').sGallery().images(),e}},logos:{getData:function(a){var e=new FormData(a),t=$('[data-image-gallery="2301"]').sGallery().images();t.length?e.append("frontend_dark_logo",t[0].original_url):e.append("frontend_dark_logo","");var n=$('[data-image-gallery="2302"]').sGallery().images();return n.length?e.append("frontend_white_logo",n[0].original_url):e.append("frontend_white_logo",""),e}},header_section:{getData:function(a){var e=new FormData(a),t=$('[data-image-gallery="frontend-breadcrumb-bg-image"]').sGallery().images();return t.length?e.append("frontend_breadcrumb_bg_image",t[0].original_url):e.append("frontend_breadcrumb_bg_image",""),e}}}},app.adminFrontendSettings.ajax=function(){var a=this;$(a.config.form).on("submit",(function(e){e.preventDefault();var t,n=$(this).find(":submit"),i=n.html(),o=$(this).data("route"),s=$(this).data("type");t=a.config.types.hasOwnProperty(s)&&a.config.types[s].hasOwnProperty("getData")?a.config.types[s].getData(this):new FormData(this),$.ajax({type:"POST",url:o,data:t,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(n)},success:function(e,t,o){app.notify(e.message),setTimeout((function(){var e=$(a.config.form+' [name="redirect"]');e=e.length?e.val():a.config.redirect,app.redirect(e)}),1e3),app.backButtonContent(n,i)},error:function(e,t,o){var s=e;app.formErrors(a.config.form,s.responseJSON,s.status),app.backButtonContent(n,i)}})}))},app.adminFrontendSettings.headerBgStyleChange=function(){$('[name="frontend_breadcrumb_background_style"]').on("change",(function(){"image"===this.value?($(".frontend-breadcrumb-bg-color").addClass("d-none"),$(".frontend-breadcrumb-bg-image").removeClass("d-none")):($(".frontend-breadcrumb-bg-color").removeClass("d-none"),$(".frontend-breadcrumb-bg-image").addClass("d-none"))}))},app.adminFrontendSettings.init=function(){app.adminFrontendSettings.ajax(),app.adminFrontendSettings.headerBgStyleChange()},$(document).ready(app.adminFrontendSettings.init())}(),function(){"use strict";app.adminInstall={},app.adminInstall.init=function(){$("#start-installation").click((function(){app.buttonLoader($(this)),$("#form-installation").submit()}))},$(document).ready(app.adminInstall.init())}(),function(){"use strict";app.adminLanguages={},app.adminLanguages.init=function(){},$(document).ready(app.adminLanguages.init())}(),function(){"use strict";app.adminLanguagesAddLanguagePhrase={},app.adminLanguagesAddLanguagePhrase.config={form:"#add-language-phrase-form"},app.adminLanguagesAddLanguagePhrase.route=function(){return $(app.adminLanguagesAddLanguagePhrase.config.form).data("action")},app.adminLanguagesAddLanguagePhrase.key=function(){$(app.adminLanguagesAddLanguagePhrase.config.form+' [name="key"]').on("change",(function(){var a=$(this),e=a.attr("data-action"),t=$("#add-language-phrase-form").serialize();$.ajax({type:"POST",url:e,data:t,cache:!1,beforeSend:function(){$(app.adminLanguagesAddLanguagePhrase.config.form+" .language-value").val(""),a.parent(".form-group").append('<p class="ajax-translating">Translating...</p>')},success:function(a){$(".ajax-translating").hide(),$.each(a.data.value,(function(a,e){$(app.adminLanguagesAddLanguagePhrase.config.form+" .language-value-"+a).val(e)}))}})}))},app.adminLanguagesAddLanguagePhrase.english=function(){$(app.adminLanguagesAddLanguagePhrase.config.form+" [name=\"value['en']\"]").on("keyup",(function(){$(app.adminLanguagesAddLanguagePhrase.config.form+' [name="key"]').val($(this).val())}))},app.adminLanguagesAddLanguagePhrase.ajax=function(){$(app.adminLanguagesAddLanguagePhrase.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminLanguagesAddLanguagePhrase.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminLanguagesAddLanguagePhrase.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.notify(a.message),app.closeModal(),app.backButtonContent(e,t),app.formReset(app.adminLanguagesAddLanguagePhrase.config.form)},error:function(a,n,i){var o=a;app.formErrors(app.adminLanguagesAddLanguagePhrase.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminLanguagesAddLanguagePhrase.init=function(){app.adminLanguagesAddLanguagePhrase.ajax(),app.adminLanguagesAddLanguagePhrase.key(),app.adminLanguagesAddLanguagePhrase.english()},$(document).ready(app.adminLanguagesAddLanguagePhrase.init())}(),function(){"use strict";app.adminLanguagesCreate={},app.adminLanguagesCreate.config={form:"#languages-create-form",route:"/admin/languages/create"},app.adminLanguagesCreate.ajax=function(){$(app.adminLanguagesCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminLanguagesCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminLanguagesCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminLanguagesCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminLanguagesCreate.init=function(){app.adminLanguagesCreate.ajax()},$(document).ready(app.adminLanguagesCreate.init())}(),function(){"use strict";app.adminLanguagesDatatable={},app.adminLanguagesDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Do you want to continue?"),message:app.trans("All users who were using this language will be reverted to the default language if it is deleted."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminLanguagesDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminLanguagesDatatable.restore=function(){$(document).delegate(".btn-languages-restore","click",(function(){var a=$(this).attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this language!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"post",url:app.adminLanguagesDatatable.config.restore.route,data:{id:a},success:function(a,e,t){app.notify(a.message),app.adminLanguagesDatatable.tb.refresh()},error:function(a){app.notify(a.message)}})}})}))},app.adminLanguagesDatatable.forceDelete=function(){$(document).delegate(".btn-languages-force-delete","click",(function(){var a=$(this).attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this language!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"delete",url:app.adminLanguagesDatatable.config.forceDelete.route,data:{id:a},success:function(a,e,t){app.notify(a.message),app.adminLanguagesDatatable.tb.refresh()},error:function(a){app.notify(a.message)}})}})}))},app.adminLanguagesDatatable.config={delete:{route:"/admin/languages/multi-delete"},restore:{route:"/admin/languages/restore"},forceDelete:{route:"/admin/languages/force-delete"},datatable:{src:"/admin/languages/datatable",resourceName:{singular:app.trans("language"),plural:app.trans("languages")},columns:[{title:app.trans("Id"),key:"id",classes:"languages-id-column tb-id-column"},{title:app.trans("Title"),key:"title",classes:"languages-title-column",element:function(a){var e="<span>"+a.title;return e+=' <a href="/admin/languages/'+a.id+"/edit/"+a.code+'"><i class="fas fa-edit"></i> Edit language</a>',e+="</span>",$(e)}},{title:app.trans("Code"),key:"code",classes:"languages-code-column"},{title:app.trans("Direction"),key:"direction",classes:"languages-direction-display-column"},{title:app.trans("Active"),key:"active",searchable:!1,classes:"languages-active-column",element:function(a){var e='<div class="custom-control custom-checkbox">';return e+='<input type="checkbox" class="custom-control-input" id="col-'+a.id+'" '+(1==a.active?"checked":"")+" disabled>",e+='<label class="custom-control-label" for="col-'+a.id+'"></label>',e+="</div>",$(e)}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"languages-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&(app.can("admin.languages.show")&&(e+='<a class="dropdown-item" href="/admin/languages/'+a.id+'/show"><i class="fas fa-eye"></i> View</a>'),app.can("admin.languages.edit")&&(e+='<a class="dropdown-item" href="/admin/languages/'+a.id+'/edit"><i class="fas fa-edit"></i> Edit</a>'),app.can("admin.languages.delete")&&(e+='<a class="dropdown-item btn-languages-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> Delete</a>')),null!==a.deleted_at&&(app.can("admin.languages.restore")&&(e+='<a class="dropdown-item btn-languages-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> Restore</a>'),app.can("admin.languages.force-delete")&&(e+='<a class="dropdown-item btn-languages-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> Force delete</a>')),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No languages were found!")},filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("Trashed"),filters:[{key:"status",value:"Trashed"}]}],filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Trashed"),value:"Trashed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"title__asc",label:app.trans("Title")+" ( A - Z )"},{value:"title__desc",label:app.trans("Title")+" ( Z - A )"},{value:"code__asc",label:app.trans("Code")+" ( A - Z )"},{value:"code__desc",label:app.trans("Code")+" ( Z - A )"},{value:"direction__asc",label:app.trans("Direction")+" ( A - Z )"},{value:"direction__desc",label:app.trans("Direction")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminLanguagesDatatable.delete,status:"error"}],limit:10}},app.adminLanguagesDatatable.init=function(){app.adminLanguagesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminLanguagesDatatable.tb=$("#languages-datatable").JsDataTable(this.config.datatable)),app.adminLanguagesDatatable.restore(),app.adminLanguagesDatatable.forceDelete()},$(document).ready(app.adminLanguagesDatatable.init())}(),function(){"use strict";app.adminLanguagesDelete={},app.adminLanguagesDelete.config={button:".btn-languages-delete"},app.adminLanguagesDelete.ajax=function(a){$(document).delegate(app.adminLanguagesDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Do you want to continue?"),message:app.trans("All users who were using this language will be reverted to the default language if it is deleted."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"DELETE",url:"/admin/languages/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(a)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.adminLanguagesDelete.init=function(){app.adminLanguagesDelete.ajax()},$(document).ready(app.adminLanguagesDelete.init())}(),function(){"use strict";app.adminLanguagesEditDatatable={},app.adminLanguagesEditDatatable.getId=function(){return $("#languages-edit-datatable").data("id")},app.adminLanguagesEditDatatable.getCode=function(){return $("#languages-edit-datatable").data("code")},app.adminLanguagesEditDatatable.route=function(){return"/admin/languages/edit-datatable/"+app.adminLanguagesEditDatatable.getId()},app.adminLanguagesEditDatatable.btnEditStatus=function(a){a.parents("form").find(".languages-phrase-txt").hide(),a.parents("form").find(".languages-phrase-txtbox").show(),a.parents("form").find(".btn-translate-language-phrase").hide(),a.parents("form").find(".btn-save-language-phrase").show(),a.parents("form").find(".btn-cancel-language-phrase").show(),a.hide()},app.adminLanguagesEditDatatable.btnCancelStatus=function(a){a.parents("form").find(".languages-phrase-txt").show(),a.parents("form").find(".btn-edit-language-phrase").show(),a.parents("form").find(".btn-translate-language-phrase").show(),a.parents("form").find(".languages-phrase-txtbox").hide(),a.parents("form").find(".btn-save-language-phrase").hide(),a.parents("form").find(".btn-cancel-language-phrase").hide()},app.adminLanguagesEditDatatable.editLanguagePhrase=function(){$(document).delegate(".btn-edit-language-phrase","click",(function(){app.adminLanguagesEditDatatable.btnEditStatus($(this)),$(this).parents("form").addClass("table-form-language-editing")})),$(document).delegate(".btn-cancel-language-phrase","click",(function(){app.adminLanguagesEditDatatable.btnCancelStatus($(this)),$(this).parents("form").removeClass("table-form-language-editing")})),$(document).delegate(".btn-translate-language-phrase","click",(function(){var a=$(this),e=a.html(),t=a.parents("form").attr("id"),n=a.parents("form").find('[name="id"]').val(),i=a.parents("form").find('[name="code"]').val(),o=a.parents("form").find('[name="key"]').val(),s=a.parents("form").find('[name="value"]').val();$.ajax({type:"POST",url:"/admin/languages/translate-phrase",data:{id:n,code:i,key:o,value:s},dataType:"JSON",beforeSend:function(){app.buttonLoader(a)},success:function(t,n,i){app.notify(t.message),a.parents("form").find(".languages-phrase-txt").text(t.data.value),a.parents("form").find(".languages-phrase-txtbox").val(t.data.value),app.backButtonContent(a,e),a.parents("form").removeClass("table-form-language-editing")},error:function(n,i,o){var s=n;app.formErrors("#"+t,s.responseJSON,s.status),app.backButtonContent(a,e)}})})),$(document).delegate(".btn-save-language-phrase","click",(function(){var a=$(this),e=a.html(),t=a.parents("form").attr("id"),n=a.parents("form").find('[name="id"]').val(),i=a.parents("form").find('[name="key"]').val(),o=a.parents("form").find('[name="value"]').val(),s=a.parents("form").find('[name="default"]').val();$.ajax({type:"POST",url:"/admin/languages/update-phrase",data:{id:n,key:i,value:o,default:s},dataType:"JSON",beforeSend:function(){app.buttonLoader(a)},success:function(t,n,i){app.notify(t.message),a.parents("form").find(".languages-phrase-txt").text(o),app.backButtonContent(a,e),app.adminLanguagesEditDatatable.btnCancelStatus(a),a.parents("form").removeClass("table-form-language-editing")},error:function(n,i,o){var s=n;app.formErrors("#"+t,s.responseJSON,s.status),app.backButtonContent(a,e)}})}))},app.adminLanguagesEditDatatable.config={datatable:{selectable:!1,src:app.adminLanguagesEditDatatable.route(),resourceName:{singular:app.trans("update language"),plural:app.trans("update languages")},columns:[{title:app.trans("Key"),key:"key",classes:"languages-key-column"},{title:app.trans("Value"),key:"value",classes:"languages-value-column",element:function(a){var e='<form id="form-lang-'+a.key.replace(/[^A-Za-z]/g,"").replace(/ /g,"-")+'">';return e+='<span class="languages-phrase-txt">'+a.value+"</span><br>",e+='<input type="hidden" name="id" class="form-control" value="'+app.adminLanguagesEditDatatable.getId()+'">',e+="<input type='hidden' name='key' class='form-control' value='"+a.key.replace(/'/g,"&#39;")+"'>",e+='<input type="hidden" name="default" class="form-control" value="'+a.default+'">',e+="<div class='form-group'><input type='text' name='value' class='form-control languages-phrase-txtbox' value='"+a.value.replace(/'/g,"&#39;")+"'></div>",e+='<button type="button" class="btn btn-default btn-sm btn-edit-language-phrase mr-1"> <i class="fas fa-edit"></i> '+app.trans("Edit")+"</button>","en"!=app.adminLanguagesEditDatatable.getCode()&&(e+='<button type="button" class="btn btn-success btn-sm btn-translate-language-phrase mr-1"> <i class="fas fa-language"></i> '+app.trans("Translate")+"</button>"),e+='<button type="button" class="btn btn-primary btn-sm btn-save-language-phrase mr-1"> <i class="fas fa-save"></i> '+app.trans("Save")+"</button>",e+='<button type="button" class="btn btn-warning btn-sm btn-cancel-language-phrase"> <i class="fas fa-times"></i> '+app.trans("Cancel")+"</button>",e+="</form>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No language phrases were found!")},filterTabs:[{label:app.trans("Global"),filters:[]},{label:app.trans("Auth.php"),filters:[{key:"type",value:"auth"}]},{label:app.trans("Pagination.php"),filters:[{key:"type",value:"pagination"}]},{label:app.trans("Passwords.php"),filters:[{key:"type",value:"passwords"}]},{label:app.trans("Validation.php"),filters:[{key:"type",value:"validation"}]}],filterControl:[{key:"type",title:app.trans("Type"),choices:[{label:app.trans("Global"),value:"global"},{label:app.trans("Auth.php"),value:"auth"},{label:app.trans("Pagination.php"),value:"pagination"},{label:app.trans("Passwords.php"),value:"passwords"},{label:app.trans("Validation.php"),value:"validation"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id_asc",options:[{value:"id_asc",label:app.trans("Latest")},{value:"id_desc",label:app.trans("Oldest")}]},limit:25}},app.adminLanguagesEditDatatable.init=function(){app.adminLanguagesEditDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminLanguagesEditDatatable.tb=$("#languages-edit-datatable").JsDataTable(this.config.datatable)),app.adminLanguagesEditDatatable.editLanguagePhrase()},$(document).ready(app.adminLanguagesEditDatatable.init())}(),function(){"use strict";app.adminLanguagesSyncAll={},app.adminLanguagesSyncAll.config={route:"/admin/languages/sync-all-language"},app.adminLanguagesSyncAll.init=function(){$("#btn-sync-all-language").on("click",(function(){var a=$(this),e=a.html();$.ajax({type:"POST",url:app.adminLanguagesSyncAll.config.route,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(a)},success:function(t,n,i){app.notify(t.message),app.backButtonContent(a,e)},error:function(t,n,i){var o=t;app.notify(o.responseJSON.message),app.backButtonContent(a,e)}})}))},$(document).ready(app.adminLanguagesSyncAll.init())}(),function(){"use strict";app.adminLanguagesUpdate={},app.adminLanguagesUpdate.config={form:"#languages-edit-form"},app.adminLanguagesUpdate.route=function(a){return $(this.config.form).data("action")},app.adminLanguagesUpdate.ajax=function(a){$(app.adminLanguagesUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminLanguagesUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminLanguagesUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminLanguagesUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminLanguagesUpdate.init=function(){app.adminLanguagesUpdate.ajax()},$(document).ready(app.adminLanguagesUpdate.init())}(),function(){"use strict";app.adminMaintenaceSettingsUpdate={},app.adminMaintenaceSettingsUpdate.config={form:"#maintenance-settings-form",route:"/admin/maintenance/settings/update"},app.adminMaintenaceSettingsUpdate.ajax=function(a){$(app.adminMaintenaceSettingsUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminMaintenaceSettingsUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminMaintenaceSettingsUpdate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.notify(a.message),setTimeout((function(){window.location=window.location.href}),2e3)},error:function(a,n,i){var o=a;app.formErrors(app.adminMaintenaceSettingsUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminMaintenaceSettingsUpdate.init=function(){app.adminMaintenaceSettingsUpdate.ajax()},$(document).ready(app.adminMaintenaceSettingsUpdate.init())}(),function(){"use strict";function a(a){return function(a){if(Array.isArray(a))return e(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,t){if(a){if("string"==typeof a)return e(a,t);var n=Object.prototype.toString.call(a).slice(8,-1);return"Object"===n&&a.constructor&&(n=a.constructor.name),"Map"===n||"Set"===n?Array.from(a):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(a,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(a,e){(null==e||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}app.adminManualGateway={},app.adminManualGateway.config={userDataList:"#admin-manual-gateway-user-data",addUserDataRowBtn:"#btn-admin-add-manual-gateway-user-data-row",removeuserDataRowBtn:".btn-remove-admin-manual-gateway-row"},app.adminManualGateway.chargeTypeChange=function(){$('[name="charge_type"]').on("change",(function(){"fixed"===this.value?($(".admin-gateway-fixed-charge").removeClass("d-none"),$(".admin-gateway-percent-charge").addClass("d-none")):"percent"===this.value?($(".admin-gateway-fixed-charge").addClass("d-none"),$(".admin-gateway-percent-charge").removeClass("d-none")):($(".admin-gateway-fixed-charge").removeClass("d-none"),$(".admin-gateway-percent-charge").removeClass("d-none"))}))},app.adminManualGateway.tinyMCE=function(){tinymce.init({selector:"textarea#admin-manual-gateway-instructions",plugins:["preview","importcss","code","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"],mobile:{plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"]},menubar:"file edit view insert format tools table tc",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange formatpainter removeformat | insertfile image media link anchor codesample | a11ycheck ltr rtl",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,height:380,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table",a11y_advanced_options:!0,promotion:!1})},app.adminManualGateway.userDataRowHtml=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'<div class="row user-data-row" data-id="'.concat(a.id,'">\n                <div class="col-12 col-md-4">\n                    <div class="form-group">\n                        <input name="field_name" class="form-control" placeholder="').concat(app.trans("Field name"),'" value="').concat(a.field_name||"",'">\n                    </div>\n                </div>\n                <div class="col-12 col-md-4">\n                    <div class="form-group">\n                        <select name="field_type" class="form-control">\n                            <option\n                                value="input"\n                                ').concat(a.field_type&&"input"===a.field_type?"selected":"","\n                            >").concat(app.trans("Input Text"),'</option>\n                            <option\n                                value="textarea"\n                                ').concat(a.field_type&&"textarea"===a.field_type?"selected":"","\n                            >").concat(app.trans("Textarea"),'</option>\n                            <option\n                                value="image_upload"\n                                ').concat(a.field_type&&"image_upload"===a.field_type?"selected":"","\n                            >").concat(app.trans("Image upload"),'</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="col-12 col-md-3">\n                    <div class="form-group">\n                        <select name="required" class="form-control">\n                            <option\n                                value="true"\n                            >').concat(app.trans("Required"),'</option>\n                            <option\n                                value="false"\n                            >').concat(app.trans("Optional"),'</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="col-12 col-md-1 text-right">\n                    <a href="javascript:void(0)" class="btn btn-icon btn-block btn-danger btn-remove-admin-manual-gateway-row mb-4" data-id="').concat(a.id,'"><i class="fas fa-times"></i></a>\n                </div>\n            </div>')},app.adminManualGateway.addUserDataRow=function(){var e=this;$(this.config.addUserDataRowBtn).on("click",(function(){$(e.config.userDataList+" .no-user-data-row").addClass("d-none");var t=$(e.config.userDataList).find(".user-data-row").map((function(){return parseInt(this.dataset.id)})).get();t=t.length?t:[1];var n=Math.max.apply(Math,a(t))+1;$(e.config.userDataList).append(e.userDataRowHtml({id:n}))}))},app.adminManualGateway.removeUserDataRow=function(){var a=this;$(document).delegate(a.config.removeuserDataRowBtn,"click",(function(){$(this).parents(".user-data-row").remove(),$(a.config.userDataList).find(".user-data-row").length||$(a.config.userDataList+" .no-user-data-row").removeClass("d-none")}))},app.adminManualGateway.currencyChange=function(){$('[name="currency"]').on("change",(function(){var a=$('[name="currency"]').find("option:selected"),e=$(".manual-gateway-currency-symbol");a.length&&e.length&&e.html(a.data("symbol"))}))},app.adminManualGateway.init=function(){this.chargeTypeChange(),this.addUserDataRow(),this.removeUserDataRow(),this.currencyChange(),"undefined"!=typeof tinymce&&$("#admin-manual-gateway-instructions").length&&app.adminManualGateway.tinyMCE()},$(document).ready(app.adminManualGateway.init())}(),function(){"use strict";app.adminManualGatewayCreate={},app.adminManualGatewayCreate.config={form:"#admin-manual-gateway-create-form",route:"/admin/manual-gateways/create"},app.adminManualGatewayCreate.data=function(){var a=$(this.config.form).serializeArray();a.push({name:"content",value:tinyMCE.get("create-email-template-content").getContent()});var e=$('[data-image-gallery="manual-gateway-logo-create"]').sGallery().images();return e.length&&a.push({name:"media_id",value:e[0].id}),a},app.adminManualGatewayCreate.ajax=function(){$(app.adminManualGatewayCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminManualGatewayCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this),i=$('[data-image-gallery="manual-gateway-logo-create"]').sGallery().images();i.length&&n.append("media_id",i[0].id),n.append("instructions",tinyMCE.get("admin-manual-gateway-instructions").getContent()),$(app.adminManualGateway.config.userDataList).find(".user-data-row").length&&n.append("user_data",JSON.stringify($(app.adminManualGateway.config.userDataList).find(".user-data-row").map((function(a,e){return{field_name:$(e).find('[name="field_name"]').val(),field_type:$(e).find('[name="field_type"]').val(),required:"true"===$(e).find('[name="required"]').val()?1:0}})).get())),$.ajax({type:"POST",url:app.adminManualGatewayCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminManualGatewayCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminManualGatewayCreate.init=function(){app.adminManualGatewayCreate.ajax()},$(document).ready(app.adminManualGatewayCreate.init())}(),function(){"use strict";app.adminManualGatewayDatatable={},app.adminManualGatewayDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete manual gateway(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminManualGatewayDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminManualGatewayDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminManualGatewayDatatable.restore=function(){$(document).delegate(".btn-admin-manual-gateway-restore","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this manual gateway!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"post",url:app.adminManualGatewayDatatable.config.restore.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminManualGatewayDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminManualGatewayDatatable.forceDelete=function(){$(document).delegate(".btn-admin-manual-gateway-force-delete","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this manual gateway!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"delete",url:app.adminManualGatewayDatatable.config.forceDelete.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminManualGatewayDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminManualGatewayDatatable.config={delete:{route:"/admin/manual-gateways/multi-delete"},restore:{route:"/admin/manual-gateways/restore"},forceDelete:{route:"/admin/manual-gateways/force-delete"},datatable:{src:"/admin/manual-gateways/datatable",resourceName:{singular:app.trans("manual gateway"),plural:app.trans("manual gateways")},columns:[{title:app.trans("Id"),key:"id",searchable:!0,classes:"manual-gateways-id-column tb-id-column"},{title:app.trans("Image"),key:"image",searchable:!1,classes:"manual-gateways-image-column",element:function(a){var e="<span>&nbsp;</span>";return a.image.length&&$.each(a.image,(function(a,t){var n=t.thumbnail;0==t.generated_conversions.length&&-1!==app.baseImageType.lists.indexOf(t.mime_type)&&(n=t.url),e+='<a href="'+t.url+'" target="_blank" title="'+t.file_name+'">',e+='<img src="'+n+'" class="img-thumbnail thumbnail-size">',e+="</a>"})),$(e)}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"manual-gateways-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&(app.can("admin.wearables.show")&&(e+='<a class="dropdown-item" href="/admin/manual-gateways/'+a.id+'/show"><i class="fas fa-eye"></i> '+app.trans("View")+"</a>"),app.can("admin.wearables.edit")&&(e+='<a class="dropdown-item" href="/admin/manual-gateways/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),app.can("admin.wearables.delete")&&(e+='<a class="dropdown-item btn-admin-wearables-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Delete")+"</a>")),null!==a.deleted_at&&(app.can("admin.wearables.restore")&&(e+='<a class="dropdown-item btn-admin-wearables-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> '+app.trans("Restore")+"</a>"),app.can("admin.wearables.force-delete")&&(e+='<a class="dropdown-item btn-admin-wearables-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Force delete")+"</a>")),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No manual gateways were found!")},filterTabs:[{label:app.trans("All"),filters:[{key:"status",value:"All"}]},{label:app.trans("Trashed"),filters:[{key:"status",value:"Trashed"}]}],filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Trashed"),value:"Trashed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"image__asc",label:app.trans("Image")+" ( A - Z )"},{value:"image__desc",label:app.trans("Image")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminManualGatewayDatatable.delete,status:"error"}],limit:10}},app.adminManualGatewayDatatable.init=function(){app.adminManualGatewayDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminManualGatewayDatatable.tb=$("#admin-manual-gateways-datatable").JsDataTable(this.config.datatable)),app.adminManualGatewayDatatable.restore(),app.adminManualGatewayDatatable.forceDelete()},$(document).ready(app.adminManualGatewayDatatable.init())}(),function(){"use strict";app.adminManualGatewayDelete={},app.adminManualGatewayDelete.config={button:".btn-delete-manual-gateway",route:"/admin/manual-gateways/delete"},app.adminManualGatewayDelete.ajax=function(a){var e=this;$(document).delegate(app.adminManualGatewayDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this manual gateway!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"DELETE",url:e.config.route,data:{resources:[a.attr("data-id")]},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminDepositManualGatewayDatatable.table&&app.adminDepositManualGatewayDatatable.table.refresh(),app.adminWithdrawMethodsDatatable.table&&app.adminWithdrawMethodsDatatable.table.refresh()}),350)},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminManualGatewayDelete.init=function(){app.adminManualGatewayDelete.ajax()},$(document).ready(app.adminManualGatewayDelete.init())}(),function(){"use strict";app.adminManualGatewayEnable={},app.adminManualGatewayEnable.config={button:".btn-enable-manual-gateway",route:"/admin/manual-gateways/enable"},app.adminManualGatewayEnable.ajax=function(a){var e=this;$(document).delegate(app.adminManualGatewayEnable.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to enable this manual gateway!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"POST",url:e.config.route,data:{resources:[a.attr("data-id")]},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminDepositManualGatewayDatatable.table&&app.adminDepositManualGatewayDatatable.table.refresh(),app.adminWithdrawMethodsDatatable.table&&app.adminWithdrawMethodsDatatable.table.refresh()}),350)},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminManualGatewayEnable.init=function(){app.adminManualGatewayEnable.ajax()},$(document).ready(app.adminManualGatewayEnable.init())}(),function(){"use strict";app.adminManualGatewayUpdate={},app.adminManualGatewayUpdate.config={form:"#admin-manual-gateway-edit-form"},app.adminManualGatewayUpdate.route=function(a){return $(this.config.form).data("action")},app.adminManualGatewayUpdate.ajax=function(a){$(app.adminManualGatewayUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminManualGatewayUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this),i=$('[data-image-gallery="manual-gateway-logo-edit"]').sGallery().images();i.length?n.append("media_id",i[0].id):n.append("media_id",""),n.append("instructions",tinyMCE.get("admin-manual-gateway-instructions").getContent()),$(app.adminManualGateway.config.userDataList).find(".user-data-row").length&&n.append("user_data",JSON.stringify($(app.adminManualGateway.config.userDataList).find(".user-data-row").map((function(a,e){return{field_name:$(e).find('[name="field_name"]').val(),field_type:$(e).find('[name="field_type"]').val(),required:"true"===$(e).find('[name="required"]').val()?1:0}})).get())),$.ajax({type:"POST",url:app.adminManualGatewayUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminManualGatewayUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminManualGatewayUpdate.init=function(){app.adminManualGatewayUpdate.ajax()},$(document).ready(app.adminManualGatewayUpdate.init())}(),function(){"use strict";app.adminManualGatewayUpload={},app.adminManualGatewayUpload.image=function(){var a=$("#admin-manual-gateway-image-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"image",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:".jpeg,.jpg,.png,.gif",init:function(){var a=app.baseDropzone.countUploaded(".manual-gateway-image-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminManualGatewayUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.adminManualGatewayUpload.image())},$(document).ready(app.adminManualGatewayUpload.init())}(),function(){"use strict";app.adminManualGatewayDisable={},app.adminManualGatewayDisable.config={button:".btn-disable-manual-gateway",route:"/admin/manual-gateways/disable"},app.adminManualGatewayDisable.ajax=function(a){var e=this;$(document).delegate(app.adminManualGatewayDisable.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to disable this manual gateway!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"POST",url:e.config.route,data:{resources:[a.attr("data-id")]},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.adminDepositManualGatewayDatatable.table&&app.adminDepositManualGatewayDatatable.table.refresh(),app.adminWithdrawMethodsDatatable.table&&app.adminWithdrawMethodsDatatable.table.refresh()}),350)},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminManualGatewayDisable.init=function(){app.adminManualGatewayDisable.ajax()},$(document).ready(app.adminManualGatewayDisable.init())}(),function(){"use strict";function a(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,n)}return t}function e(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(a){t(e,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))}))}return e}function t(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function n(a,e){return function(a){if(Array.isArray(a))return a}(a)||function(a,e){var t=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=t){var n,i,o=[],s=!0,r=!1;try{for(t=t.call(a);!(s=(n=t.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(a){r=!0,i=a}finally{try{s||null==t.return||t.return()}finally{if(r)throw i}}return o}}(a,e)||function(a,e){if(a){if("string"==typeof a)return i(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);return"Object"===t&&a.constructor&&(t=a.constructor.name),"Map"===t||"Set"===t?Array.from(a):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(a,e):void 0}}(a,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(a,e){(null==e||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}app.adminPage={},app.adminPage.sections=[],app.adminPage.config={sectionItemBtn:".page-section-item-btn",sectionContainer:"#page-section-table",addSectionModal:"#add-page-section-modal",editSectionDetailsModal:"#admin-page-section-details-edit-modal",detailsModal:".page-section-details-modal",removeSectionBtn:".btn-remove-page-section",toggleSeoSetting:".toggle-page-seo-settings",tagList:".tag-list",sections:{hero:{default:{id:0,name:"Hero",template:"hero",heading:"Grow With Us",sub_heading:"Making Project Faster",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-hero-section-modal",form:"#admin-page-hero-section-form",addButton:".btn-section-hero-add-button",removeButton:".btn-remove-page-section-button-row",buttonList:"#section-hero-buttons",btnSectionDataSave:".btn-save-page-hero-section-data",detailsModal:"#admin-page-hero-section-details-edit-modal",fillFormEdit:function(a){if($(this.buttonList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("buttons"))for(var e=0;e<a.data.buttons.length;e++){var t=a.data.buttons[e];$(this.buttonList).append(this.btnHtml(t)),$('[data-tooltip="'.concat(t.id,'"]')).tooltip({container:"#admin-page-hero-section-modal"})}},init:function(){this.initAddButton(),this.initRemoveButton(),this.saveSectionData()},initAddButton:function(){var a=this;$(a.addButton).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("buttons")||(t.data.buttons=[]);var n={id:app.adminPage.getId(),label:"",primary:!0,link:"",new_tab:!1};$(a.buttonList).append(a.btnHtml(n))}return t}))}))},initRemoveButton:function(){var a=this;$(document).delegate(a.removeButton,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.buttons=a.data.buttons.filter((function(a){return a.id!==t}))),a})),e.remove()}))},btnHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'" id="button-list-').concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-button-row" data-tooltip="').concat(a.id,'" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 160px;">\n                                            <span class="px-3">').concat(app.trans("Label"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="label" value="').concat(a.label,'" placeholder="').concat(app.trans("Read more"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 160px;">\n                                            <span class="px-3">').concat(app.trans("Link"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="link" value="').concat(a.link,'" placeholder="https://example.com">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-34px" style="width: 160px;">\n                                            <span class="px-3">').concat(app.trans("Display as Primary"),'</span>\n                                        </td>\n                                        <td>\n                                            <div class="form-group custom-control custom-checkbox mx-0">\n                                                <input type="checkbox" class="custom-control-input btn_primary" id="btn_primary_').concat(a.id,'" ').concat(a.primary?'checked=""':"",'>\n                                                <label class="custom-control-label" for="btn_primary_').concat(a.id,'"></label>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-34px" style="width: 160px;">\n                                            <span class="px-3">').concat(app.trans("Open in new tab"),'</span>\n                                        </td>\n                                        <td>\n                                            <div class="form-group custom-control custom-checkbox mx-0">\n                                                <input type="checkbox" class="custom-control-input btn_new_tab" id="btn_new_tab_').concat(a.id,'" ').concat(a.new_tab?'checked=""':"",'>\n                                                <label class="custom-control-label" for="btn_new_tab_').concat(a.id,'"></label>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>')},saveSectionData:function(){var a=this;$(a.btnSectionDataSave).on("click",(function(){var e=$(a.buttonList).find("li.data-list-item").map((function(){return{id:this.dataset.id,label:$(this).find('[name="label"]').val(),primary:!!$(this).find(".btn_primary:checked").length,link:$(this).find('[name="link"]').val(),new_tab:!!$(this).find(".btn_new_tab:checked").length}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.buttons=e),a})),$(a.modal).modal("hide")}))}},about_us:{default:{id:0,name:"About us",template:"about_us",heading:"Know us better",sub_heading:"Who we are",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{label:"",link:"",new_tab:1,primary:0}},modal:"#admin-page-about-us-section-modal",form:"#admin-page-about-us-section-form",btnSave:".btn-save-page-about-us-section-data",init:function(){this.saveSectionData()},fillFormEdit:function(a){var e=a.data;$(this.form).find('[name="id"]').val(a.id),$(this.form).find('[name="label"]').val(e.label),$(this.form).find('[name="link"]').val(e.link),$(this.form).find('[name="new_tab"]').attr("checked",!!e.new_tab),$(this.form).find('[name="primary"]').attr("checked",!!e.primary)},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val()),t=$(a.form).serializeArray();app.adminPage.sections=app.adminPage.sections.map((function(a){if(a.id===e){a.data.new_tab=0,a.data.primary=0;for(var i=function(){var e=n(s[o],2),i=e[0];e[1],(r=t.find((function(a){return a.name===i})))&&(a.data[i]=r.value,"new_tab"===i&&(a.data[i]=1),"primary"===i&&(a.data[i]=1))},o=0,s=Object.entries(a.data);o<s.length;o++){var r;i()}}return a})),$(a.modal).modal("hide")}))}},statistics:{default:{id:0,name:"Statistics",template:"statistics",heading:"What our partners say about us",sub_heading:"Our statistics",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-statistics-section-modal",form:"#admin-page-statistics-section-form",btnSave:".btn-save-page-statistics-section-data",dataItemList:"#section-statistics-data",btnAddDataItem:".btn-section-statistics-add-data-item",btnRemoveDataItem:".btn-remove-page-section-statistics-row",init:function(){this.initAddItem(),this.initRemoveItem(),this.saveSectionData(),$(this.modal).on("shown.bs.modal",(function(a){$(document).off("focusin.modal")}))},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t)),void 0!==$.fn.iconpicker&&$("#icon-picker-statistics-".concat(t.id)).iconpicker().on("change",(function(a){$(a.target).next().val(a.icon)}))}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),icon:"fas fa-map-marker-alt",title:"",value:""};$(a.dataItemList).append(a.itemHtml(n)),void 0!==$.fn.iconpicker&&$("#icon-picker-statistics-".concat(n.id)).iconpicker().on("change",(function(a){$(a.target).next().val(a.icon)}))}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){return{id:this.dataset.id,icon:$(this).find('[name="icon"]').val(),title:$(this).find('[name="title"]').val(),value:$(this).find('[name="value"]').val()}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.items=e),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-statistics-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 70px;">\n                                            <span class="px-3">').concat(app.trans("Icon"),'</span>\n                                        </td>\n                                        <td>\n                                            <button class="btn btn-link" data-icon="').concat(a.icon,'" type="button" id="icon-picker-statistics-').concat(a.id,'"></button>\n                                            <input type="text"\n                                            name="icon"\n                                            class="form-control display-none"\n                                            value="').concat(a.icon,'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 70px;">\n                                            <span class="px-3">').concat(app.trans("Title"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="title" value="').concat(a.title,'" placeholder="').concat(app.trans("Title"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 70px;">\n                                            <span class="px-3">').concat(app.trans("Value"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="value" value="').concat(a.value,'" placeholder="0">\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>')}},recent_works:{default:{id:0,name:"Recent works",template:"recent_works",heading:"What we have accomplished",sub_heading:"Recent works",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-recent-works-section-modal",form:"#admin-page-recent-works-section-form",dataItemList:"#section-recent-works-data",btnSave:".btn-save-page-recent-works-section-data",btnAddDataItem:".btn-section-recent-works-add-data-item",btnRemoveDataItem:".btn-remove-page-section-recent-works-row",init:function(){this.initAddItem(),this.initRemoveItem(),this.saveSectionData()},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t)),$('[data-image-gallery="'.concat(t.id,'"]')).sGallery(),t.image&&$('[data-image-gallery="'.concat(t.id,'"]')).sGallery().setImages([{id:0,name:"Preview",preview_url:t.image,original_url:t.image}])}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),image:"",title:"",description:"",btn_label:"",btn_link:""};$(a.dataItemList).append(a.itemHtml(n)),$('[data-image-gallery="'.concat(n.id,'"]')).sGallery()}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){var a=$('[data-image-gallery="'.concat(this.dataset.id,'"]')).sGallery().images();return{id:this.dataset.id,image:a.length?a[0].original_url:"",title:$(this).find('[name="title"]').val(),description:$(this).find('[name="description"]').val(),btn_label:$(this).find('[name="btn_label"]').val(),btn_link:$(this).find('[name="btn_link"]').val()}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.items=e),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-recent-works-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td colspan="2" class="p-3">\n                                            <div data-image-gallery="').concat(a.id,'"></div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 120px;">\n                                            <span class="px-3">').concat(app.trans("Title"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="title" value="').concat(a.title,'" placeholder="').concat(app.trans("Title"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 120px;">\n                                            <span class="px-3">').concat(app.trans("Description"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="description" value="').concat(a.description,'" placeholder="').concat(app.trans("Description"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 120px;">\n                                            <span class="px-3">').concat(app.trans("Button label"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="btn_label" value="').concat(a.btn_label,'" placeholder="').concat(app.trans("Read more"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 120px;">\n                                            <span class="px-3">').concat(app.trans("Button link"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="btn_link" value="').concat(a.btn_link,'" placeholder="https://example.com">\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>')}},testimonial:{default:{id:0,name:"Testimonial",template:"testimonial",heading:"What our partners say about us",sub_heading:"Testimonial ",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-testimonial-section-modal",form:"#admin-page-testimonial-section-form",dataItemList:"#section-testimonial-data",btnSave:".btn-save-page-testimonial-section-data",btnAddDataItem:".btn-section-testimonial-add-data-item",btnRemoveDataItem:".btn-remove-page-section-testimonial-row",init:function(){this.initAddItem(),this.initRemoveItem(),this.saveSectionData()},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t)),$('[data-image-gallery="'.concat(t.id,'"]')).sGallery(),t.author_avatar&&$('[data-image-gallery="'.concat(t.id,'"]')).sGallery().setImages([{id:0,name:"Preview",preview_url:t.author_avatar,original_url:t.author_avatar}])}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),message:"",author_avatar:"",author_name:"",author_description:""};$(a.dataItemList).append(a.itemHtml(n)),$('[data-image-gallery="'.concat(n.id,'"]')).sGallery()}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){var a=$('[data-image-gallery="'.concat(this.dataset.id,'"]')).sGallery().images();return{id:this.dataset.id,author_avatar:a.length?a[0].original_url:"",message:$(this).find('[name="message"]').val(),author_name:$(this).find('[name="author_name"]').val(),author_description:$(this).find('[name="author_description"]').val()}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.items=e),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-testimonial-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td colspan="2" class="px-3 pt-0 pb-3">\n                                            <span class="lh-36px">').concat(app.trans("Author avatar"),'</span>\n                                            <div data-image-gallery="').concat(a.id,'"></div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 160px;">\n                                            <span class="px-3">').concat(app.trans("Author name"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="author_name" value="').concat(a.author_name,'" placeholder="').concat(app.trans("Author"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 160px;">\n                                            <span class="px-3">').concat(app.trans("Author description"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="author_description" value="').concat(a.author_description,'" placeholder="').concat(app.trans("Description"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 160px;">\n                                            <span class="px-3">').concat(app.trans("Message"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <textarea class="form-control" name="message" placeholder="').concat(app.trans("Message"),'">').concat(a.message,"</textarea>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>")}},boxed:{default:{id:0,name:"Boxed content",template:"boxed",heading:"This is what you need",sub_heading:"Our features",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-boxed-section-modal",form:"#admin-page-boxed-section-form",dataItemList:"#section-boxed-data",btnSave:".btn-save-page-boxed-section-data",btnAddDataItem:".btn-section-boxed-add-data-item",btnRemoveDataItem:".btn-remove-page-section-boxed-row",init:function(){this.initAddItem(),this.initRemoveItem(),this.saveSectionData(),$(this.modal).on("shown.bs.modal",(function(a){$(document).off("focusin.modal")}))},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t)),void 0!==$.fn.iconpicker&&$("#icon-picker-boxed-".concat(t.id)).iconpicker().on("change",(function(a){$(a.target).next().val(a.icon)}))}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),icon:"fas fa-map-marker-alt",title:"",content:""};$(a.dataItemList).append(a.itemHtml(n)),void 0!==$.fn.iconpicker&&$("#icon-picker-boxed-".concat(n.id)).iconpicker().on("change",(function(a){$(a.target).next().val(a.icon)}))}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){return{id:this.dataset.id,icon:$(this).find('[name="icon"]').val(),title:$(this).find('[name="title"]').val(),content:$(this).find('[name="content"]').val()}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.items=e),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-boxed-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 85px;">\n                                            <span class="px-3">').concat(app.trans("Icon"),'</span>\n                                        </td>\n                                        <td>\n                                            <button class="btn btn-link" data-icon="').concat(a.icon,'" type="button" id="icon-picker-boxed-').concat(a.id,'"></button>\n                                            <input type="text"\n                                            name="icon"\n                                            class="form-control display-none"\n                                            value="').concat(a.icon,'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 85px;">\n                                            <span class="px-3">').concat(app.trans("Title"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="title" value="').concat(a.title,'" placeholder="').concat(app.trans("Title"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 85px;">\n                                            <span class="px-3">').concat(app.trans("Content"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <textarea class="form-control" name="content" placeholder="').concat(app.trans("Content"),'">').concat(a.content,"</textarea>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>")}},boxed_left_icon:{default:{id:0,name:"Boxed left icon",template:"boxed_left_icon",heading:"Follow the steps below to start",sub_heading:"How to get started",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-boxed-left-icon-section-modal",form:"#admin-page-boxed-left-icon-section-form",dataItemList:"#section-boxed-left-icon-data",btnSave:".btn-save-page-boxed-left-icon-section-data",btnAddDataItem:".btn-section-boxed-left-icon-add-data-item",btnRemoveDataItem:".btn-remove-page-section-boxed-left-icon-row",init:function(){this.initAddItem(),this.initRemoveItem(),this.saveSectionData(),$(this.modal).on("shown.bs.modal",(function(a){$(document).off("focusin.modal")}))},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t)),void 0!==$.fn.iconpicker&&$("#icon-picker-boxed-left-".concat(t.id)).iconpicker().on("change",(function(a){$(a.target).next().val(a.icon)}))}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),icon:"fas fa-map-marker-alt",title:"",content:""};$(a.dataItemList).append(a.itemHtml(n)),void 0!==$.fn.iconpicker&&$("#icon-picker-boxed-left-".concat(n.id)).iconpicker().on("change",(function(a){$(a.target).next().val(a.icon)}))}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){return{id:this.dataset.id,icon:$(this).find('[name="icon"]').val(),title:$(this).find('[name="title"]').val(),content:$(this).find('[name="content"]').val()}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.items=e),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-boxed-left-icon-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 85px;">\n                                            <span class="px-3">').concat(app.trans("Icon"),'</span>\n                                        </td>\n                                        <td>\n                                            <button class="btn btn-link" data-icon="').concat(a.icon,'" type="button" id="icon-picker-boxed-left-').concat(a.id,'"></button>\n                                            <input type="text"\n                                            name="icon"\n                                            class="form-control display-none"\n                                            value="').concat(a.icon,'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 85px;">\n                                            <span class="px-3">').concat(app.trans("Title"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="title" value="').concat(a.title,'" placeholder="').concat(app.trans("Title"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 85px;">\n                                            <span class="px-3">').concat(app.trans("Content"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <textarea class="form-control" name="content" placeholder="').concat(app.trans("Content"),'">').concat(a.content,"</textarea>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>")}},text_media:{default:{id:0,name:"Text media",template:"text_media",heading:"Our Mission & Vision",sub_heading:"Our Commitment ",description:"",background_color:"white",media_id:"",data:{left:1,source_type:"image",media_source:"",text_center:0,items:[],checkmarks:[]}},modal:"#admin-page-text-media-section-modal",form:"#admin-page-text-media-section-form",detailsModal:"#admin-page-text-media-section-details-edit-modal",dataItemList:"#section-text-media-data",checkmarkItemList:"#section-text-checkmarks",btnSave:".btn-save-page-text-media-section-data",btnAddDataItem:".btn-section-text-media-add-data-item",btnRemoveDataItem:".btn-remove-page-section-text-media-row",btnAddCheckmarkItem:".btn-section-text-media-add-checkmark-item",btnRemoveCheckmarkItem:".btn-remove-page-section-text-media-checkmark-row",init:function(){this.initAddItem(),this.initAddCheckmarkItem(),this.initRemoveItem(),this.initRemoveCheckmarkItem(),this.saveSectionData(),this.initMediaSourceChange()},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),$(this.form).find('[name="text_center"]').prop("checked",!!a.data.text_center),$(this.form).find('[name="left"][value="'+a.data.left+'"]').prop("checked",!0),$(this.form).find('[name="source_type"]').val(a.data.source_type).trigger("change"),"image"===a.data.source_type?($(self.form).find(".media-source-image").removeClass("d-none"),$(self.form).find(".media-source-embedded").addClass("d-none"),$('[data-image-gallery="text-media-image"]').sGallery(),a.data.media_source&&$('[data-image-gallery="text-media-image"]').sGallery().setImages([{id:0,name:"Preview",preview_url:a.data.media_source,original_url:a.data.media_source}])):($(self.form).find(".media-source-image").addClass("d-none"),$(self.form).find(".media-source-embedded").removeClass("d-none"),$(this.form).find('[name="media_embed_source"]').val(a.data.media_source)),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t))}if(a.data.hasOwnProperty("checkmarks"))for(var n=0;n<a.data.checkmarks.length;n++){var i=a.data.checkmarks[n];$(this.checkmarkItemList).append(this.checkmarkItemHtml(i))}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),content:""};$(a.dataItemList).append(a.itemHtml(n))}return t}))}))},initAddCheckmarkItem:function(){var a=this;$(a.btnAddCheckmarkItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("checkmarks")||(t.data.checkmarks=[]);var n={id:app.adminPage.getId(),content:""};$(a.checkmarkItemList).append(a.checkmarkItemHtml(n))}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},initRemoveCheckmarkItem:function(){var a=this;$(document).delegate(a.btnRemoveCheckmarkItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.checkmarks=a.data.checkmarks.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){return{id:this.dataset.id,content:$(this).find('[name="content"]').val()}})).get(),t=$(a.checkmarkItemList).find("li.data-list-item").map((function(){return{id:this.dataset.id,content:$(this).find('[name="content"]').val()}})).get(),n=parseInt($(a.form).find('[name="id"]').val()),i=$(a.form).find('[name="left"]:checked').val(),o=$(a.form).find('[name="source_type"]').val(),s=$(this.form).find('[name="text_center"]:checked').length?1:0;if("image"===o)var r=$('[data-image-gallery="text-media-image"]').sGallery().images(),l=r.length?r[0].original_url:"";else l=$(a.form).find('[name="media_embed_source"]').val();app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.left=i,a.data.items=e,a.data.checkmarks=t,a.data.text_center=s,a.data.source_type=o,a.data.media_source=l),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-testimonial-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <textarea class="form-control" style="min-height: 100px;" name="content" placeholder="').concat(app.trans("Paragraph"),'">').concat(a.content,"</textarea>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>")},initMediaSourceChange:function(){var a=this;$(this.form).find('[name="source_type"]').on("change",(function(){"image"===this.value?($(a.form).find(".media-source-image").removeClass("d-none"),$(a.form).find(".media-source-embedded").addClass("d-none")):($(a.form).find(".media-source-image").addClass("d-none"),$(a.form).find(".media-source-embedded").removeClass("d-none"))}))},checkmarkItemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-text-media-checkmark-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <textarea class="form-control" style="min-height: 100px;" name="content" placeholder="').concat(app.trans("Sentence"),'">').concat(a.content,"</textarea>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>")}},team:{default:{id:0,name:"Team",template:"team",heading:"Our creative team that help our company",sub_heading:"Meet our team",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-team-section-modal",form:"#admin-page-team-section-form",dataItemList:"#section-team-data",btnSave:".btn-save-page-team-section-data",btnAddDataItem:".btn-section-team-add-data-item",btnRemoveDataItem:".btn-remove-page-section-team-row",init:function(){this.initAddItem(),this.initRemoveItem(),this.saveSectionData()},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t)),$('[data-image-gallery="'.concat(t.id,'"]')).sGallery(),t.avatar&&$('[data-image-gallery="'.concat(t.id,'"]')).sGallery().setImages([{id:0,name:"Preview",preview_url:t.avatar,original_url:t.avatar}])}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),avatar:"",name:"",position:"",description:"",facebook:"",twitter:"",linkedin:"",dribbble:""};$(a.dataItemList).append(a.itemHtml(n)),$('[data-image-gallery="'.concat(n.id,'"]')).sGallery()}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){var a=$('[data-image-gallery="'.concat(this.dataset.id,'"]')).sGallery().images();return{id:this.dataset.id,avatar:a.length?a[0].original_url:"",name:$(this).find('[name="name"]').val(),position:$(this).find('[name="position"]').val(),description:$(this).find('[name="description"]').val(),facebook:$(this).find('[name="facebook"]').val(),twitter:$(this).find('[name="twitter"]').val(),linkedin:$(this).find('[name="linkedin"]').val(),dribbble:$(this).find('[name="dribbble"]').val()}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.items=e),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-testimonial-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td colspan="2" class="px-3 pt-0 pb-3">\n                                            <span class="lh-36px">').concat(app.trans("Avatar"),'</span>\n                                            <div data-image-gallery="').concat(a.id,'"></div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 120px;">\n                                            <span class="px-3">').concat(app.trans("Name"),'</span>\n                                        </td>\n                                        <td lh-36px class="text-right">\n                                            <input type="text" class="form-control" name="name" value="').concat(a.name,'" placeholder="').concat(app.trans("Name"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 120px;">\n                                            <span class="px-3">').concat(app.trans("Position"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="position" value="').concat(a.position,'" placeholder="').concat(app.trans("Position"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 120px;">\n                                            <span class="px-3">').concat(app.trans("Description"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <textarea class="form-control" name="description" placeholder="').concat(app.trans("Description"),'">').concat(a.description,'</textarea>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td style="width: 120px;">\n                                            <span class="px-3">\n                                                <i class="fab fa-facebook" style="font-size: 16px;line-height: 34px;"></i>\n                                            </span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="facebook" value="').concat(a.facebook,'" placeholder="').concat(app.trans("Facebook link / Leave empty"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td style="width: 120px;">\n                                            <span class="px-3">\n                                                <i class="fab fa-twitter" style="font-size: 16px;line-height: 34px;"></i>\n                                            </span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="twitter" value="').concat(a.twitter,'" placeholder="').concat(app.trans("Twitter link / Leave empty"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td style="width: 120px;">\n                                            <span class="px-3">\n                                                <i class="fab fa-linkedin" style="font-size: 16px;line-height: 34px;"></i>\n                                            </span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="linkedin" value="').concat(a.linkedin,'" placeholder="').concat(app.trans("Linkedin link / Leave empty"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td style="width: 120px;">\n                                            <span class="px-3">\n                                                <i class="fab fa-dribbble" style="font-size: 16px;line-height: 34px;"></i>\n                                            </span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="dribbble" value="').concat(a.dribbble,'" placeholder="').concat(app.trans("Dribbble link / Leave empty"),'">\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>')}},client:{default:{id:0,name:"Client",template:"client",heading:"See our happy clients",sub_heading:"Our clients",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-client-section-modal",form:"#admin-page-client-section-form",dataItemList:"#section-client-data",btnSave:".btn-save-page-client-section-data",btnAddDataItem:".btn-section-client-add-data-item",btnRemoveDataItem:".btn-remove-page-section-client-row",init:function(){this.initAddItem(),this.initRemoveItem(),this.saveSectionData()},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t)),$('[data-image-gallery="'.concat(t.id,'"]')).sGallery(),t.logo&&$('[data-image-gallery="'.concat(t.id,'"]')).sGallery().setImages([{id:0,name:"Preview",preview_url:t.logo,original_url:t.logo}])}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),title:"",logo:"",url:""};$(a.dataItemList).append(a.itemHtml(n)),$('[data-image-gallery="'.concat(n.id,'"]')).sGallery()}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){var a=$('[data-image-gallery="'.concat(this.dataset.id,'"]')).sGallery().images();return{id:this.dataset.id,title:$(this).find('[name="title"]').val(),logo:a.length?a[0].original_url:"",url:$(this).find('[name="url"]').val()}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.items=e),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-testimonial-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td colspan="2" class="px-3 pt-0 pb-3">\n                                            <span class="lh-36px">').concat(app.trans("Logo"),'</span>\n                                            <div data-image-gallery="').concat(a.id,'"></div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 60px;">\n                                            <span class="px-3">').concat(app.trans("Title"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="title" value="').concat(a.title,'" placeholder="').concat(app.trans("Title"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 60px;">\n                                            <span class="px-3">').concat(app.trans("Url"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="url" value="').concat(a.url,'" placeholder="https://example.com">\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>')}},pricing:{default:{id:0,name:"Pricing",template:"pricing",heading:"Select our affordable pricing",sub_heading:"Our pricing",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:""}},faq:{default:{id:0,name:"Faq",template:"faq",heading:"Learn more about our sevices",sub_heading:"Faqs ",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{}},modal:"#admin-page-faq-section-modal",form:"#admin-page-faq-section-form",dataItemList:"#section-faq-data",btnSave:".btn-save-page-faq-section-data",btnAddDataItem:".btn-section-faq-add-data-item",btnRemoveDataItem:".btn-remove-page-section-faq-row",init:function(){this.initAddItem(),this.initRemoveItem(),this.saveSectionData()},fillFormEdit:function(a){if($(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),a.data.hasOwnProperty("items"))for(var e=0;e<a.data.items.length;e++){var t=a.data.items[e];$(this.dataItemList).append(this.itemHtml(t))}},initAddItem:function(){var a=this;$(a.btnAddDataItem).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(t){if(t.id===e){t.data.hasOwnProperty("items")||(t.data.items=[]);var n={id:app.adminPage.getId(),title:"",content:""};$(a.dataItemList).append(a.itemHtml(n))}return t}))}))},initRemoveItem:function(){var a=this;$(document).delegate(a.btnRemoveDataItem,"click",(function(){var e=$(this).closest("li"),t=parseInt(e.data("id")),n=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===n&&(a.data.items=a.data.items.filter((function(a){return a.id!==t}))),a})),e.remove()}))},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=$(a.dataItemList).find("li.data-list-item").map((function(){return{id:this.dataset.id,title:$(this).find('[name="title"]').val(),content:$(this).find('[name="content"]').val()}})).get(),t=parseInt($(a.form).find('[name="id"]').val());app.adminPage.sections=app.adminPage.sections.map((function(a){return a.id===t&&(a.data.items=e),a})),$(a.modal).modal("hide")}))},itemHtml:function(a){return'<li class="data-list-item" data-id="'.concat(a.id,'">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td colspan="2" class="pl-2">\n                                            <a href="javascript:void(0)" role="button" class="btn btn-sm text-danger btn-remove-page-section-testimonial-row" data-toggle="tooltip" title="Remove">\n                                                <i class="fas fa-times"></i>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 90px;">\n                                            <span class="px-3">').concat(app.trans("Title"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <input type="text" class="form-control" name="title" value="').concat(a.title,'" placeholder="').concat(app.trans("Title"),'">\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class="lh-36px" style="width: 90px;">\n                                            <span class="px-3">').concat(app.trans("Content"),'</span>\n                                        </td>\n                                        <td class="text-right">\n                                            <textarea class="form-control" name="content" placeholder="').concat(app.trans("Content"),'">').concat(a.content,"</textarea>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </li>")}},blog:{default:{id:0,name:"Blog",template:"blog",heading:"Blog",sub_heading:"Latest blogs",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{count:3,sort:"latest"}},modal:"#admin-page-blog-section-modal",form:"#admin-page-blog-section-form",btnSave:".btn-save-page-blog-section-data",init:function(){this.saveSectionData()},fillFormEdit:function(a){$(this.dataItemList).html(""),$(this.form).find('[name="id"]').val(a.id),$(this.form).find('[name="count"]').val(a.data.count),$(this.form).find('[name="sort"]').val(a.data.sort)},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val()),t=$(a.form).serializeArray();app.adminPage.sections=app.adminPage.sections.map((function(a){if(a.id===e)for(var i=function(){var e=n(s[o],2),i=e[0];e[1],(r=t.find((function(a){return a.name===i})))&&(a.data[i]=r.value)},o=0,s=Object.entries(a.data);o<s.length;o++){var r;i()}return a})),$(a.modal).modal("hide")}))}},cta:{default:{id:0,name:"CTA",template:"cta",heading:"Build web application faster than ever",sub_heading:"",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:"",data:{label:"Purchase now",link:"",new_tab:!1}},modal:"#admin-page-cta-section-modal",form:"#admin-page-cta-section-form",btnSave:".btn-save-page-cta-section-data",detailsModal:"#admin-page-cta-section-details-edit-modal",init:function(){this.saveSectionData()},fillFormEdit:function(a){var e=a.data;$(this.form).find('[name="id"]').val(a.id),$(this.form).find('[name="label"]').val(e.label),$(this.form).find('[name="link"]').val(e.link),$(this.form).find('[name="new_tab"]').attr("checked",!!e.new_tab)},saveSectionData:function(){var a=this;$(a.btnSave).on("click",(function(){var e=parseInt($(a.form).find('[name="id"]').val()),t=$(a.form).serializeArray();app.adminPage.sections=app.adminPage.sections.map((function(a){if(a.id===e){a.data.new_tab=0;for(var i=function(){var e=n(s[o],2),i=e[0];e[1],(r=t.find((function(a){return a.name===i})))&&(a.data[i]=r.value,"new_tab"===i&&(a.data[i]=1))},o=0,s=Object.entries(a.data);o<s.length;o++){var r;i()}}return a})),$(a.modal).modal("hide")}))}},news_letter:{default:{id:0,name:"News letter",template:"news_letter",heading:"Subscribe to our newsletter",sub_heading:"",description:"",background_color:"white",media_id:""}},contact_us:{default:{id:0,name:"Contact Us",template:"contact_us",heading:"Contact Us",sub_heading:"Get in touch with us",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias nesciunt, fugiat vitae doloribus repudiandae eos soluta unde voluptate architecto aperiam!",background_color:"white",media_id:""}}}},app.adminPage.getSections=function(){return $(this.config.sectionContainer).find("tr.page-section-table-row").map((function(a,e){var t=parseInt(e.dataset.id),n=app.adminPage.sections.find((function(a){return a.id===t}));return n&&(n.order=a+1),n})).get()},app.adminPage.sectionHtmlItem=function(a){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t='<tr role="row" class="page-section-table-row" data-id="'.concat(a.id,'">\n                <td class="page-section-table-row-drag-handle">\n                    <span>\n                        <i class="fas fa-arrows-alt drag-handle"></i>\n                    </span>\n                </td>\n                <td class="page-section-table-row-details">\n                    <div class="d-flex flex-column page-section-name">\n                        <strong>').concat(a.name,' </strong>\n                    </div>\n                </td>\n                <td class="page-section-table-row-remove-handle">\n                    <div class="btn-group dropleft">\n                        <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton-').concat(a.id,'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                            <i class="fas fa-ellipsis-h"></i>\n                        </button>\n                        <div class="dropdown-menu dropleft">\n                            <a class="dropdown-item has-icon btn-edit-page-section-details" href="javascript:void(0)">\n                                ').concat(app.trans("Edit section details"),"\n                            </a>");return e&&(t+='<a class="dropdown-item has-icon btn-edit-page-section-data" href="javascript:void(0)">\n                                '.concat(app.trans("Edit section data"),"\n                            </a>")),t+'<a class="dropdown-item has-icon btn-remove-page-section" href="javascript:void(0)">\n                                '.concat(app.trans("Remove section"),"\n                            </a>\n                        </div>\n                    </div>\n                </td>\n            </tr>")},app.adminPage.initContentTypeChange=function(){$('.admin-page-form [name="type"]').on("change",(function(){var a=$(this).val();"section"==a&&($(".page-section-wrapper").show(),$(".page-content-wrapper").hide()),"wysiwyg"==a&&($(".page-section-wrapper").hide(),$(".page-content-wrapper").show())}))},app.adminPage.addSection=function(){var a=this;$(document).delegate(a.config.sectionItemBtn,"click",(function(){var t=$(this).data("template"),n=$(this).data("has-data");if(a.config.sections.hasOwnProperty(t)){var i=a.config.sections[t],o=e(e({},{}),i.default);o.id=a.getId(),a.sections.push(o),$(a.config.sectionContainer).find("tbody").append(a.sectionHtmlItem(o,n)),$(a.config.addSectionModal).modal("hide")}}))},app.adminPage.getId=function(){return(new Date).getTime()+parseInt(Math.random().toString(8).slice(2))},app.adminPage.editSectionData=function(){var a=this;$(document).delegate(".btn-edit-page-section-data","click",(function(){var e=$(this).closest("tr").data("id"),t=a.sections.find((function(a){return a.id===e}));if(t){var n=a.config.sections[t.template].modal;$(n).modal("show"),a.config.sections[t.template].fillFormEdit(t)}}))},app.adminPage.editSectionDetails=function(){var a=this;$(document).delegate(".btn-edit-page-section-details","click",(function(){var e=$(this).closest("tr").data("id"),t=a.sections.find((function(a){return a.id===e}));if(t){var n=a.config.sections[t.template].detailsModal||a.config.editSectionDetailsModal;if($(n).modal("show"),$(n).find('[name="id"]').val(t.id),$(n).find('[name="heading"]').val(t.heading),$(n).find('[name="sub_heading"]').val(t.sub_heading),$(n).find('[name="description"]').val(t.description),t.background_color){var i=$(n).find('[name="background_style"]').map((function(){return this.value})).get();console.log(i);var o=i.includes(t.background_color)?t.background_color:i[0];$(n).find('[name="background_style"][value="'+o+'"]').prop("checked",!0),$(n).find('[name="background_color"]').val(o),$(n).find("[data-image-gallery]").sGallery().setImages([]),$(".section-background-image-wrapper").hide()}else $(n).find('[name="background_style"][value="image"]').prop("checked",!0),t.background_image&&$(n).find("[data-image-gallery]").sGallery().setImages([{id:t.background_image.id,name:t.background_image.name,preview_url:t.background_image.preview_url,original_url:t.background_image.original_url}]),$(".section-background-image-wrapper").show(),$(n).find('[name="background_color"]').val("")}}))},app.adminPage.sectionDetailsFormBackgroundStyleChange=function(){var a=this;$(a.config.detailsModal+' [name="background_style"]').on("change",(function(){"image"===this.value?($(".section-background-image-wrapper").show(),$(a.config.detailsModal).find('[name="background_color"]').val("")):($(".section-background-image-wrapper").hide(),$(a.config.detailsModal).find('[name="background_color"]').val(this.value))}))},app.adminPage.saveSectionDetails=function(){var a=this;$(".btn-save-section-details").on("click",(function(){var e=$(this).closest("form"),t=$(this).closest(a.config.detailsModal),i=parseInt(e.find('[name="id"]').val()),o=e.serializeArray();a.sections=a.sections.map((function(a){if(a.id===i){for(var t=function(){var e=n(r[s],2),t=e[0],i=e[1];(l=o.find((function(a){return a.name===t})))&&(a[t]="id"===t?i:l.value)},s=0,r=Object.entries(a);s<r.length;s++)t();var l;if((l=o.find((function(a){return"background_style"===a.name})))&&"image"===l.value){var p=e.find("[data-image-gallery]").sGallery().images();p.length?(a.media_id=p[0].id,a.background_image={id:p[0].id,name:p[0].name,preview_url:p[0].preview_url,original_url:p[0].original_url}):(a.media_id="",a.background_image="")}else a.media_id="",a.background_image=""}return a})),t.modal("hide")}))},app.adminPage.removeSection=function(){var a=this;$(document).delegate(a.config.removeSectionBtn,"click",(function(){var e=$(this).closest("tr.page-section-table-row"),t=parseInt(e.data("id"));a.sections=a.sections.filter((function(a){return a.id!==t})),e.remove()}))},app.adminPage.sortSections=function(){$("#page-section-table tbody").sortable({delay:150,handle:".drag-handle",cursor:"move",placeholder:"must-have-class",start:function(a,e){e.item.map((function(a,e){$(e).find(".page-section-table-row-remove-handle").addClass("d-none")}))},stop:function(a,e){e.item.map((function(a,e){$(e).find(".page-section-table-row-remove-handle").removeClass("d-none")}))}})},app.adminPage.tinyMCE=function(){tinymce.init({selector:"textarea#page-content",plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","photoGallery","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"],mobile:{plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"]},menubar:"file edit view insert format tools table tc",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange formatpainter removeformat | insertPhoto image media link anchor codesample | a11ycheck ltr rtl",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,importcss_append:!0,height:600,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table",content_css:["/plugins/tinymce/css/email-templates.css"],a11y_advanced_options:!0,promotion:!1,setup:function(a){a.on("init",(function(a){$(".admin-page-actions").removeClass("d-none")}))}})},app.adminPage.initTooltips=function(){},app.adminPage.pageTitleInput=function(){$('.admin-page-form [name="page_title"]').length&&($(".admin-page-form .page_title_length").html($('.admin-page-form [name="page_title"]').val().length),$('.admin-page-form [name="page_title"]').on("input",(function(){$(".admin-page-form .page_title_length").html(this.value.length)}))),$('.admin-page-form [name="page_description"]').length&&($(".admin-page-form page_description_length").html($('.admin-page-form [name="page_description"]').val().length),$('.admin-page-form [name="page_description"]').on("input",(function(){$(".admin-page-form .page_description_length").html(this.value.length)})))},app.adminPage.toggleSeoSettings=function(){$(this.config.toggleSeoSetting).on("click",(function(){$(this).remove(),$(".admin-page-form .blog-seo-edit").removeClass("display-none")}))},app.adminPage.hasPageTitle=function(){return!(!$('.admin-page-form [name="name"]').length||!$('.admin-page-form [name="name"]').val().trim())||!(!$('.admin-page-form [name="page_title"]').length||!$('.admin-page-form [name="page_title"]').val().trim())},app.adminPage.hasPageDescription=function(){return!(!$('.admin-page-form [name="description"]').length||!$('.admin-page-form [name="description"]').val().trim())||!(!$('.admin-page-form [name="page_description"]').length||!$('.admin-page-form [name="page_description"]').val().trim())},app.adminPage.toggleSeoPreviewTitle=function(){this.hasPageTitle()?($(".admin-page-form .blog-seo-preview-title-desc").addClass("d-none"),$(".admin-page-form .blog-seo-preview-title-desc-value").removeClass("d-none")):($(".admin-page-form .blog-seo-preview-title-desc").removeClass("d-none"),$(".admin-page-form .blog-seo-preview-title-desc-value").addClass("d-none"))},app.adminPage.seoSettingInpt=function(){var a=this;$('.admin-page-form [name="name"]').on("input",(function(){$('.admin-page-form [name="page_title"]').length&&($('.admin-page-form [name="page_title"]').attr("placeholder",app.strMaxLength(this.value,70)),$('.admin-page-form [name="page_title"]').val().trim()||($(".admin-page-form .blog-seo-preview-title").html(app.strMaxLength(this.value,70)),a.toggleSeoPreviewTitle())),$('.admin-page-form [name="slug"]').length&&($('.admin-page-form [name="slug"]').val().trim()||($('.admin-page-form [name="slug"]').attr("placeholder",app.slugify(app.strMaxLength(this.value,70))),$(".admin-page-form .blog-seo-preview-url").html(window.location.origin+"/pages/"+app.slugify(app.strMaxLength(this.value,70))),a.toggleSeoPreviewTitle()))})),$('.admin-page-form [name="description"]').on("input",(function(){$('.admin-page-form [name="page_description"]').length&&($('.admin-page-form [name="page_description"]').attr("placeholder",app.strMaxLength(this.value.trim(),320)),$(".admin-page-form .blog-seo-edit").hasClass("display-none")&&($('.admin-page-form [name="page_description"]').val(app.strMaxLength(this.value,320)),$(".admin-page-form .blog-seo-preview-desc").html(app.strMaxLength(this.value,320))),$('.admin-page-form [name="page_description"]').val().trim()||$(".admin-page-form .blog-seo-preview-desc").html(app.strMaxLength(this.value,320)),a.toggleSeoPreviewTitle())})),$('.admin-page-form [name="page_title"]').on("input",(function(){var e=this.value.trim();e||(e=$('.admin-page-form [name="name"]').length?$('.admin-page-form [name="name"]').val().trim():""),$(".admin-page-form .blog-seo-preview-title").html(app.strMaxLength(e,70)),a.toggleSeoPreviewTitle()})),$('.admin-page-form [name="page_description"]').on("input",(function(){var e=this.value.trim();e?$(".admin-page-form .blog-seo-preview-desc").html(app.strMaxLength(e,320)):$(".admin-page-form .blog-seo-preview-desc").html(app.strMaxLength($('.admin-page-form [name="description"]').val().trim(),320)),a.toggleSeoPreviewTitle()})),$('.admin-page-form [name="page_description"]').on("focus",(function(){if(!this.value.trim()){var e=$('.admin-page-form [name="description"]').val().trim();$(this).val(e),$(".admin-page-form .blog-seo-preview-desc").html(app.strMaxLength(e,320)),a.toggleSeoPreviewTitle()}})),$('.admin-page-form [name="slug"]').on("input propertychange",(function(){this.value=this.value.replace(/\s+/g,"-");var e=this.value.trim();e||(e=$('.admin-page-form [name="name"]').length?$('.admin-page-form [name="name"]').val().trim():"");var t=e?window.location.origin+"/pages/"+app.slugify(app.strMaxLength(e,70)):"";$(".admin-page-form .blog-seo-preview-url").html(t),a.toggleSeoPreviewTitle()}))},app.adminPage.darkModeOnChange=function(){$('.admin-page-form [name="dark_mode"]').on("change",(function(){var a=$('.page-section-details-modal [name="background_style"]'),e="1"===this.value;a.map((function(){"white"===this.value&&$(this).next().html(e?"Dark":"White"),"gray"===this.value&&$(this).next().html(e?"Light":"Gray")}))}))},app.adminPage.init=function(){this.initContentTypeChange(),this.addSection(),this.editSectionDetails(),this.editSectionData(),this.sectionDetailsFormBackgroundStyleChange(),this.saveSectionDetails(),this.removeSection(),this.initTooltips(),this.pageTitleInput(),this.seoSettingInpt(),this.toggleSeoSettings(),this.darkModeOnChange(),void 0!==$.fn.sortable&&this.sortSections(),this.config.sections.hero.init(),this.config.sections.about_us.init(),this.config.sections.statistics.init(),this.config.sections.recent_works.init(),this.config.sections.testimonial.init(),this.config.sections.boxed.init(),this.config.sections.boxed_left_icon.init(),this.config.sections.team.init(),this.config.sections.client.init(),this.config.sections.faq.init(),this.config.sections.blog.init(),this.config.sections.cta.init(),this.config.sections.text_media.init(),"undefined"!=typeof tinymce&&$("#page-content").length&&app.adminPage.tinyMCE()},$(document).ready(app.adminPage.init())}(),function(){"use strict";app.adminPageCreate={},app.adminPageCreate.config={form:"#admin-page-create-form",btn:"#btn-create-page",route:"/admin/pages/create",btnSaveExit:"#btn-create-page-exit",btnSavePreview:"#btn-create-page-preview"},app.adminPageCreate.data=function(){var a=$(this.config.form).serializeArray();return"section"===$(this.config.form+' [name="type"]').val()?a.push({name:"sections",value:JSON.stringify(app.adminPage.getSections())}):a.push({name:"content",value:tinyMCE.get("page-content").getContent()}),a},app.adminPageCreate.process=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this,t=$(e.config.btn),n=t.html(),i=t.closest(".btn-group").find(".dropdown-toggle");$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t),i.addClass("disabled").attr("disabled",!0)},success:function(e,o,s){app.backButtonContent(t,n),i.removeClass("disabled").attr("disabled",!1),a?"/admin/pages"===a?app.redirect(a):(a="/admin/pages/"+e.data.page.id+"/preview",window.open(a,"_blank",""),window.location="/admin/pages/"+e.data.page.id+"/edit"):window.location="/admin/pages/"+e.data.page.id+"/edit",app.notify(e.message)},error:function(a,o,s){var r=a;app.formErrors(e.config.form,r.responseJSON,r.status),app.backButtonContent(t,n),i.removeClass("disabled").attr("disabled",!1)}})},app.adminPageCreate.save=function(a){a.preventDefault(),this.process()},app.adminPageCreate.saveExit=function(a){a.preventDefault(),this.process("/admin/pages")},app.adminPageCreate.savePreview=function(a){a.preventDefault(),$(this.config.btn).closest(".btn-group").find("button"),this.process("/admin/pages/preview")},app.adminPageCreate.init=function(){$(this.config.btn).on("click",this.save.bind(this)),$(this.config.btnSaveExit).on("click",this.saveExit.bind(this)),$(this.config.btnSavePreview).on("click",this.savePreview.bind(this))},$(document).ready(app.adminPageCreate.init())}(),function(){"use strict";app.adminPageDatatable={},app.adminPageDatatable.removeSelected=function(a,e){var t=a.filter((function(a){return!a.default})).map((function(a){return a.id}));t.length?bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete page(s)!. Default pages that are selected will not be removed."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.adminPageDatatable.tableAjax("delete",{pages:t},"/admin/pages/destroy",e)}}):app.notify(app.trans("You cannot remove default pages."))},app.adminPageDatatable.moveToDraft=function(a,e){var t=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to move selected page(s) to draft!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.adminPageDatatable.tableAjax("post",{pages:t},"/admin/pages/move-to-draft",e)}})},app.adminPageDatatable.moveToPublished=function(a,e){var t=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to move selected page(s) to published!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.adminPageDatatable.tableAjax("post",{pages:t},"/admin/pages/move-to-published",e)}})},app.adminPageDatatable.tableAjax=function(a,e,t,n){var i=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Processing")+"...</p>",closeButton:!1});$.ajax({type:a,url:t,data:e,success:function(a,e,t){app.notify(a.message),n.refresh(),setTimeout((function(){i.modal("hide")}),350)},error:function(a){app.notify(a.responseJSON.message),setTimeout((function(){i.modal("hide")}),350)}})},app.adminPageDatatable.config={datatable:"#admin-pages-datatable",route:"/admin/pages/datatable",options:{src:"/admin/pages/datatable",resourceName:{singular:app.trans("page"),plural:app.trans("pages")},columns:[{title:app.trans("Name"),key:"name",classes:"page-name-row"},{title:app.trans("Default"),key:"default",classes:"page-default-row",searchable:!1,orderable:!1,element:function(a){return a.default?$('<i class="fas fa-check text-success"></i>'):$('<i class="fas fa-circle text-muted"></i>')}},{title:app.trans("Type"),key:"type",classes:"page-type-row",element:function(a){return $("<span>"+a.type_label+"</span>")}},{title:app.trans("Status"),key:"status",classes:"page-status-row",searchable:!1,orderable:!1,element:function(a){var e=a.status.charAt(0).toUpperCase()+a.status.slice(1),t='<span class="badge badge-'+a.status_color+'">'+e+"</span>";return $(t)}},{title:app.trans("Created"),key:"created",classes:"page-created-row",searchable:!1,orderable:!1},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"page-actions-column tb-actions-column text-right",element:function(a){var e=["draft","published"],t=e.indexOf(a.status);-1!==t&&e.splice(t,1);var n='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';if(n+='<i class="fas fa-ellipsis-h"></i>',n+="</button>",n+='<div class="dropdown-menu">',"published"===a.status){var i="/pages/"+a.slug;"home"===a.slug&&(i="/"),n+='<a class="dropdown-item" href="'+i+'" target="_blank">'+app.trans("View page in site")+"</a>"}else n+='<a class="dropdown-item" href="/admin/pages/'+a.id+'/preview" target="_blank">'+app.trans("View preview")+"</a>";n+='<a class="dropdown-item" href="/admin/pages/'+a.id+'/edit">'+app.trans("Edit page")+"</a>";for(var o=0;o<e.length;o++){var s=e[o];n+='<a class="dropdown-item btn-move-to-'+s+'-page page-status-transition-btn" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Move to :status",{status:s})+"</a>"}return n+='<a class="dropdown-item btn-duplicate-page" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Duplicate page")+"</a>",a.default||(n+='<a class="dropdown-item text-danger btn-delete-page" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Delete page")+"</a>"),n+="</div>",$(n)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No pages were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Published"),value:"Published"},{label:app.trans("Draft"),value:"Draft"}],hidden:!0,shortcut:!0,allowMultiple:!1,showClear:!1,value:""},{key:"type",title:app.trans("Type"),choices:[],shortcut:!0,allowMultiple:!1,value:""}],filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("Published"),filters:[{key:"status",value:"Published"}]},{label:app.trans("Draft"),filters:[{key:"status",value:"Draft"}]}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest Created")},{value:"id__asc",label:app.trans("Oldest Created")}]},bulkActions:[{title:app.trans("Removed selected"),onAction:app.adminPageDatatable.removeSelected.bind(app.adminPageDatatable),reloadOnChange:!0},{title:app.trans("Move to Draft"),onAction:app.adminPageDatatable.moveToDraft.bind(app.adminPageDatatable),reloadOnChange:!0},{title:app.trans("Move to Published"),onAction:app.adminPageDatatable.moveToPublished.bind(app.adminPageDatatable),reloadOnChange:!0}],limit:25}},app.adminPageDatatable.handleRemove=function(){var a=this;$(document).delegate(".btn-delete-page","click",(function(){a.removeSelected([{id:$(this).data("id")}],app.adminPageDatatable.table)}))},app.adminPageDatatable.handleDuplicatePage=function(){var a=this;$(document).delegate(".btn-duplicate-page","click",(function(){var e=$(this).data("id"),t=a.table.findItem("id",e);if(t){var n=$("#duplicate-page-modal");n.find('[name="name"]').val(t.name),n.find('[name="description"]').val(t.description),n.find("form").data("route","/admin/pages/"+t.id+"/duplicate"),n.modal("show")}}))},app.adminPageDatatable.handleMoveToDraft=function(){var a=this;$(document).delegate(".btn-move-to-draft-page","click",(function(){a.moveToDraft([{id:$(this).data("id")}],app.adminPageDatatable.table)}))},app.adminPageDatatable.handleMoveToPublished=function(){var a=this;$(document).delegate(".btn-move-to-published-page","click",(function(){a.moveToPublished([{id:$(this).data("id")}],app.adminPageDatatable.table)}))},app.adminPageDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminPageDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminPageDatatable.init=function(){this.initDatatable(),this.handleRemove(),this.handleMoveToDraft(),this.handleMoveToPublished(),this.handleDuplicatePage()},$(document).ready(app.adminPageDatatable.init())}(),function(){"use strict";app.adminPageDuplicate={},app.adminPageDuplicate.config={modal:"#duplicate-page-modal",form:"#admin-page-duplicate-form",btn:{save:"#btn-admin-save-duplicate-page",edit:"#btn-admin-save-edit-duplicate-page"}},app.adminPageDuplicate.ajax=function(){var a=this;$(a.config.form).on("submit",(function(e){e.preventDefault();var t=$(a.config.form),n=$(a.config.btn.save),i=t.data("route"),o=n.html(),s=n.closest(".btn-group").find(".dropdown-toggle"),r=new FormData(this);$.ajax({type:"POST",url:i,data:r,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(n),s.addClass("disabled").attr("disabled",!0)},success:function(e,t,i){app.backButtonContent(n,o),s.removeClass("disabled").attr("disabled",!1),e.data&&e.data.redirectTo?app.redirect(e.data.redirectTo):(app.notify(e.message),app.adminPageDatatable.table.refresh()),$(a.config.modal).modal("hide")},error:function(e,t,i){var r=e;app.formErrors(a.config.form,r.responseJSON,r.status),app.backButtonContent(n,o),s.removeClass("disabled").attr("disabled",!1)}})}))},app.adminPageDuplicate.init=function(){var a=this;app.adminPageDuplicate.ajax(),$(this.config.btn.save).on("click",(function(){$(a.config.modal).find('[name="view_edit"]').val(0),$(a.config.modal).find("form").submit()})),$(this.config.btn.edit).on("click",(function(){$(a.config.modal).find('[name="view_edit"]').val(1),$(a.config.modal).find("form").submit()}))},$(document).ready(app.adminPageDuplicate.init())}(),function(){"use strict";app.adminPageImageUpload={},app.adminPageImageUpload.sectionBackgroundImage=function(){var a=$("#page-background_image-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"background_image",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:".jpeg,.jpg,.png",init:function(){var a=app.baseDropzone.countUploaded(".tickets-attachments-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminPageImageUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.adminPageImageUpload.sectionBackgroundImage())},$(document).ready(app.adminPageImageUpload.init())}(),function(){"use strict";app.adminPageUpdate={},app.adminPageUpdate.config={form:"#admin-page-update-form",btn:"#btn-update-page",btnSaveExit:"#btn-update-page-exit",btnSavePreview:"#btn-update-page-preview",route:"/admin/pages/update"},app.adminPageUpdate.data=function(){var a=$(this.config.form).serializeArray(),e=$(this.config.form+' [name="type"]').val();return a.push({name:"type",value:e}),"section"===e?a.push({name:"sections",value:JSON.stringify(app.adminPage.getSections())}):a.push({name:"content",value:tinyMCE.get("page-content").getContent()}),a},app.adminPageUpdate.process=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this,t=$(e.config.btn),n=t.html(),i=$(e.config.form).data("route"),o=t.closest(".btn-group").find(".dropdown-toggle");$.ajax({type:"PATCH",url:i,data:e.data(),beforeSend:function(){app.buttonLoader(t),o.addClass("disabled").attr("disabled",!0)},success:function(e,i,s){app.backButtonContent(t,n),o.removeClass("disabled").attr("disabled",!1),a?"/admin/pages"===a?app.redirect(a):(window.open(a,"_blank",""),window.location=window.location.href):window.location=window.location.href,app.notify(e.message)},error:function(a,i,s){var r=a;app.formErrors(e.config.form,r.responseJSON,r.status),app.backButtonContent(t,n),o.removeClass("disabled").attr("disabled",!1)}})},app.adminPageUpdate.save=function(a){a.preventDefault(),this.process()},app.adminPageUpdate.saveExit=function(a){a.preventDefault(),this.process("/admin/pages")},app.adminPageUpdate.savePreview=function(a){a.preventDefault();var e=$(this.config.btn);e.closest(".btn-group").find("button"),this.process("/admin/pages/"+e.data("id")+"/preview")},app.adminPageUpdate.init=function(){$(this.config.btn).on("click",this.save.bind(this)),$(this.config.btnSaveExit).on("click",this.saveExit.bind(this)),$(this.config.btnSavePreview).on("click",this.savePreview.bind(this))},$(document).ready(app.adminPageUpdate.init())}(),app.adminPaymentGatewayUploadLogo={},app.adminPaymentGatewayUploadLogo.primaryLogo=function(){var a=$("#settings-paypal_logo-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"paypal_logo",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:"image/*",init:function(){var a=app.baseDropzone.countUploaded(".settings-paypal_logo-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminPaymentGatewayUploadLogo.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.adminPaymentGatewayUploadLogo.primaryLogo())},$(document).ready(app.adminPaymentGatewayUploadLogo.init()),function(){"use strict";app.adminPhotoFolderCreate={},app.adminPhotoFolderCreate.config={form:"#photo-new-folder-form",route:"/admin/photos/create"},app.adminPhotoFolderCreate.ajax=function(){var a=this;$(a.config.form).on("submit",(function(e){e.preventDefault();var t=$(a.config.form),n=t.find(":submit"),i=n.html(),o=new FormData(this);$.ajax({type:"POST",url:a.config.route,data:o,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(n)},success:function(a,e,o){$('[name="gallery-folder-select"]').length?(app.backButtonContent(n,i),app.notify(a.message),t.parents(".btn-group").find(".dropdown-toggle").click(),$('[name="gallery-folder-select"]').append($("<option>",{value:a.data.folder.id,text:a.data.folder.name})),$('[name="gallery-folder-select"]').val(a.data.folder.id).trigger("change")):app.redirect(a.data.redirectTo)},error:function(e,t,o){var s=e;app.formErrors(a.config.form,s.responseJSON,s.status),app.backButtonContent(n,i)}})}))},app.adminPhotoFolderCreate.init=function(){app.adminPhotoFolderCreate.ajax()},$(document).ready(app.adminPhotoFolderCreate.init())}(),function(){"use strict";app.adminPhotoFolderDelete={},app.adminPhotoFolderDelete.config={btn:".btn-photos-delete"},app.adminPhotoFolderDelete.process=function(){$(document).delegate(this.config.btn,"click",(function(a){var e=$(this),t=e.html(),n=$(this).data("route");bootbox.confirm({title:app.trans("Delete folder?"),message:app.trans("You're about to delete folder(s)!"),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Delete now")}},callback:function(a){a&&$.ajax({type:"DELETE",url:n,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.adminPhotoFolderDelete.init=function(){app.adminPhotoFolderDelete.process()},$(document).ready(app.adminPhotoFolderDelete.init())}(),function(){"use strict";app.adminPhotoFolderUpdate={},app.adminPhotoFolderUpdate.config={button:".btn-photos-edit",form:"#photo-update-folder-form",modal:"#photo-edit-folder-modal"},app.adminPhotoFolderUpdate.getRoute=function(a){return"/admin/photos/".concat(a,"/update")},app.adminPhotoFolderUpdate.ajax=function(){var a=this;$(a.config.form).on("submit",(function(e){e.preventDefault();var t=$(this).find(":submit"),n=t.html(),i=new FormData(this);$.ajax({type:"POST",url:a.getRoute($(this).find('[name="id"]').val()),data:i,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(e,i,o){app.backButtonContent(t,n),$(a.config.modal).modal("hide"),e.data.redirectTo&&app.redirect(e.data.redirectTo)},error:function(e,i,o){var s=e;setTimeout((function(){app.backButtonContent(t,n),app.formErrors(a.config.form,s.responseJSON,s.status)}),350)}})}))},app.adminPhotoFolderUpdate.showEditModal=function(){var a=this;$(a.config.button).on("click",(function(){$(a.config.form).find('[name="id"]').val($(this).data("id")),$(a.config.form).find('[name="name"]').val($(this).data("name")),$(a.config.form).find('[name="description"]').val($(this).data("description")),$(a.config.modal).modal("show")}))},app.adminPhotoFolderUpdate.onModalHide=function(){var a=this;$(a.config.modal).on("hidden.bs.modal",(function(){$(a.config.form).find('[name="id"]').val(""),$(a.config.form).find('[name="name"]').val(""),$(a.config.form).find('[name="description"]').val("")}))},app.adminPhotoFolderUpdate.init=function(){this.ajax(),this.showEditModal(),this.onModalHide()},$(document).ready(app.adminPhotoFolderUpdate.init())}(),function(){"use strict";app.adminPhotosDatatable={},app.adminPhotosDatatable.deleteImage=function(a,e){var t=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete photo(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Processing")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:"/admin/photos/delete-images",data:{images:t},success:function(a,t,i){app.notify(a.message),e.refresh(),setTimeout((function(){n.modal("hide")}),350)},error:function(a){app.notify(a.responseJSON.message),setTimeout((function(){n.modal("hide")}),350)}})}}})},app.adminPhotosDatatable.downloadImage=function(a,e){location.href="/admin/photos/download?images="+a.map((function(a){return a.id})).join(",")},app.adminPhotosDatatable.config={datatable:"#admin-photos-datatable",options:{src:"/admin/photos/datatable",resourceName:{singular:app.trans("photo"),plural:app.trans("photos")},columns:[{title:app.trans("Image"),key:"preview",classes:"admin-photo-preview-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <img src="'.concat(a.preview_url,'" style="width: 60px; height: 60px;">\n                        </div>\n                    '))}},{title:app.trans("Name"),key:"name",classes:"admin-photo-name-row",searchable:!1,orderable:!1},{title:app.trans("Folder"),key:"folder",classes:"admin-photo-folder-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <span class="d-flex flex-column">\n                            '.concat(a.model.name,"\n                        </span>\n                    "))}},{title:app.trans("Created"),key:"created",classes:"admin-photo-created-row",searchable:!1,orderable:!1},{title:app.trans("Size"),key:"file_size",classes:"admin-photo-size-row",searchable:!1,orderable:!1},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"admin-affiliate-actions-row tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="admin-affiliate-action-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu" data-button="#admin-affiliate-action-dropdown">',e+='<a class="dropdown-item btn-admin-photo-image-delete" role="button" href="javascript:void(0)" data-id="'+a.id+'">'+app.trans("Delete image")+"</a>",e+='<a class="dropdown-item btn-admin-photo-image-download" role="button" href="javascript:void(0)" data-id="'+a.id+'">'+app.trans("Download image")+"</a>",e+='<a class="dropdown-item" href="'+a.original_url+'" target="_blank">'+app.trans("View image")+"</a>",e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No photos were found!")},filterControl:[{key:"folder",title:app.trans("Folder"),choices:[],shortcut:!0,allowMultiple:!0,showClear:!0,value:""}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminPhotosDatatable.deleteImage.bind(app.adminPhotosDatatable),reloadOnChange:!0},{title:app.trans("Download selected"),onAction:app.adminPhotosDatatable.downloadImage.bind(app.adminPhotosDatatable),reloadOnChange:!0}],limit:25,load:!1}},app.adminPhotosDatatable.handleDeleteImage=function(){var a=this;$(document).delegate(".btn-admin-photo-image-delete","click",(function(){a.deleteImage([{id:$(this).data("id")}],app.adminPhotosDatatable.table)}))},app.adminPhotosDatatable.handleDownloadImage=function(){var a=this;$(document).delegate(".btn-admin-photo-image-download","click",(function(){a.downloadImage([{id:$(this).data("id")}],app.adminPhotosDatatable.table)}))},app.adminPhotosDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminPhotosDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminPhotosDatatable.init=function(){this.initDatatable(),this.handleDeleteImage(),this.handleDownloadImage()},$(document).ready(app.adminPhotosDatatable.init())}(),function(){"use strict";app.adminPhotosUpload={},app.adminPhotosUpload.config={modal:"#admin-upload-photo-modal",form:"#admin-upload-photos-form",btnAdd:".btn-add-photo-upload",btnUpload:".btn-upload-photos",btnRemoveImage:".btn-remove-photo-upload-image",photos:[],maxSize:2e6},app.adminPhotosUpload.uid=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)},app.adminPhotosUpload.addPhoto=function(){$(this.config.btnAdd).on("click",(function(){$(this).closest("form").find("input").trigger("click")}))},app.adminPhotosUpload.upload=function(){var a=this;$(this.config.form).on("submit",(function(e){e.preventDefault();var t=$(a.config.form),n=t.find(":submit"),i=n.html();if($(a.config.form).find(".photo-upload-images .list-group-item").length>10)return app.formMessageHelper.showFormMessage(a.config.form,app.trans("Upload must not greater than 10 photos.. Please remove some images to continue"),413),void $(a.config.modal).animate({scrollTop:0});var o=new FormData;o.append("folder",t.find('[name="folder"]').val()),$(a.config.form).find(".photo-upload-images .list-group-item").map((function(e,t){var n=$(t).data("id"),i=a.config.photos.find((function(a){return a.id===n}));i.file.size,o.append("photos[".concat(e,"]"),i.file),i.file.size>a.config.maxSize&&$(t).addClass("list-group-item-error")})),$.ajax({type:"POST",url:"/admin/photos/upload",data:o,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(n)},success:function(e,t,o){setTimeout((function(){app.notify(e.message),app.adminPhotosDatatable.table?(app.backButtonContent(n,i),app.adminPhotosDatatable.table.refresh()):app.redirect(e.data.redirectTo),$(a.config.modal).modal("hide")}),350)},error:function(e,t,o){var s=e;413===s.status?(app.formMessageHelper.showFormMessage(a.config.form,s.statusText,s.status),app.notify(s.statusText)):app.formErrors(a.config.form,s.responseJSON,s.status),$(a.config.modal).animate({scrollTop:0}),app.backButtonContent(n,i)}})}))},app.adminPhotosUpload.photoInputChange=function(){var a=this;$("#admin-upload-photos-form input").on("change",(function(e){var t=this;if(this.files.length)for(var n=function(e){var n=t.files[e],i={id:a.uid(),file:n};a.config.photos.push(i),(o=new FileReader).onload=function(e){var t='<li class="list-group-item" data-id="'.concat(i.id,'">\n                                    <div class="row align-items-center">\n                                        <div class="col-auto">\n                                            <div class="avatar">\n                                                <img class="rounded" src="').concat(e.target.result,'" alt="').concat(i.file.name,'">\n                                            </div>\n                                        </div>\n                                        <div class="col overflow-hidden">\n                                            <h6 class="text-sm mb-0 image-name">').concat(i.file.name,'</h6>\n                                        </div>\n                                        <div class="col-auto">\n                                            <a href="javascript:void(0)" class="dropdown-item btn-remove-photo-upload-image">\n                                                <i class="fas fa-trash-alt"></i>\n                                            </a>\n                                        </div>\n                                    </div>\n                                </li>');$(a.config.form).find(".photo-upload-images").append(t)},o.readAsDataURL(i.file)},i=0;i<this.files.length;i++){var o;n(i)}$(this).val("")}))},app.adminPhotosUpload.removeImage=function(){var a=this;$(document).delegate(a.config.form+" .btn-remove-photo-upload-image","click",(function(){var e=$(this).closest("li");a.config.photos=a.config.photos.filter((function(a){return a.id!==e.data("id")})),e.remove()}))},app.adminPhotosUpload.modalOnHide=function(){var a=this;$(a.config.modal).on("hidden.bs.modal",(function(){a.config.photos=[],$(a.config.form).find(".photo-upload-images").html("")}))},app.adminPhotosUpload.init=function(){app.adminPhotosUpload.addPhoto(),app.adminPhotosUpload.photoInputChange(),app.adminPhotosUpload.upload(),app.adminPhotosUpload.modalOnHide(),app.adminPhotosUpload.removeImage()},$(document).ready(app.adminPhotosUpload.init())}(),app.adminProducts={},app.adminProducts.init=function(){},$(document).ready(app.adminProducts.init()),app.adminProductsCreate={},app.adminProductsCreate.config={form:"#admin-products-create-form",route:"/admin/products/create"},app.adminProductsCreate.ajax=function(){$(app.adminProductsCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminProductsCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminProductsCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminProductsCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminProductsCreate.init=function(){app.adminProductsCreate.ajax()},$(document).ready(app.adminProductsCreate.init()),app.adminProductsDatatable={},app.adminProductsDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete product(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminProductsDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminProductsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminProductsDatatable.restore=function(){$(document).delegate(".btn-admin-products-restore","click",(function(){var a=$(this).attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this product!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"post",url:app.adminProductsDatatable.config.restore.route,data:{id:a},success:function(a,e,t){app.notify(a.message),app.adminProductsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.adminProductsDatatable.forceDelete=function(){$(document).delegate(".btn-admin-products-force-delete","click",(function(){var a=$(this).attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this product!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"delete",url:app.adminProductsDatatable.config.forceDelete.route,data:{id:a},success:function(a,e,t){app.notify(a.message),app.adminProductsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.adminProductsDatatable.config={delete:{route:"/admin/products/multi-delete"},restore:{route:"/admin/products/restore"},forceDelete:{route:"/admin/products/force-delete"},datatable:{src:"/admin/products/datatable",resourceName:{singular:app.trans("product"),plural:app.trans("products")},columns:[{title:app.trans("Id"),key:"id",searchable:!0,classes:"products-id-column tb-id-column"},{title:app.trans("Price"),key:"price",searchable:!0,classes:"products-price-column"},{title:app.trans("Currency"),key:"currency.name",searchable:!0,classes:"products-currency-id-column",element:function(a){return null!==a.currency_id?$("<span>"+a.currency.name+"</span>"):$("<span>&nbsp;</span>")}},{title:app.trans("Code"),key:"currency.code",classes:"products-code-column",element:function(a){return null!==a.currency_id?$("<span>"+a.currency.code+"</span>"):$("<span>&nbsp;</span>")}},{title:app.trans("Title"),key:"title",searchable:!0,classes:"products-title-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"products-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&(app.can("admin.products.show")&&(e+='<a class="dropdown-item" href="/admin/products/'+a.id+'/show"><i class="fas fa-eye"></i> '+app.trans("View")+"</a>"),app.can("admin.products.edit")&&(e+='<a class="dropdown-item" href="/admin/products/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),app.can("admin.products.delete")&&(e+='<a class="dropdown-item btn-admin-products-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Delete")+"</a>")),null!==a.deleted_at&&(app.can("admin.products.restore")&&(e+='<a class="dropdown-item btn-admin-products-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> '+app.trans("Restore")+"</a>"),app.can("admin.products.force-delete")&&(e+='<a class="dropdown-item btn-admin-products-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Force delete")+"</a>")),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No products were found!")},filterTabs:[{label:app.trans("All"),filters:[{key:"status",value:"All"}]},{label:app.trans("Trashed"),filters:[{key:"status",value:"Trashed"}]}],filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Trashed"),value:"Trashed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"price__asc",label:app.trans("Price")+" ( A - Z )"},{value:"price__desc",label:app.trans("Price")+" ( Z - A )"},{value:"currency_id__asc",label:app.trans("Currency")+" ( A - Z )"},{value:"currency_id__desc",label:app.trans("Currency")+" ( Z - A )"},{value:"title__asc",label:app.trans("Title")+" ( A - Z )"},{value:"title__desc",label:app.trans("Title")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminProductsDatatable.delete,status:"error"}],limit:10}},app.adminProductsDatatable.init=function(){app.adminProductsDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminProductsDatatable.tb=$("#admin-products-datatable").JsDataTable(this.config.datatable)),app.adminProductsDatatable.restore(),app.adminProductsDatatable.forceDelete()},$(document).ready(app.adminProductsDatatable.init()),app.adminProductsDelete={},app.adminProductsDelete.config={button:".btn-admin-products-delete"},app.adminProductsDelete.ajax=function(a){$(document).delegate(app.adminProductsDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this product!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"DELETE",url:"/admin/products/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(a)},success:function(a,e,t){app.notify(a.message),app.adminProductsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.adminProductsDelete.init=function(){app.adminProductsDelete.ajax()},$(document).ready(app.adminProductsDelete.init()),app.adminProductsUpdate={},app.adminProductsUpdate.config={form:"#admin-products-edit-form"},app.adminProductsUpdate.route=function(a){return $(this.config.form).data("action")},app.adminProductsUpdate.ajax=function(a){$(app.adminProductsUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminProductsUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminProductsUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminProductsUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminProductsUpdate.init=function(){app.adminProductsUpdate.ajax()},$(document).ready(app.adminProductsUpdate.init()),app.adminProductsUpload={},app.adminProductsUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1)},$(document).ready(app.adminProductsUpload.init()),function(){"use strict";app.adminRejectManualDeposit={},app.adminRejectManualDeposit.config={button:"#btn-reject-manual-deposit"},app.adminRejectManualDeposit.ajax=function(){$(this.config.button).on("click",(function(a){var e=$(this),t=e.data("route"),n=e.html();bootbox.prompt({title:app.trans("Are you sure you want to reject this request?"),message:'<p class="mb-1">'+app.trans("Reason")+'<span class="text-muted"> ('+app.trans("Optional")+")</span></p>",inputType:"textarea",callback:function(a){null!==a&&$.ajax({type:"POST",url:t,data:{reason:a},beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,t,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,n)}),350)}})}})}))},app.adminRejectManualDeposit.init=function(){this.ajax()},$(document).ready(app.adminRejectManualDeposit.init())}(),function(){"use strict";app.adminRejectWithdrawRequest={},app.adminRejectWithdrawRequest.config={button:"#btn-reject-withdraw-request"},app.adminRejectWithdrawRequest.ajax=function(){$(this.config.button).on("click",(function(a){var e=$(this),t=e.data("route"),n=e.html();bootbox.prompt({title:app.trans("Are you sure you want to reject this request?"),message:'<p class="mb-1">'+app.trans("Reason")+'<span class="text-muted"> ('+app.trans("Optional")+")</span></p>",inputType:"textarea",callback:function(a){null!==a&&$.ajax({type:"POST",url:t,data:{reason:a},beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,t,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,n)}),350)}})}})}))},app.adminRejectWithdrawRequest.init=function(){this.ajax()},$(document).ready(app.adminRejectWithdrawRequest.init())}(),function(){"use strict";app.adminServices={},app.adminServices.tinyMCE=function(){tinymce.init({selector:"textarea.admin-services-tinymce-default",plugins:["preview","importcss","code","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"],mobile:{plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"]},menubar:"file edit view insert format tools table tc",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange formatpainter removeformat | insertfile image media link anchor codesample | a11ycheck ltr rtl",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,height:600,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table",a11y_advanced_options:!0,promotion:!1,setup:function(a){a.on("change",(function(a){var e=tinyMCE.activeEditor.id;$("#"+e).parent(".form-group").hasClass("error")&&($("#"+e).parent(".form-group").removeClass("error"),$("#"+e).parent(".form-group").find(".message").remove())}))}})},app.adminServices.init=function(){"undefined"!=typeof tinymce&&$(".admin-services-tinymce-default").length&&app.adminServices.tinyMCE()},$(document).ready(app.adminServices.init()),$(document).ready((function(){void 0!==$.fn.select2&&$(".services-icon-select2").select2({containerCssClass:"services-icon",escapeMarkup:function(a){return'<span class="fa-2x '+a+'"></span> '+a.replace("fas","").replace("lni ","")}})}))}(),function(){"use strict";app.adminServicesCreate={},app.adminServicesCreate.config={form:"#admin-services-create-form",route:"/admin/services/create"},app.adminServicesCreate.ajax=function(){$(app.adminServicesCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminServicesCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.each($(".admin-services-tinymce-default"),(function(){n.append($(this).attr("name"),tinyMCE.get($(this).attr("id")).getContent())})),$.ajax({type:"POST",url:app.adminServicesCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminServicesCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminServicesCreate.init=function(){app.adminServicesCreate.ajax()},$(document).ready(app.adminServicesCreate.init())}(),function(){"use strict";app.adminServicesDatatable={},app.adminServicesDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete service(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminServicesDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminServicesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminServicesDatatable.restore=function(){$(document).delegate(".btn-admin-services-restore","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this service!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"post",url:app.adminServicesDatatable.config.restore.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminServicesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminServicesDatatable.forceDelete=function(){$(document).delegate(".btn-admin-services-force-delete","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this service!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"delete",url:app.adminServicesDatatable.config.forceDelete.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminServicesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminServicesDatatable.config={delete:{route:"/admin/services/multi-delete"},restore:{route:"/admin/services/restore"},forceDelete:{route:"/admin/services/force-delete"},datatable:{src:"/admin/services/datatable",resourceName:{singular:app.trans("service"),plural:app.trans("services")},columns:[{title:app.trans("Icon"),key:"icon",searchable:!0,classes:"services-icon-column",element:function(a){var e='<span class="'+a.icon+'"></span>';return $(e)}},{title:app.trans("Title"),key:"title",searchable:!0,classes:"services-title-column"},{title:app.trans("Content"),key:"content",searchable:!0,classes:"services-content-column",element:function(a){var e=$("<textarea/>").html(a.content).text();return $(e)}},{title:app.trans("Visibility"),key:"visibility",searchable:!1,classes:"services-visibility-column",element:function(a){var e='<span class="badge badge-'+a.visibility_details.color+'">'+a.visibility_details.name+"</span>";return $(e)}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"services-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&(app.can("admin.services.show")&&(e+='<a class="dropdown-item" href="/admin/services/'+a.id+'/show"><i class="fas fa-eye"></i> '+app.trans("View")+"</a>"),app.can("admin.services.edit")&&(e+='<a class="dropdown-item" href="/admin/services/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),app.can("admin.services.delete")&&(e+='<a class="dropdown-item btn-admin-services-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Delete")+"</a>")),null!==a.deleted_at&&(app.can("admin.services.restore")&&(e+='<a class="dropdown-item btn-admin-services-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> '+app.trans("Restore")+"</a>"),app.can("admin.services.force-delete")&&(e+='<a class="dropdown-item btn-admin-services-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Force delete")+"</a>")),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No service's found!")},filterTabs:[{label:app.trans("All"),filters:[{key:"status",value:"All"}]},{label:app.trans("Trashed"),filters:[{key:"status",value:"Trashed"}]}],filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Trashed"),value:"Trashed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"title__asc",label:app.trans("Title")+" ( A - Z )"},{value:"title__desc",label:app.trans("Title")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminServicesDatatable.delete,status:"error"}],limit:50}},app.adminServicesDatatable.init=function(){app.adminServicesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.adminServicesDatatable.tb=$("#admin-services-datatable").JsDataTable(this.config.datatable)),app.adminServicesDatatable.restore(),app.adminServicesDatatable.forceDelete()},$(document).ready(app.adminServicesDatatable.init())}(),function(){"use strict";app.adminServicesDelete={},app.adminServicesDelete.config={button:".btn-admin-services-delete"},app.adminServicesDelete.ajax=function(a){$(document).delegate(app.adminServicesDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this service!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=a.parents(".tb-actions-column").find(".dropdown-toggle"),n=t.html();$.ajax({type:"DELETE",url:"/admin/services/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message),app.adminServicesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(t,n)}})}}})}))},app.adminServicesDelete.init=function(){app.adminServicesDelete.ajax()},$(document).ready(app.adminServicesDelete.init())}(),function(){"use strict";app.adminServicesUpdate={},app.adminServicesUpdate.config={form:"#admin-services-edit-form"},app.adminServicesUpdate.route=function(a){return $(this.config.form).data("action")},app.adminServicesUpdate.ajax=function(a){$(app.adminServicesUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminServicesUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.each($(".admin-services-tinymce-default"),(function(){n.append($(this).attr("name"),tinyMCE.get($(this).attr("id")).getContent())})),$.ajax({type:"POST",url:app.adminServicesUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminServicesUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminServicesUpdate.init=function(){app.adminServicesUpdate.ajax()},$(document).ready(app.adminServicesUpdate.init())}(),function(){"use strict";app.adminServicesUpload={},app.adminServicesUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1)},$(document).ready(app.adminServicesUpload.init())}(),function(){"use strict";app.adminSettings={},app.adminSettings.mail=function(){$('[name="mail_driver"]').on("change",(function(){var a=$(this).val();$('[name="mail_driver"] > option').each((function(){a!=this.value&&($("."+this.value+"-wrapper").removeClass("display-flex"),$("."+this.value+"-wrapper").addClass("display-none"))})),$("."+a+"-wrapper").removeClass("display-none"),$("."+a+"-wrapper").addClass("display-flex")}))},app.adminSettings.init=function(){app.adminSettings.mail()},$(document).ready(app.adminSettings.init())}(),function(){"use strict";app.adminSettingsCreate={},app.adminSettingsCreate.config={form:"#admin-settings-edit-form",route:"/admin/settings/update",redirect:"/admin/settings"},app.adminSettingsCreate.ajax=function(){$(app.adminSettingsCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminSettingsCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);if($("#settings-default_profile_photo-dropzone").length){var i=$("#settings-default_profile_photo-dropzone").get(0).dropzone.getAcceptedFiles();$.each(i,(function(a,e){n.append("default_profile_photo["+a+"]",$("#settings-default_profile_photo-dropzone")[0].dropzone.getAcceptedFiles()[a])}))}if($("#settings-colored_logo-dropzone").length){var o=$("#settings-colored_logo-dropzone").get(0).dropzone.getAcceptedFiles();$.each(o,(function(a,e){n.append("colored_logo["+a+"]",$("#settings-colored_logo-dropzone")[0].dropzone.getAcceptedFiles()[a])}))}if($("#settings-white_logo-dropzone").length){var s=$("#settings-white_logo-dropzone").get(0).dropzone.getAcceptedFiles();$.each(s,(function(a,e){n.append("white_logo["+a+"]",$("#settings-white_logo-dropzone")[0].dropzone.getAcceptedFiles()[a])}))}if($("#settings-favicon-dropzone").length){var r=$("#settings-favicon-dropzone").get(0).dropzone.getAcceptedFiles();$.each(r,(function(a,e){n.append("favicon["+a+"]",$("#settings-favicon-dropzone")[0].dropzone.getAcceptedFiles()[a])}))}if($("#settings-paypal_logo-dropzone").length){var l=$("#settings-paypal_logo-dropzone").get(0).dropzone.getAcceptedFiles();$.each(l,(function(a,e){n.append("paypal_logo["+a+"]",$("#settings-paypal_logo-dropzone")[0].dropzone.getAcceptedFiles()[a])}))}$.ajax({type:"POST",url:app.adminSettingsCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.notify(a.message),setTimeout((function(){var a=$(app.adminSettingsCreate.config.form+' [name="redirect"]');a=a.length?a.val():app.adminSettingsCreate.config.redirect,app.redirect(a)}),1e3),app.backButtonContent(e,t)},error:function(a,n,i){var o=a;app.formErrors(app.adminSettingsCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminSettingsCreate.init=function(){app.adminSettingsCreate.ajax()},$(document).ready(app.adminSettingsCreate.init())}(),function(){"use strict";app.adminSettingsRemoveFile={},app.adminSettingsRemoveFile.remove=function(){$(document).delegate(".settings-remove-dropzone-file","click",(function(){var a=$(this),e=a.attr("data-dz-id"),t=$(e)[0].dropzone;a.parents(".list-group-item").remove(),t.options.maxFiles=t.options.maxFiles+1}))},app.adminSettingsRemoveFile.init=function(){app.adminSettingsRemoveFile.remove()},$(document).ready(app.adminSettingsRemoveFile.init())}(),function(){"use strict";app.adminSettingsUpload={},app.adminSettingsUpload.defaultProfilePhoto=function(){var a=$("#settings-default_profile_photo-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"default_profile_photo",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:"image/*",init:function(){var a=app.baseDropzone.countUploaded(".settings-default_profile_photo-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminSettingsUpload.coloredLogo=function(){var a=$("#settings-colored_logo-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"colored_logo",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:"image/*",init:function(){var a=app.baseDropzone.countUploaded(".settings-colored_logo-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminSettingsUpload.whiteLogo=function(){var a=$("#settings-white_logo-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"white_logo",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:"image/*",init:function(){var a=app.baseDropzone.countUploaded(".settings-white_logo-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminSettingsUpload.favicon=function(){var a=$("#settings-favicon-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"favicon",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:"image/*",init:function(){var a=app.baseDropzone.countUploaded(".settings-favicon-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminSettingsUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.adminSettingsUpload.defaultProfilePhoto(),app.adminSettingsUpload.coloredLogo(),app.adminSettingsUpload.whiteLogo(),app.adminSettingsUpload.favicon())},$(document).ready(app.adminSettingsUpload.init())}(),function(){"use strict";app.adminSitemap={},app.adminSitemap.init=function(){$('[name="sitemap_auto_rebuild"]').on("change",(function(){this.checked?$(".sitemap-rebuild-frequency").removeClass("d-none"):$(".sitemap-rebuild-frequency").addClass("d-none")}))},$(document).ready(app.adminSitemap.init())}(),function(){"use strict";app.adminSitemapRebuild={},app.adminSitemapRebuild.config={btn:"#admin-sitemap-re-build",route:"/admin/sitemap/re-build"},app.adminSitemapRebuild.ajax=function(a){var e=$(a.target),t=e.html();$.ajax({type:"POST",url:app.adminSitemapRebuild.config.route,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.notify(a.message)},error:function(a,n,i){var o=a;app.notify(o.responseJSON.message),app.backButtonContent(e,t)}})},app.adminSitemapRebuild.init=function(){$(app.adminSitemapRebuild.config.btn).on("click",app.adminSitemapRebuild.ajax.bind(this))},$(document).ready(app.adminSitemapRebuild.init())}(),function(){"use strict";app.adminSitemapUpdate={},app.adminSitemapUpdate.config={form:"#admin-sitemap-settings-update-form",route:"/admin/sitemap/update"},app.adminSitemapUpdate.ajax=function(a){$(app.adminSitemapUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminSitemapUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminSitemapUpdate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.notify(a.message)},error:function(a,n,i){var o=a;app.formErrors(app.adminSitemapUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminSitemapUpdate.init=function(){app.adminSitemapUpdate.ajax()},$(document).ready(app.adminSitemapUpdate.init())}(),function(){"use strict";app.adminSystemMigration={},app.adminSystemMigration.config={btn:"#btn-migrate-database",route:"/admin/system-migration"},app.adminSystemMigration.ajax=function(a){$(app.adminSystemMigration.config.btn).on("click",(function(a){a.preventDefault();var e=$(this),t=e.html();$.ajax({type:"POST",url:app.adminSystemMigration.config.route,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.notify(a.message),setTimeout((function(){window.location=window.location.href}),2e3)},error:function(a,n,i){var o=a;app.notify(o.responseJSON.message),app.backButtonContent(e,t)}})}))},app.adminSystemMigration.init=function(){app.adminSystemMigration.ajax()},$(document).ready(app.adminSystemMigration.init())}(),function(){"use strict";app.adminSystemOptimize={},app.adminSystemOptimize.config={btn:"#btn-optimize-application",route:"/admin/system-optimize"},app.adminSystemOptimize.ajax=function(a){$(app.adminSystemOptimize.config.btn).on("click",(function(a){a.preventDefault();var e=$(this),t=e.html();$.ajax({type:"POST",url:app.adminSystemOptimize.config.route,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.notify(a.message),setTimeout((function(){window.location=window.location.href}),2e3)},error:function(a,n,i){var o=a;app.notify(o.responseJSON.message),app.backButtonContent(e,t)}})}))},app.adminSystemOptimize.init=function(){app.adminSystemOptimize.ajax()},$(document).ready(app.adminSystemOptimize.init())}(),function(){"use strict";app.adminTickets={},app.adminTickets.tinyMCE=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===a&&(a="textarea.ticket-reply-tinymce-default"),tinymce.init({selector:a,plugins:["preview","importcss","code","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"],mobile:{plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"]},menubar:"file edit view insert format tools table tc",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange formatpainter removeformat | insertfile image media link anchor codesample | a11ycheck ltr rtl",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,height:300,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table",a11y_advanced_options:!0,promotion:!1,setup:function(a){a.on("change",(function(a){var e=tinyMCE.activeEditor.id;$("#"+e).parent(".form-group").hasClass("error")&&($("#"+e).parent(".form-group").removeClass("error"),$("#"+e).parent(".form-group").find(".message").remove())}))}})},app.adminTickets.init=function(){"undefined"!=typeof tinymce&&$(".ticket-reply-tinymce-default").length&&app.adminTickets.tinyMCE()},$(document).ready(app.adminTickets.init())}(),function(){"use strict";app.adminTicketsCreate={},app.adminTicketsCreate.config={form:"#admin-tickets-create-form",route:"/admin/tickets/create"},app.adminTicketsCreate.ajax=function(){$(app.adminTicketsCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminTicketsCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.each($(".admin-tickets-tinymce-default"),(function(){n.append($(this).attr("name"),tinyMCE.get($(this).attr("id")).getContent())}));var i=$("#admin-tickets-attachments-dropzone").get(0).dropzone.getAcceptedFiles();$.each(i,(function(a,e){n.append("attachments["+a+"]",$("#admin-tickets-attachments-dropzone")[0].dropzone.getAcceptedFiles()[a])})),$.ajax({type:"POST",url:app.adminTicketsCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.adminTicketsCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminTicketsCreate.init=function(){app.adminTicketsCreate.ajax()},$(document).ready(app.adminTicketsCreate.init())}(),function(){"use strict";app.adminTicketsDatatable={},app.adminTicketsDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete ticket(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.adminTicketsDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.adminTicketsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.adminTicketsDatatable.restore=function(){$(document).delegate(".btn-admin-tickets-restore","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this ticket!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"post",url:app.adminTicketsDatatable.config.restore.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminTicketsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminTicketsDatatable.forceDelete=function(){$(document).delegate(".btn-admin-tickets-force-delete","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this ticket!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"delete",url:app.adminTicketsDatatable.config.forceDelete.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.adminTicketsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.adminTicketsDatatable.config={delete:{route:"/admin/tickets/multi-delete"},restore:{route:"/admin/tickets/restore"},forceDelete:{route:"/admin/tickets/force-delete"},datatable:{selectable:!1,src:"/admin/tickets/datatable",resourceName:{singular:app.trans("ticket"),plural:app.trans("tickets")},columns:[{title:"",key:"avatar",classes:"users-avatar-row",searchable:!1,element:function(a){if(null!==a.user){var e='<img src="'+app.adminUsersDatatable.avatar(a.user.avatar)+'" class="rounded-circle img-responsive" width="40">';return $(e)}return $("<span>&nbsp;</span>")}},{title:app.trans("Number"),key:"number",searchable:!0,hidden:!0},{title:app.trans("Subject"),key:"subject",searchable:!0,hidden:!0},{title:app.trans("Full name"),key:"user.first_name",searchable:!0,hidden:!0},{title:app.trans("Email"),key:"user.email",searchable:!0,hidden:!0},{title:app.trans("Customer"),key:"user.first_name",searchable:!0,classes:"tickets-user-column",element:function(a){var e="";return null!==a.user&&(null!==a.user.first_name&&null!==a.user.last_name?(e="<span>"+a.user.first_name+" "+a.user.last_name+"</span>",e+="<br>"):(e="<span>"+a.user.email+"</span>",e+="<br>")),null===a.deleted_at?e+='<a href="/admin/tickets/'+a.number+'/show"><span class="text-bold">'+a.subject+"</span></a>":e+='<span class="text-bold">'+a.subject+"</span>",e+="<br>",e+="<span>[Ticket #"+a.number+"]</span>",$(e)}},{title:app.trans("Category"),key:"category.name",searchable:!0,classes:"tickets-category-column",element:function(a){if(null!==a.category){var e="#fff",t=a.category.color;return null===a.category.color&&(e="#000",t="#ddd"),$('<span class="badge" style="width: 100%; color: '+e+"; background-color: "+t+'">'+a.category.name+"</span>")}return $("<span>&nbsp;</span>")}},{title:app.trans("Priority"),key:"priority",searchable:!0,classes:"tickets-priority-column",element:function(a){var e=a.priority_details;return void 0!==e.name?$('<span class="badge badge-'+e.color+'" style="width: 100%;">'+e.name+"</span>"):$("<span>&nbsp;</span>")}},{title:app.trans("Status"),key:"status",searchable:!0,classes:"tickets-status-column",element:function(a){var e=a.status_details;return void 0!==e.name?$('<span class="badge badge-'+e.color+'" style="width: 100%;">'+e.name+"</span>"):$("<span>&nbsp;</span>")}},{title:app.trans("Created"),key:"created_at_timeago",searchable:!1,classes:"tickets-status-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"tickets-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&app.can("admin.tickets.show")&&(e+='<a class="dropdown-item" href="/admin/tickets/'+a.number+'/show"><i class="fas fa-reply"></i> '+app.trans("Reply")+"</a>"),null!==a.deleted_at&&(app.can("admin.tickets.restore")&&(e+='<a class="dropdown-item btn-admin-tickets-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> '+app.trans("Restore")+"</a>"),app.can("admin.tickets.force-delete")&&(e+='<a class="dropdown-item btn-admin-tickets-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Force delete")+"</a>")),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No tickets were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Open"),value:"open"},{label:app.trans("On Hold"),value:"onhold"},{label:app.trans("Closed"),value:"closed"},{label:app.trans("Trashed"),value:"Trashed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""},{key:"priority",title:app.trans("Priority"),choices:[{label:app.trans("High"),value:"high"},{label:app.trans("Medium"),value:"medium"},{label:app.trans("Low"),value:"low"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"subject__asc",label:app.trans("Subject")+" ( A - Z )"},{value:"subject__desc",label:app.trans("Subject")+" ( Z - A )"},{value:"category__asc",label:app.trans("Category")+" ( A - Z )"},{value:"category__desc",label:app.trans("Category")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.adminTicketsDatatable.delete,status:"error"}],limit:50}},app.adminTicketsDatatable.init=function(){if(app.adminTicketsDatatable.tb={},void 0!==$.fn.JsDataTable&&$("#admin-tickets-datatable").length){var a=this.config.datatable,e=JSON.parse($("#admin-tickets-datatable").attr("data-status-counter")),t=0,n=0,i=0,o=e.trashed,s=e.all;$.each(e.statuses,(function(a,e){"open"==e.status&&(t=e.total_status),"onhold"==e.status&&(n=e.total_status),"closed"==e.status&&(i=e.total_status)})),a.filterTabs=[{label:app.trans("All <span class='badge badge-primary'>"+s+"</span>"),filters:[]},{label:app.trans("Open <span class='badge badge-danger'>"+t+"</span>"),filters:[{key:"status",value:"open"}]},{label:app.trans("On Hold <span class='badge badge-warning'>"+n+"</span>"),filters:[{key:"status",value:"onhold"}]},{label:app.trans("Closed <span class='badge badge-default'>"+i+"</span>"),filters:[{key:"status",value:"closed"}]},{label:app.trans("Trashed <span class='badge badge-info'>"+o+"</span>"),filters:[{key:"status",value:"Trashed"}]}],app.adminTicketsDatatable.tb=$("#admin-tickets-datatable").JsDataTable(a)}app.adminTicketsDatatable.restore(),app.adminTicketsDatatable.forceDelete()},$(document).ready(app.adminTicketsDatatable.init())}(),function(){"use strict";app.adminTicketsDelete={},app.adminTicketsDelete.config={button:"#btn-admin-delete-ticket"},app.adminTicketsDelete.ajax=function(a){$(document).delegate(app.adminTicketsDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this ticket!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=a,n=a.html();$.ajax({type:"DELETE",url:"/admin/tickets/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(t,n)}})}}})}))},app.adminTicketsDelete.init=function(){app.adminTicketsDelete.ajax()},$(document).ready(app.adminTicketsDelete.init())}(),function(){"use strict";app.adminTicketsUpload={},app.adminTicketsUpload.attachments=function(){var a=$("#ticket-reply-attachments-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"attachments",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:10,parallelUploads:10,autoProcessQueue:!1,uploadMultiple:!0,init:function(){var a=app.baseDropzone.countUploaded(".tickets-attachments-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminTicketsUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.adminTicketsUpload.attachments())},$(document).ready(app.adminTicketsUpload.init())}(),function(){"use strict";app.adminTransactionReportsDatatable={},app.adminTransactionReportsDatatable.config={dateFormat:"YYYY-MM-DD H:m:s",rangePicker:null,datatable:"#admin-transactions-report-datatable",options:{src:"/admin/transactions/reports/datatable",resourceName:{singular:app.trans("transaction"),plural:app.trans("transactions")},columns:[{title:app.trans("Trx"),key:"trx",classes:"transaction-trx-row"},{title:app.trans("Date"),key:"date",classes:"transaction-date-row",searchable:!1},{title:app.trans("User"),key:"user",classes:"transaction-user-row",searchable:!1,orderable:!1,element:function(a){return $('<div class="d-flex flex-column">\n                        <span>'.concat(a.user.full_name,"</span>\n                        <span>").concat(a.user.email,"</span>\n                    </div>"))}},{title:app.trans("Type"),key:"type",classes:"transaction-type-row",orderable:!1,searchable:!1},{title:app.trans("Amount"),key:"total",classes:"transaction-total-row",searchable:!1,orderable:!1,element:function(a){return $("<span>".concat(a.total,"</span>"))}},{title:app.trans("Charge"),key:"total_charge",classes:"transaction-charge-row",orderable:!1,searchable:!1},{title:app.trans("Total"),key:"grand_total",classes:"transaction-grand-total-row",searchable:!1,orderable:!1,element:function(a){return $("<span>".concat(a.grand_total,"</span>"))}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"transaction-actions-column tb-actions-column text-right",element:function(a){return $('<a href="javascript:void(0)" class="btn btn-primary btn-sm btn-admin-transaction-report-details-show" data-id="'.concat(a.id,'"><i class="fas fa-eye"></i></a>'))}},{title:app.trans("First Name"),key:"user.first_name",searchable:!0,hidden:!0},{title:app.trans("Last Name"),key:"user.last_name",searchable:!0,hidden:!0},{title:app.trans("Email"),key:"user.email",searchable:!0,hidden:!0},{title:"amount",key:"amount",hidden:!0},{title:"fixed_charge",key:"fixed_charge",hidden:!0},{title:"percent_charge",key:"percent_charge",hidden:!0},{title:"charge",key:"charge",hidden:!0},{title:"description",key:"description",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No transactions were found!")},selectable:!1,limit:25,filterControl:[{key:"type",title:app.trans("Type"),choices:[{label:app.trans("Deposit"),value:"Deposit"},{label:app.trans("Withdrawal"),value:"Withdrawal"},{label:app.trans("Transfer"),value:"Transfer"},{label:app.trans("Exchange"),value:"Exchange"},{label:app.trans("Subscription"),value:"Subscription"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],load:!1,onRowClick:function(a){console.log(a)}}},app.adminTransactionReportsDatatable.initShowDetails=function(){$(document).delegate(".btn-admin-transaction-report-details-show","click",(function(){var a=$(this).closest("a").data("id"),e=app.adminTransactionReportsDatatable.table.findItem("id",parseInt(a));if(e){for(var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Transaction ID"),"</span>\n                                <span>\n                                    ").concat(e.trx,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Date"),"</span>\n                                <span>\n                                    ").concat(e.date,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Type"),"</span>\n                                <span>\n                                    ").concat(e.type,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Description"),"</span>\n                                <span>\n                                    ").concat(e.description,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.total,"\n                                </span>\n                            </div>\n                        </li>"),n=0;n<e.details.length;n++){var i=e.details[n];t+='<li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(i.label,"</span>\n                                <span>\n                                    ").concat(i.value,"\n                                </span>\n                            </div>\n                        </li>")}t+="</ul>",bootbox.dialog({title:app.trans("Transaction details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.adminTransactionReportsDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminTransactionReportsDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminTransactionReportsDatatable.setRangeLabel=function(a,e){var t;t=a.format("MMM D, YYYY")===e.format("MMM D, YYYY")?a.format("MMM D, YYYY"):a.format("YYYY")===e.format("YYYY")?a.format("MMM D")+" - "+e.format("MMM D, YYYY"):a.format("MMM D, YYYY")+" - "+e.format("MMM D, YYYY"),$(".btn-admin-transactions-report-daterangepicker span").html(t)},app.adminTransactionReportsDatatable.init=function(){var a=this;if(this.initDatatable(),this.initShowDetails(),jQuery().daterangepicker&&$(".btn-admin-transactions-report-daterangepicker").length){var e=moment().subtract(29,"days"),t=moment();app.adminTransactionReportsDatatable.config.rangePicker=$(".btn-admin-transactions-report-daterangepicker").daterangepicker({ranges:{Today:[moment(),moment()],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:e,endDate:t},(function(e,t){app.adminTransactionReportsDatatable.setRangeLabel(e,t),app.adminTransactionReportsDatatable.table.setQuery({date:[e.startOf("day").format(a.config.dateFormat),t.endOf("day").format(a.config.dateFormat)].join(",")},!0)})),app.adminTransactionReportsDatatable.setRangeLabel(e,t),app.adminTransactionReportsDatatable.table.setQuery({date:[e.format(a.config.dateFormat),t.format(a.config.dateFormat)].join(",")},!0)}},$(document).ready(app.adminTransactionReportsDatatable.init())}(),function(){"use strict";app.adminUserOverviewDepositTransactions={},app.adminUserOverviewDepositTransactions.config={datatable:"#user-overview-deposit-transactions-datatable",options:{src:"/admin/transactions/datatable",resourceName:{singular:app.trans("transaction"),plural:app.trans("transactions")},columns:[{title:app.trans("Description"),key:"description",classes:"transaction-description-row",searchable:!1,orderable:!1,element:function(a){return $('<div class="d-flex flex-column">\n                        <span>'.concat(a.description,'</span>\n                        <span class="text-muted">').concat(a.date,"</span>\n                    </div>"))}},{title:app.trans("Initial Balance"),key:"initial_balance",classes:"transaction-initial_balance-row",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"total",classes:"transaction-total-row",searchable:!1,orderable:!1,element:function(a){var e="text-dark";return"+"===a.prefix&&(e="text-success"),"-"===a.prefix&&(e="text-danger"),$('<div class="d-flex flex-column">\n                        <strong class="'.concat(e,'">').concat(a.total,'</strong>\n                        <span class="text-muted">').concat(a.total_charge,"</span>\n                    </div>"))}},{title:app.trans("Total"),key:"grand_total",classes:"transaction-grand-total-row",searchable:!1,orderable:!1,element:function(a){return $("<strong>".concat(a.grand_total,"</strong>"))}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"transaction-actions-column tb-actions-column text-right",element:function(a){return $('<a href="javascript:void(0)" class="btn btn-primary btn-sm btn-user-overview-deposit-transaction-details-show" data-id="'.concat(a.id,'"><i class="fas fa-eye"></i></a>'))}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No transactions were found!")},selectable:!1,showSearchQuery:!1,limit:15,query:{user:$("#user-overview-deposit-transactions-datatable").data("user"),type:"deposit"}}},app.adminUserOverviewDepositTransactions.initShowDetails=function(){$(document).delegate(".btn-user-overview-deposit-transaction-details-show","click",(function(){var a=$(this).closest("a").data("id"),e=app.adminUserOverviewDepositTransactions.tb.findItem("id",parseInt(a));if(e){for(var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Transaction ID"),"</span>\n                                <span>\n                                    ").concat(e.trx,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Date"),"</span>\n                                <span>\n                                    ").concat(e.date,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Description"),"</span>\n                                <span>\n                                    ").concat(e.description,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.total,"\n                                </span>\n                            </div>\n                        </li>"),n=0;n<e.details.length;n++){var i=e.details[n];t+='<li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(i.label,"</span>\n                                <span>\n                                    ").concat(i.value,"\n                                </span>\n                            </div>\n                        </li>")}t+="</ul>",bootbox.dialog({title:app.trans("Transaction details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.adminUserOverviewDepositTransactions.init=function(){app.adminUserOverviewDepositTransactions.tb={},void 0!==$.fn.JsDataTable&&(app.adminUserOverviewDepositTransactions.tb=$(this.config.datatable).JsDataTable(this.config.options)),app.adminUserOverviewDepositTransactions.initShowDetails()},$(document).ready(app.adminUserOverviewDepositTransactions.init())}(),function(){"use strict";app.adminUserOverviewTransactions={},app.adminUserOverviewTransactions.config={datatable:"#user-overview-transactions-datatable",options:{src:"/admin/transactions/datatable",resourceName:{singular:app.trans("transaction"),plural:app.trans("transactions")},columns:[{title:app.trans("Description"),key:"description",classes:"transaction-description-row",searchable:!1,orderable:!1,element:function(a){return $('<div class="d-flex flex-column">\n                        <span>'.concat(a.description,'</span>\n                        <span class="text-muted">').concat(a.date,"</span>\n                    </div>"))}},{title:app.trans("Initial Balance"),key:"initial_balance",classes:"transaction-initial_balance-row",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"total",classes:"transaction-total-row",searchable:!1,orderable:!1,element:function(a){var e="text-dark";return"+"===a.prefix&&(e="text-success"),"-"===a.prefix&&(e="text-danger"),$('<div class="d-flex flex-column">\n                        <strong class="'.concat(e,'">').concat(a.total,'</strong>\n                        <span class="text-muted">').concat(a.total_charge,"</span>\n                    </div>"))}},{title:app.trans("Total"),key:"grand_total",classes:"transaction-grand-total-row",searchable:!1,orderable:!1,element:function(a){return $("<strong>".concat(a.grand_total,"</strong>"))}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"transaction-actions-column tb-actions-column text-right",element:function(a){return $('<a href="javascript:void(0)" class="btn btn-primary btn-sm btn-user-overview-transaction-details-show" data-id="'.concat(a.id,'"><i class="fas fa-eye"></i></a>'))}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No transactions were found!")},selectable:!1,showSearchQuery:!1,limit:15,query:{user:$("#user-overview-transactions-datatable").data("user")}}},app.adminUserOverviewTransactions.initShowDetails=function(){$(document).delegate(".btn-user-overview-transaction-details-show","click",(function(){var a=$(this).closest("a").data("id"),e=app.adminUserOverviewTransactions.tb.findItem("id",parseInt(a));if(e){for(var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Transaction ID"),"</span>\n                                <span>\n                                    ").concat(e.trx,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Date"),"</span>\n                                <span>\n                                    ").concat(e.date,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Description"),"</span>\n                                <span>\n                                    ").concat(e.description,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.total,"\n                                </span>\n                            </div>\n                        </li>"),n=0;n<e.details.length;n++){var i=e.details[n];t+='<li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(i.label,"</span>\n                                <span>\n                                    ").concat(i.value,"\n                                </span>\n                            </div>\n                        </li>")}t+="</ul>",bootbox.dialog({title:app.trans("Transaction details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.adminUserOverviewTransactions.init=function(){app.adminUserOverviewTransactions.tb={},void 0!==$.fn.JsDataTable&&(app.adminUserOverviewTransactions.tb=$(this.config.datatable).JsDataTable(this.config.options)),app.adminUserOverviewTransactions.initShowDetails()},$(document).ready(app.adminUserOverviewTransactions.init())}(),function(){"use strict";app.adminUserOverviewWithdrawalTransactions={},app.adminUserOverviewWithdrawalTransactions.config={datatable:"#user-overview-withdrawal-transactions-datatable",options:{src:"/admin/transactions/datatable",resourceName:{singular:app.trans("transaction"),plural:app.trans("transactions")},columns:[{title:app.trans("Description"),key:"description",classes:"transaction-description-row",searchable:!1,orderable:!1,element:function(a){return $('<div class="d-flex flex-column">\n                        <span>'.concat(a.description,'</span>\n                        <span class="text-muted">').concat(a.date,"</span>\n                    </div>"))}},{title:app.trans("Initial Balance"),key:"initial_balance",classes:"transaction-initial_balance-row",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"total",classes:"transaction-total-row",searchable:!1,orderable:!1,element:function(a){var e="text-dark";return"+"===a.prefix&&(e="text-success"),"-"===a.prefix&&(e="text-danger"),$('<div class="d-flex flex-column">\n                        <strong class="'.concat(e,'">').concat(a.total,'</strong>\n                        <span class="text-muted">').concat(a.total_charge,"</span>\n                    </div>"))}},{title:app.trans("Total"),key:"grand_total",classes:"transaction-grand-total-row",searchable:!1,orderable:!1,element:function(a){return $("<strong>".concat(a.grand_total,"</strong>"))}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"transaction-actions-column tb-actions-column text-right",element:function(a){return $('<a href="javascript:void(0)" class="btn btn-primary btn-sm btn-user-overview-withdrawal-transaction-details-show" data-id="'.concat(a.id,'"><i class="fas fa-eye"></i></a>'))}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No transactions were found!")},selectable:!1,showSearchQuery:!1,limit:15,query:{user:$("#user-overview-withdrawal-transactions-datatable").data("user"),type:"withdraw"}}},app.adminUserOverviewWithdrawalTransactions.initShowDetails=function(){$(document).delegate(".btn-user-overview-withdrawal-transaction-details-show","click",(function(){var a=$(this).closest("a").data("id"),e=app.adminUserOverviewWithdrawalTransactions.tb.findItem("id",parseInt(a));if(e){for(var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Transaction ID"),"</span>\n                                <span>\n                                    ").concat(e.trx,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Date"),"</span>\n                                <span>\n                                    ").concat(e.date,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Description"),"</span>\n                                <span>\n                                    ").concat(e.description,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.total,"\n                                </span>\n                            </div>\n                        </li>"),n=0;n<e.details.length;n++){var i=e.details[n];t+='<li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(i.label,"</span>\n                                <span>\n                                    ").concat(i.value,"\n                                </span>\n                            </div>\n                        </li>")}t+="</ul>",bootbox.dialog({title:app.trans("Transaction details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.adminUserOverviewWithdrawalTransactions.init=function(){app.adminUserOverviewWithdrawalTransactions.tb={},void 0!==$.fn.JsDataTable&&(app.adminUserOverviewWithdrawalTransactions.tb=$(this.config.datatable).JsDataTable(this.config.options)),app.adminUserOverviewWithdrawalTransactions.initShowDetails()},$(document).ready(app.adminUserOverviewWithdrawalTransactions.init())}(),function(){"use strict";app.adminWalletSettings={},app.adminWalletSettings.config={form:"#admin-wallet-settings-edit-form",route:"/admin/settings/wallet/update",redirect:"/admin/settings/wallet"},app.adminWalletSettings.ajax=function(){$(app.adminWalletSettings.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminWalletSettings.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.adminWalletSettings.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.notify(a.message),setTimeout((function(){app.redirect(app.adminWalletSettings.config.redirect)}),1e3),app.backButtonContent(e,t)},error:function(a,n,i){var o=a;app.formErrors(app.adminWalletSettings.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminWalletSettings.allowMultiWalletSettingChange=function(){$("#allow_wallet_multi_currency").on("change",(function(){if("enable"===this.value)$(".wallet-charge-settings").find("tbody tr").removeClass("d-none");else{var a=$(".wallet-charge-settings").data("system-currency");$(".wallet-charge-settings").find("tbody tr").map((function(){$(this).data("currency")===a?$(this).removeClass("d-none"):$(this).addClass("d-none")}))}}))},app.adminWalletSettings.init=function(){app.adminWalletSettings.ajax(),app.adminWalletSettings.allowMultiWalletSettingChange()},$(document).ready(app.adminWalletSettings.init())}(),function(){"use strict";app.adminWithdrawAdditionalInformation={},app.adminWithdrawAdditionalInformation.config={form:"#admin-withdrawal-additional-info-form"},app.adminWithdrawAdditionalInformation.route=function(a){return $(this.config.form).data("action")},app.adminWithdrawAdditionalInformation.data=function(){return $(this.config.form).serializeArray()},app.adminWithdrawAdditionalInformation.ajax=function(){$(app.adminWithdrawAdditionalInformation.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.adminWithdrawAdditionalInformation.config.form).find(":submit"),t=e.html(),n=new FormData(this),i=$("#admin-withdrawal-info-image-dropzone").get(0).dropzone.getAcceptedFiles();$.each(i,(function(a,e){n.append("image["+a+"]",$("#admin-withdrawal-info-image-dropzone")[0].dropzone.getAcceptedFiles()[a])})),$.ajax({type:"POST",url:app.adminWithdrawAdditionalInformation.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.notify(a.message),setTimeout((function(){app.redirect(a.data.redirectTo)}),1e3)},error:function(a,n,i){var o=a;app.formErrors(app.adminWithdrawAdditionalInformation.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.adminWithdrawAdditionalInformation.init=function(){app.adminWithdrawAdditionalInformation.ajax()},$(document).ready(app.adminWithdrawAdditionalInformation.init())}(),function(){"use strict";app.adminWithdrawMethodsDatatable={},app.adminWithdrawMethodsDatatable.avatar=function(a){return null===a?app.config.avatarDefault:a},app.adminWithdrawMethodsDatatable.config={datatable:"#admin-withdraw-methods-datatable",options:{src:"/admin/withdrawals/methods/datatable",resourceName:{singular:app.trans("method"),plural:app.trans("methods")},columns:[{title:app.trans("Method"),key:"method",classes:"method-name-row",searchable:!1,element:function(a){return $('<div class="d-flex align-items-center">\n                                <div class="media mr-3">\n                                    <img src="'.concat(a.logo,'" alt="').concat(a.name,'" width="55" height="55" style="object-fit: cover; object-position: center;">\n                                </div>\n                                <span class="text-bold">').concat(a.name,"</span>\n                            </div>"))}},{title:app.trans("Min Amount"),key:"min_amount_display",classes:"withdrawal-manual-method-min_amount-display-row",searchable:!1,orderable:!1},{title:app.trans("Max Amount"),key:"max_amount_display",classes:"withdrawal-manual-method-max_amount-display-row",searchable:!1,orderable:!1},{title:app.trans("Charge"),key:"charge",classes:"withdrawal-manual-method-charge-row",searchable:!1,element:function(a){return $('<span class="d-flex align-items-center">\n                                '.concat(a.charge_display," + ").concat(a.percent_charge||0,"%\n                            </span>"))}},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t=app.trans("Archived");return a.status&&(e="primary",t=app.trans("Active")),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"manual-gateway-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/withdrawals/methods/'+a.id+'/edit" data-id="'+a.id+'">'+app.trans("Edit method")+"</a>",a.status?e+='<a class="dropdown-item text-danger btn-disable-manual-gateway" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Disable method")+"</a>":e+='<a class="dropdown-item btn-enable-manual-gateway" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Enable method")+"</a>",e+='<a class="dropdown-item text-danger btn-delete-manual-gateway" data-id="'+a.id+'" href="javascript:void(0)">'+app.trans("Delete method")+"</a>",e+="</div>",$(e)}},{title:"name",key:"name",hidden:!0},{title:"min_limit",key:"min_limit",hidden:!0},{title:"max_limit",key:"max_limit",hidden:!0},{title:"fixed_charge",key:"fixed_charge",hidden:!0},{title:"percent_charge",key:"percent_charge",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No withdrawal methods were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Active"),value:"active"},{label:app.trans("Archived"),value:"archived"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],selectable:!1,sortControl:{value:"created_at__desc",options:[]},limit:25}},app.adminWithdrawMethodsDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminWithdrawMethodsDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminWithdrawMethodsDatatable.init=function(){this.initDatatable()},$(document).ready(app.adminWithdrawMethodsDatatable.init())}(),function(){"use strict";app.adminWithdrawRequestsDatatable={},app.adminWithdrawRequestsDatatable.config={datatable:"#admin-withdraw-requests-datatable",options:{src:"/admin/withdrawals/datatable",resourceName:{singular:app.trans("withdraw request"),plural:app.trans("withdraw requests")},columns:[{title:app.trans("Method"),key:"trx",classes:"withdraw-history-trx-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.method.name,'</strong>\n                            <span class="text-muted text-sm">').concat(a.trx,"</span>\n                        </div>\n                    "))}},{title:app.trans("User"),key:"user",classes:"withdraw-history-user-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.user.full_name,'</strong>\n                            <span class="text-muted text-sm">').concat(a.user.email,"</span>\n                        </div>\n                    "))}},{title:app.trans("Amount"),key:"total",classes:"withdraw-history-total-row",searchable:!1,orderable:!1},{title:app.trans("Charge"),key:"charge_display",classes:"withdraw-history-total-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <span>'.concat(a.charge_display,'</span>\n                            <span class="text-sm text-muted">').concat(a.fixed_charge_display," + ").concat(a.percent_charge_rate,"%</span>\n                        </div>\n                    "))}},{title:app.trans("Receivable"),key:"receivable",classes:"withdraw-history-receivable-row",searchable:!1,orderable:!1},{title:app.trans("Date"),key:"date",classes:"withdraw-history-date-row",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t=app.trans("Pending");return a.rejected_at?(e="danger",t=app.trans("Rejected")):a.status&&(e="primary",t=app.trans("Completed")),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"withdraw-actions-column tb-actions-column text-right",element:function(a){return $('<a href="/admin/withdrawals/'.concat(a.trx,'" class="btn btn-primary btn-sm ').concat(a.method_id?"":"disabled",'" ').concat(a.method_id?"":'disabled="disabled"','><i class="fas fa-eye"></i></a>'))}},{title:"trx",key:"trx",hidden:!0},{title:"method_name",key:"method.name",hidden:!0},{title:"amount",key:"amount",hidden:!0},{title:"fixed_charge",key:"fixed_charge",hidden:!0},{title:"percent_charge_rate",key:"percent_charge_rate",hidden:!0},{title:"percent_charge",key:"percent_charge",hidden:!0},{title:"charge",key:"charge",hidden:!0},{title:"currency",key:"currency",hidden:!0},{title:"first_name",key:"user.first_name",hidden:!0},{title:"last_name",key:"user.last_name",hidden:!0},{title:"email",key:"user.email",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No requests were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Pending"),value:"Pending"},{label:app.trans("Completed"),value:"Completed"},{label:app.trans("Rejected"),value:"Rejected"}],hidden:!0,shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("Pending"),filters:[{key:"status",value:"Pending"}]},{label:app.trans("Completed"),filters:[{key:"status",value:"Completed"}]},{label:app.trans("Rejected"),filters:[{key:"status",value:"Rejected"}]}],selectable:!1,sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:25}},app.adminWithdrawRequestsDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.adminWithdrawRequestsDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.adminWithdrawRequestsDatatable.init=function(){this.initDatatable()},$(document).ready(app.adminWithdrawRequestsDatatable.init())}(),function(){"use strict";app.adminWithdrawalUpload={},app.adminWithdrawalUpload.image=function(){var a=$("#admin-withdrawal-info-image-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"image",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:".jpeg,.jpg,.png,.gif",init:function(){var a=app.baseDropzone.countUploaded(".admin-withdrawal-info-image-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.adminWithdrawalUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.adminWithdrawalUpload.image())},$(document).ready(app.adminWithdrawalUpload.init())}(),function(){"use strict";app.addCartItem={},app.addCartItem.config={button:".btn-add-single-cart-item",route:"/user/carts/create"},app.addCartItem.ajax=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;$.ajax({type:"POST",data:{items:a},url:this.config.route,beforeSend:function(){e&&e.attr("disabled",!0).addClass("disabled btn-progress")},success:function(a,e,t){app.notify(a.message),setTimeout((function(){$(app.cartList.config.dropdownId).length&&app.cartList.getCartItems()}),200)},complete:function(a){e&&e.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,e,t){var n=a;app.notify(n.responseJSON.message)}})},app.addCartItem.addSingleItem=function(a){var e=$(a.target);this.ajax([{object:e.data("object"),key:e.data("key"),quantity:1}])},app.addCartItem.init=function(){$(document).delegate(this.config.button,"click",this.addSingleItem.bind(this))},$(document).ready(app.addCartItem.init())}(),function(){"use strict";app.cartCheckout={},app.cartCheckout.config={route:{update:window.location.pathname,pay:window.location.pathname+"/checkout-process",validateCoupon:window.location.pathname+"/validate-coupon"},submit:"#btn-submit-checkout",form:"#checkout-form",shippingAddressForm:"#checkout-newShippingAddressForm",billingAddressForm:"#checkout-newBillingAddressForm",couponCode:"#checkout_coupon",couponForm:"#checkout-coupon-form",couponSubmit:".checkout-coupon-action",couponRemove:".checkout-remove-coupon"},app.cartCheckout.reloadBreakdown=function(a){$(".checkout-total").html(a.total),$(".checkout-subtotal").html(a.subtotal),a.discount?($(".checkout-discount-title").html(a.discount.title),$(".checkout-discount-amount").html(a.discount.amount),$(".checkout-discount-description").html(a.discount.description),$(".checkout-discount-row").removeClass("d-none"),$(this.config.couponForm).addClass("d-none")):($(".checkout-discount-row").addClass("d-none"),$(this.config.couponForm).removeClass("d-none")),a.shippingRate&&($(".checkout-shipping-rate-title").html(a.shippingRate.title),$(".checkout-shipping-rate-amount").html(a.shippingRate.price)),a.taxRates&&Object.keys(a.taxRates).forEach((function(e){$('[data-name="'+e+'"]').find(".checkout-tax-rate-amount").html(a.taxRates[e])}))},app.cartCheckout.handleShippingMethod=function(){var a=this;$('[name="shipping_rate_id"]').on("change",(function(e){var t={fields:{shipping_rate_id:$(this).val()},breakdown:!0},n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Changing shipping rate")+"...</p>",closeButton:!1});$.ajax({type:"PATCH",data:t,url:a.config.route.update,success:function(e,t,i){app.notify(e.message),setTimeout((function(){n.modal("hide"),e.data.breakdown&&a.reloadBreakdown(e.data.breakdown)}),300)},error:function(a,e,t){var i=a;app.notify(i.responseJSON.message),setTimeout((function(){n.modal("hide")}),300)}})}))},app.cartCheckout.handleAddCoupon=function(){var a=this;$(a.config.couponSubmit).on("click",(function(e){var t=$(e.target),n=$(a.config.couponCode).val();n.trim()&&$.ajax({type:"POST",url:a.config.route.validateCoupon,data:{checkout_coupon:n,breakdown:!0},beforeSend:function(){t.attr("disabled",!0).addClass("loading disabled")},success:function(e,n,i){t.attr("disabled",!1).removeClass("loading disabled"),app.notify(e.message),setTimeout((function(){e.data.breakdown&&a.reloadBreakdown(e.data.breakdown)}),300)},error:function(e,n,i){var o=e;t.attr("disabled",!1).removeClass("loading disabled"),app.formErrors(a.config.couponForm,o.responseJSON,o.status)}})}))},app.cartCheckout.handleRemoveCoupon=function(){var a=this;$(a.config.couponRemove).on("click",(function(e){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing promo code")+"...</p>",closeButton:!1});$.ajax({type:"PATCH",data:{fields:{promo_code_id:null},breakdown:!0},url:a.config.route.update,success:function(e,n,i){app.notify(e.message),setTimeout((function(){t.modal("hide"),e.data.breakdown&&a.reloadBreakdown(e.data.breakdown)}),300)},error:function(a,e,n){var i=a;app.notify(i.responseJSON.message),setTimeout((function(){t.modal("hide")}),300)}})}))},app.cartCheckout.data=function(){var a={gateway:$('[name="payment_method"]:checked').val(),note:$('[name="note"]').val()};if($("#phone").length&&(a.phone=$("#phone").val()),$(this.config.shippingAddressForm).length){var e=$(this.config.shippingAddressForm).serializeArray(),t=$('[name="shipping_address_id"]:checked').val();if("0"!==t&&$(".shipping-addresses .list-select-control").length)a.shipping_address_id=t;else{a.shipping_address={};for(var n=0;n<e.length;n++){var i=e[n];a.shipping_address[i.name]=i.value}}}if($(this.config.billingAddressForm).length){var o=$(this.config.billingAddressForm).serializeArray();if($("#billing_address_same").length&&$('[name="billing_address_same"]:checked').length)a.billing_address_same=1;else{var s=$('[name="billing_address_id"]:checked').val();if("0"===s){a.billing_address={};for(var r=0;r<o.length;r++){var l=o[r];a.billing_address[l.name]=l.value}}else a.billing_address_id=s}}return a},app.cartCheckout.delegateFormErrors=function(a){for(var e=a.message,t=a.errors,n={},i=Object.keys(t),o=0;o<i.length;o++){var s=i[o],r=t[s],l=s.split(".");l.length>1&&(n[l[0]]||(n[l[0]]={}),n[l[0]][l[1]]=r)}Object.keys(t).map((function(a,n){"shipping_address"===a&&app.formErrors(self.config.shippingAddressForm,{message:e,errors:t[a]},422),"billing_address"===a&&app.formErrors(self.config.billingAddressForm,{message:e,errors:t[a]},422)}))},app.cartCheckout.process=function(a){var e=this,t=$(a.target);$.ajax({type:"POST",url:e.config.route.pay,data:e.data(),beforeSend:function(){t.attr("disabled",!0).addClass("disabled btn-progress")},success:function(a,e,t){setTimeout((function(){a.message&&app.notify(a.message),a.data.location&&(window.location=a.data.location)}),500)},complete:function(a){t.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,t,n){var i=a;setTimeout((function(){app.notify(i.responseJSON.message)}),350),app.formErrors(e.config.form,i.responseJSON,i.status),i.responseJSON&&i.responseJSON.errors&&e.delegateFormErrors(i.responseJSON)}})},app.cartCheckout.handleBillingAddress=function(){$('[name="billing_address_same"]').on("change",(function(){this.checked?$(".billing-addresses").addClass("d-none"):$(".billing-addresses").removeClass("d-none")}))},app.cartCheckout.init=function(){this.handleShippingMethod(),this.handleAddCoupon(),this.handleRemoveCoupon(),this.handleBillingAddress(),$(this.config.submit).on("click",this.process.bind(this))},$(document).ready(app.cartCheckout.init())}(),function(){"use strict";app.createCartCoupon={},app.createCartCoupon.config={button:"#btn-create-coupon",form:"#createCouponForm",discountType:".discountType",typePanel:".typePanel",selectPlans:".selectPlans",planSelection:"#planSelection",currentPlans:"#currentPlans",duration:"#duration",multipleDuration:"#multipleDuration",dateLimit:"#dateLimit",dateLimitPanel:"#dateLimitPanel",redeemLimit:"#redeemLimit",redeemLimitPanel:"#redeemLimitPanel",route:"/admin/coupons/create",plans:{}},app.createCartCoupon.toggleDiscountType=function(){var a=this;$(a.config.discountType).on("change",(function(){$(a.config.typePanel).addClass("d-none"),$("#"+this.value+"DiscountType").removeClass("d-none")}))},app.createCartCoupon.customSelect=function(){this.config.plans=new TomSelect("#plans",{valueField:"id",labelField:"name",searchField:"name",load:function(a,e){var t={page:1,limit:15,length:15,start:0,sortValue:"created_at__desc"},n=$("#Packages").val();n&&(t.notIn=n);var i=encodeURIComponent("columns[0][data]")+"=name&";i+=encodeURIComponent("columns[0][name]")+"=name&",i+=encodeURIComponent("columns[0][searchable]")+"=true&",i+=encodeURIComponent("columns[0][orderable]")+"=false&",i+=encodeURIComponent("columns[0][search][value]")+"="+a+"&",i+=encodeURIComponent("columns[0][search][regex]")+"=false&";var o="/admin/packages/datatable?"+app.objectToUrlParams(t)+"&"+i;fetch(o).then((function(a){return a.json()})).then((function(a){e(a.data)})).catch((function(){console.log(4),e()}))},render:{option:function(a,e){return'<div class="py-2 d-flex w-full">\n\t\t\t\t\t\t\t<div class="icon me-3">\n\t\t\t\t\t\t\t\t<img class="mr-3 rounded" width="40" src="/themes/stisla/assets/img/products/product-4-50.png" alt="product">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="mb-1">\n\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t'.concat(e(a.name),'\n\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t \t\t<div class="description">').concat(e(a.prices.length)," price</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>")},item:function(a,e){return'<div class="py-2 d-flex">\n\t\t\t\t\t\t\t<div class="icon me-3">\n\t\t\t\t\t\t\t\t<img class="mr-3 rounded" width="25" src="/themes/stisla/assets/img/products/product-4-50.png" alt="product">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t'.concat(e(a.name),"\n\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>")}}})},app.createCartCoupon.selectPlans=function(){var a=this;$(a.config.selectPlans).on("change",(function(){$(a.config.planSelection).toggleClass("d-none",!this.checked),a.config.plans.clear(),a.config.plans.clearOptions()}))},app.createCartCoupon.durationChange=function(){var a=this;$(a.config.duration).on("change",(function(){$(a.config.multipleDuration).toggleClass("d-none","custom"!==this.value)}))},app.createCartCoupon.dateLimitCheck=function(){var a=this;$(a.config.dateLimit).on("change",(function(){$(a.config.dateLimitPanel).toggleClass("d-none",!this.checked)}))},app.createCartCoupon.redeemLimitCheck=function(){var a=this;$(a.config.redeemLimit).on("change",(function(){$(a.config.redeemLimitPanel).toggleClass("d-none",!this.checked)}))},app.createCartCoupon.data=function(){var a=$(this.config.form).serializeArray(),e=$(this.config.form).find("[data-ts-item]").map((function(a,e){return parseInt(e.dataset.value)})).get();return e.length&&a.push({name:"plans",value:e}),a},app.createCartCoupon.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html();$.ajax({type:"POST",url:a.config.route,data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(e,t,n){var i=e;app.formErrors(a.config.form,i.responseJSON,i.status)}})},app.createCartCoupon.submitForm=function(){var a=this;$(a.config.button).on("click",a.ajax.bind(a))},app.createCartCoupon.init=function(){void 0!==window.TomSelect&&$("#plans").length&&this.customSelect(),this.toggleDiscountType(),this.selectPlans(),this.durationChange(),this.dateLimitCheck(),this.redeemLimitCheck(),this.submitForm(),jQuery().daterangepicker&&$("#redeem_until").length&&$("#redeem_until").daterangepicker({locale:{format:"YYYY-MM-DD HH:mm"},singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0})},$(document).ready(app.createCartCoupon.init())}(),function(){"use strict";app.cartCouponDatatable={},app.cartCouponDatatable.config={datatable:"#coupons-datatable",options:{src:"/admin/coupons/datatable",resourceName:{singular:app.trans("coupon"),plural:app.trans("coupons")},columns:[{title:app.trans("Name"),key:"name",classes:"coupon-name-column",element:function(a){return $('<a href="/admin/coupons/'+a.id+'" class="fw-bolder">'+a.name+"</a>")}},{title:app.trans("Terms"),key:"terms",classes:"hidden md:table-cell",searchable:!1,orderable:!1},{title:app.trans("Promo codes"),key:"promo_codes_count",classes:"hidden md:table-cell",searchable:!1,orderable:!1},{title:app.trans("Redemptions"),key:"redemptions",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e=a.times_redeemed;return a.redeem_limit_count&&(e=a.times_redeemed+"/"+a.redeem_limit_count),$("<span>"+e+"</span>")}},{title:app.trans("Expires"),key:"expires",classes:"hidden md:table-cell",searchable:!1,orderable:!1},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/coupons/'+a.id+'/edit">'+app.trans("Edit coupon")+"</a>",e+='<a class="dropdown-item text-danger btn-delete-coupon" data-route="/admin/coupons/'+a.id+'/delete" href="#">'+app.trans("Delete coupon")+"</a>",e+="</div>",$(e)}},{title:"amount",key:"amount",hidden:!0},{title:"redeem_limit_count",key:"redeem_limit_count",hidden:!0},{title:"times_redeemed",key:"times_redeemed",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No coupons were found!")},filterControl:[{key:"type",title:app.trans("Type"),choices:[{label:app.trans("Percentage discount"),value:"percentage"},{label:app.trans("Fixed amount discount"),value:"fixed"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:"Latest"},{value:"id__asc",label:"Oldest"},{value:"name__asc",label:"Name ( A - Z )"},{value:"name__desc",label:"Name ( Z - A )"}]},selectable:!1}},app.cartCouponDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&(app.cartCouponDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.cartCouponDatatable.init=function(){this.initDatatable()},$(document).ready(app.cartCouponDatatable.init())}(),function(){"use strict";app.deleteCartCoupon={},app.deleteCartCoupon.config={button:".btn-delete-coupon"},app.deleteCartCoupon.ajax=function(a){var e=$(a.target).data("route");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove coupon."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,success:function(a,e,n){app.notify(a.message),a.data&&a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){t.modal("hide"),app.cartCouponDatatable.table&&app.cartCouponDatatable.table.refresh()}),350)},error:function(a,e,n){var i=a;setTimeout((function(){t.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}}})},app.deleteCartCoupon.init=function(){$(document).delegate(this.config.button,"click",this.ajax.bind(this))},$(document).ready(app.deleteCartCoupon.init())}(),function(){"use strict";app.cartCouponSubscriptions={},app.cartCouponSubscriptions.getStatusHtml=function(a){var e="secondary";switch(a.status){case"active":e="primary";break;case"cancelled":e="warning";break;case"ended":e="danger";break;case"trialing":e="info";break;default:e="secondary"}var t=a.status.charAt(0).toUpperCase()+a.status.slice(1);return $('<div class="badge badge-'+e+'" data-toggle="tooltip" data-placement="top" title="" data-original-title="'+a.status_display+'">'+t+"</div>")},app.cartCouponSubscriptions.config={datatable:"#coupon-subscriptions-datatable",options:{src:window.location.pathname+"/subscriptions",resourceName:{singular:app.trans("subscription"),plural:app.trans("subscriptions")},columns:[{title:app.trans("User"),key:"user",classes:"",searchable:!1,element:function(a){return $('<a href="/admin/subscriptions/'+a.id+'" class="fw-bolder">'+a.user+"</a>")}},{title:app.trans("Package"),key:"package",classes:"hidden md:table-cell",element:function(a){var e='<div class="d-flex flex-column align-items-start">';return e+='<span class="mb-1">'+a.package+"</span>",e+='<span class="free-billing-badge '+(a.price?"text-white bg-primary":"")+'">',a.is_free?e+="Free billing":e+=a.price+" - "+a.term_description,e+="</span>",e+="</div>",$(e)}},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell w-50px",searchable:!1,element:function(a){return app.cartCouponSubscriptions.getStatusHtml(a)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No subscriptions were found!")},selectable:!1}},app.cartCouponSubscriptions.initDatatable=function(){void 0!==$.fn.JsDataTable&&$("#coupon-subscriptions-datatable").length&&(app.cartCouponSubscriptions.table=$(this.config.datatable).JsDataTable(this.config.options))},app.cartCouponSubscriptions.init=function(){this.initDatatable()},$(document).ready(app.cartCouponSubscriptions.init())}(),function(){"use strict";app.updateCartCoupon={},app.updateCartCoupon.config={button:"#btn-update-coupon",form:"#updateCouponForm"},app.updateCartCoupon.loadSelectedPackages=function(a){if(a.length){app.createCartCoupon.config.plans.items=a.map((function(a){return a.id.toString()}));for(var e=0;e<a.length;e++){var t=a[e],n=$(app.createCartCoupon.config.plans.wrapper).find(".ts-control"),i='<div class="py-2 d-flex w-100" data-value="'.concat(t.id,'" data-ts-item>\n\t\t\t\t\t\t\t<div class="icon me-3">\n\t\t\t\t\t\t\t\t<img class="mr-3 rounded" width="40" src="/themes/stisla/assets/img/products/product-4-50.png" alt="product">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="d-flex align-items-center">\n                                <strong>\n                                    ').concat(t.name,"\n                                </strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>");n.prepend(i)}}},app.updateCartCoupon.data=function(){var a=$(this.config.form).serializeArray(),e=$(this.config.form).find("[data-ts-item]").map((function(a,e){return parseInt(e.dataset.value)})).get();return e.length&&a.push({name:"plans",value:e}),a},app.updateCartCoupon.data=function(){var a=$(this.config.form).serializeArray(),e=$(this.config.form).find("[data-ts-item]").map((function(a,e){return parseInt(e.dataset.value)})).get();return e.length&&a.push({name:"plans",value:e}),a},app.updateCartCoupon.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html();$.ajax({type:"PATCH",url:e.data("route"),data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(e,t,n){var i=e;app.formErrors(a.config.form,i.responseJSON,i.status)}})},app.updateCartCoupon.submitForm=function(){var a=this;$(a.config.button).on("click",a.ajax.bind(a))},app.updateCartCoupon.init=function(){this.submitForm()},$(document).ready(app.updateCartCoupon.init())}(),function(){"use strict";app.cartDatatable={},app.cartDatatable.removeSelected=function(a,e){var t=a.map((function(a){return a.id}));t.length&&bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove selected items from cart."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing cart item")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",data:{items:t},url:app.deleteCartItem.config.route,success:function(a,t,i){app.notify(a.message),setTimeout((function(){n.modal("hide"),e.refresh(),app.cartList.getCartItems()}),200)},error:function(a,e,t){var i=a;app.notify(i.responseJSON.message),setTimeout((function(){n.modal("hide")}),200)}})}}})},app.cartDatatable.config={datatable:"#user-cart-datatable",options:{src:"/user/carts/datatable",resourceName:{singular:app.trans("item"),plural:app.trans("items")},columns:[{title:app.trans("Product"),key:"name",classes:"cart-prduct",element:function(a){var e='<div class="d-flex">';return e+='<img class="mr-3 rounded" width="55" src="'+a.image+'" alt="product">',e+='<div class="d-flex flex-column">',e+='<a href="'+a.purchasable_path+'" class="fw-bolder">'+a.name+"</a>",e+='<div class="mt-2 text-sm">',e+='<div class="space-initial">',e+=a.description,e+="</div>",e+="</div>",e+="</div>",e+="</div>",$(e)}},{title:app.trans("Unit price"),key:"price",classes:"hidden md:table-cell"},{title:app.trans("Quantity"),key:"quantity",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e='<div class="mt-2 d-flex flex-column align-items-center cart-item"  data-id="'+a.id+'">';return e+='<div class="cart-quantity-group">',e+='<button type="button" class="cart-quantity-btn cart-quantity-decrement">',e+='<i class="fas fa-minus"></i></button>',e+='<input type="number" class="cart-quantity-control ',a.isStockable&&a.stock<a.quantity&&(e+="text-danger"),e+='" readonly value="'+a.quantity+'">',e+='<button type="button" class="cart-quantity-btn cart-quantity-increment">',e+='<i class="fas fa-plus"></i></button>',e+="</div>",a.isStockable&&(e+='<span class="text-sm text-muted">Stock: '+a.stock+"</span>"),e+="</div>",$(e)}},{title:app.trans("Total price"),key:"total",classes:"hidden md:table-cell fw-bold",element:function(a){return $("<strong>"+a.total+"</strong>")}},{title:"Actions",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<a class="cart-remove-item text-danger" data-id="'+a.id+'" href="#">'+app.trans("Delete")+"</a>";return $(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No items were found!")},sortControl:{value:"created_at__desc",options:[]},bulkActions:[{title:app.trans("Removed selected"),onAction:app.cartDatatable.removeSelected.bind(app.cartDatatable),reloadOnChange:!0}],allowPagination:!1,showSearchQuery:!1,limit:1e3}},app.cartDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.cartDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.cartDatatable.init=function(){this.initDatatable()},$(document).ready(app.cartDatatable.init())}(),function(){"use strict";app.deleteCartItem={},app.deleteCartItem.config={button:".cart-remove-item",route:"/user/carts/delete"},app.deleteCartItem.ajax=function(a){var e=this,t=$(a.target).data("id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove selected item from cart."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing cart item")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",data:{items:[t]},url:e.config.route,success:function(a,e,t){app.notify(a.message),setTimeout((function(){n.modal("hide"),$(app.cartDatatable.config.datatable).length&&app.cartDatatable.table.refresh(),app.cartList.getCartItems()}),200)},error:function(a,e,t){var i=a;app.notify(i.responseJSON.message),setTimeout((function(){n.modal("hide")}),200)}})}}})},app.deleteCartItem.init=function(){$(document).delegate(this.config.button,"click",this.ajax.bind(this))},$(document).ready(app.deleteCartItem.init())}(),function(){"use strict";app.cart={},app.cart.config={checkoutBtn:"#btn-cart-checkout"},app.cart.toggleCheckoutBtn=function(a,e){var t=this,n=e.selected().map((function(a){return a.id})),i=$(t.config.checkoutBtn).data("href");n.length?(i=i+"?items="+n.join(","),$(t.config.checkoutBtn).removeClass("disabled")):$(t.config.checkoutBtn).addClass("disabled"),$(t.config.checkoutBtn).attr("href",i)},app.cart.init=function(){void 0!==$.fn.JsDataTable&&$(app.cartDatatable.config.datatable).length&&($(app.cartDatatable.config.datatable).on("table:selection",this.toggleCheckoutBtn.bind(this)),$(app.cartDatatable.config.datatable).on("table:draw.finish",this.toggleCheckoutBtn.bind(this)))},$(document).ready((function(){app.cart.init(),$("#cart-notification-dopdown").on("hide.bs.dropdown",(function(a){var e=$(a.target);return!e.hasClass("keepopen")&&!e.parents(".keepopen").length||!$(a.clickEvent.target).parents(".dropdown-list-content").length&&!$(a.clickEvent.target).hasClass("dropdown-list-content")})),$("#checkout-thank-you-modal").length&&$("#checkout-thank-you-modal").modal("show"),window.autosize&&$(".autosize").length&&autosize($(".autosize"))}))}(),app.cartList={},app.cartList.config={dropdownId:"#cart-notification-dopdown",route:"/user/carts/notification-items",itemCount:".cart-items-count"},app.cartList.itemHtml=function(a){var e='<div class="dropdown-item d-block">';return e+='<div class="media cart-item" data-id="'+a.id+'">',e+='<img class="mr-3 rounded" width="55" src="'+a.image+'" alt="product">',e+='<div class="media-body text-dark lh-base">',e+='<a href="'+a.purchasablePath+'" class="media-title w-14rem">'+a.name+"</a>",e+="<div>",e+='<div class="space-initial line-clamp-2">',e+=a.description,e+="</div>",e+="</div>",e+='<div class="mt-1 d-flex justify-content-between align-items-center">',e+='<div class="cart-quantity-group">',e+='<button type="button" class="cart-quantity-btn cart-quantity-decrement">',e+='<i class="fas fa-minus"></i></button>',e+='<input type="number" class="cart-quantity-control" readonly value="'+a.quantity+'">',e+='<button type="button" class="cart-quantity-btn cart-quantity-increment">',e+='<i class="fas fa-plus"></i></button>',e+="</div>",e+='<div class="d-flex flex-column align-items-end">',a.price!==a.total&&(e+='<span class="text-sm text-muted mb-1">'+a.price+" each</span>"),e+='<h6 class="mb-0">'+a.total+"</h6>",e+="</div>",e+="</div>",(e+="</div>")+"</div></div>"},app.cartList.emptyListHtml=function(){var a='<div class="dropdown-item d-block">';return a+='<div class="text-center pt-4 text-muted">'+app.trans("Your cart is empty.")+"</div>",a+="</div>",a+='<div class="dropdown-item">',(a+='<div class="d-flex align-items-center justify-content-center mb-2 w-100">')+'<a href="#" class="btn btn-primary">'+app.trans("Show now")+"</a></div></div>"},app.cartList.loadList=function(a){if($(this.config.dropdownId).find(".dropdown-list-content").html(""),$(this.config.dropdownId).find(".notification-toggle").toggleClass("beep",!!a.count),$(this.config.dropdownId).find(".dropdown-footer").toggleClass("d-none",!a.count),$(this.config.dropdownId).find(".cart-view-all").toggleClass("d-none",!a.count),a.items.length&&a.count){$(this.config.itemCount).html(a.count);for(var e=0;e<a.items.length;e++){var t=a.items[e];$(this.config.dropdownId).find(".dropdown-list-content").append(this.itemHtml(t))}}else $(this.config.dropdownId).find(".dropdown-list-content").html(this.emptyListHtml())},app.cartList.getCartItems=function(){var a=this;$.ajax({type:"GET",url:a.config.route,beforeSend:function(){},success:function(e,t,n){a.loadList(e)},error:function(a,e,t){}})},app.cartList.init=function(){$(this.config.dropdownId).length&&this.getCartItems()},$(document).ready(app.cartList.init()),function(){"use strict";app.cartListUpdateQty={},app.cartListUpdateQty.config={quantityInput:".",decrementBtn:".cart-quantity-decrement",incrementBtn:".cart-quantity-increment"},app.cartListUpdateQty.getQuantity=function(a){return parseInt($(a).parents(".cart-quantity-group").find(".cart-quantity-control").val())},app.cartListUpdateQty.getRoute=function(a){return"/user/carts/"+a+"/update"},app.cartListUpdateQty.ajax=function(a,e){$.ajax({type:"PATCH",url:this.getRoute(a),data:e,beforeSend:function(){$('.cart-item[data-id="'+a+'"]').find(".cart-quantity-btn").attr("disabled",!0)},success:function(e,t,n){$('.cart-item[data-id="'+a+'"]').find(".cart-quantity-btn").attr("disabled",!1),app.notify(e.message),$(app.cartDatatable.config.datatable).length&&app.cartDatatable.table.refresh(),app.cartList.getCartItems()},error:function(e,t,n){var i=e;$('.cart-item[data-id="'+a+'"]').find(".cart-quantity-btn").attr("disabled",!1),app.notify(i.responseJSON.message)}})},app.cartListUpdateQty.decrement=function(){var a=this;$(document).delegate(this.config.decrementBtn,"click",(function(){var e=a.getQuantity(this),t=$(this).parents(".cart-item").data("id");e>1&&t&&a.ajax(t,{quantity:"-1"})}))},app.cartListUpdateQty.increment=function(){var a=this;$(document).delegate(this.config.incrementBtn,"click",(function(){var e=$(this).parents(".cart-item").data("id");e&&a.ajax(e,{quantity:1})}))},app.cartListUpdateQty.init=function(){$(app.cartList.config.dropdownId).length&&(this.decrement(),this.increment())},$(document).ready(app.cartListUpdateQty.init())}(),function(){"use strict";app.userPromoCodeRedemption={},app.userPromoCodeRedemption.config={datatable:"#promo-code-redemptions-users-datatable",options:{src:window.location.pathname+"/user-redemptions",resourceName:{singular:app.trans("user"),plural:app.trans("users")},columns:[{title:app.trans("Name"),key:"name",classes:"coupon-name-column",element:function(a){var e='<div class="d-flex flex-column"><span><strong>'+a.full_name+"</strong></span>";return e+='<span class="text-muted">'+a.email+"</span></html>",$(e)}},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell"},{title:app.trans("Last login"),key:"last_login_for_humans",classes:"hidden md:table-cell",searchable:!1,orderable:!1}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No users were found!")},sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"}]}}},app.userPromoCodeRedemption.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.userPromoCodeRedemption.table=$(this.config.datatable).JsDataTable(this.config.options))},app.userPromoCodeRedemption.init=function(){this.initDatatable()},$(document).ready(app.userPromoCodeRedemption.init())}(),function(){"use strict";app.cartCreatePromoCode={},app.cartCreatePromoCode.config={button:"#btn-create-coupon-promo-code",form:"#createCouponPromoCodeForm",modal:"#create-coupon-promo-code-modal"},app.cartCreatePromoCode.data=function(){var a=$(this.config.form).serializeArray();a.push({name:"coupon_id",value:$(this.config.button).data("id")});var e=$(this.config.form).find("[data-ts-item]").map((function(a,e){return parseInt(e.dataset.value)})).get();return e.length&&a.push({name:"users",value:e}),a},app.cartCreatePromoCode.route=function(){return"/admin/coupons/"+$("#Coupon_id").val()+"/promo-codes/create"},app.cartCreatePromoCode.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.route(),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,i,o){app.backButtonContent(t,n),$(e.config.modal).modal("hide"),a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){app.cartPromoCodeDatatable.table.refresh()}),1e3)},error:function(a,i,o){var s=a;setTimeout((function(){app.backButtonContent(t,n),app.formErrors(e.config.form,s.responseJSON,s.status),app.roles.groupError(s.responseJSON)}),250)}})},app.cartCreatePromoCode.customSelect=function(){this.config.plans=new TomSelect("#users",{valueField:"id",labelField:"full_name",searchField:["full_name","name","first_name","last_name","email","username"],load:function(a,e){var t={page:1,limit:15,length:15,start:0,sortValue:"created_at__desc",searchValue:a},n=$("#Users").val();n&&(t.notIn=n);var i="/admin/users/query/datatable?"+app.objectToUrlParams(t);fetch(i).then((function(a){return a.json()})).then((function(a){e(a.data)})).catch((function(){console.log(4),e()}))},render:{option:function(a,e){return'<div class="py-2 d-flex">\n\t\t\t\t\t\t\t<div class="icon me-3">\n\t\t\t\t\t\t\t\t<img class="mr-3 rounded" width="35" src="'.concat(a.avatar||"/upload/users/avatar.png",'" alt="User">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="mb-1">\n\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t').concat(e(a.full_name),'\n\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t \t\t<div class="description">').concat(e(a.email),"</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>")},item:function(a,e){return'<div class="py-1 px-2 d-flex">\n\t\t\t\t\t\t\t<div class="icon me-3 d-flex align-items-center justify-content-center">\n\t\t\t\t\t\t\t\t<img class="mr-2 rounded" width="20" src="'.concat(a.avatar||"/upload/users/avatar.png",'" alt="User">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t').concat(e(a.full_name),"\n\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>")}}})},app.cartCreatePromoCode.init=function(){void 0!==window.TomSelect&&$("#users").length&&this.customSelect(),$(this.config.button).click((function(){$(this.config.form).submit()})),$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.cartCreatePromoCode.init())}(),function(){"use strict";app.cartPromoCodeDatatable={},app.cartPromoCodeDatatable.openCreateModal=function(){$("#create-coupon-promo-code-modal").modal("show")},app.cartPromoCodeDatatable.multiActivate=function(a,e){var t=a.filter((function(a){return!a.active})).map((function(a){return a.id}));t.length&&$.ajax({type:"POST",url:this.config.route.activate,data:{id:t},success:function(a,t,n){app.notify(a.message),e.refresh()},error:function(a,e,t){var n=a;console.log(n)}})},app.cartPromoCodeDatatable.multiArchive=function(a,e){var t=a.filter((function(a){return a.active})).map((function(a){return a.id}));t.length&&t.length&&$.ajax({type:"POST",url:this.config.route.archive,data:{id:t},success:function(a,t,n){app.notify(a.message),e.refresh()},error:function(a,e,t){var n=a;console.log(n)}})},app.cartPromoCodeDatatable.newCode=function(){console.log(4)},app.cartPromoCodeDatatable.config={datatable:"#promo-codes-datatable",route:{activate:window.location.pathname+"/promo-codes/activate",archive:window.location.pathname+"/promo-codes/archive"},options:{src:window.location.pathname+"/promo-codes",resourceName:{singular:"code",plural:"codes"},columns:[{title:"Code",key:"code",classes:"coupon-code-column",element:function(a){var e='<div class="d-flex align-items-center">';return e+='<a href="/admin/coupons/promo-codes/'+a.id+'">',e+="<strong>"+a.code+"</strong>",e+="</a>",a.active||(e+='<span class="ml-3 badge bg-secondary">Archived</span>'),e+="</div>",$(e)}},{title:"Redemptions",key:"times_redeemed",classes:"hidden md:table-cell",element:function(a){var e=a.times_redeemed;return a.max_redemptions&&(e+="/"+a.max_redemptions),$("<p>"+e+"</p>")}},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item text-danger btn-delete-promo-code" data-route="/admin/coupons/promo-codes/'+a.id+'/delete" href="#">'+app.trans("Delete promo code")+"</a>",e+="</div>",$(e)}},{title:"max_redemptions",key:"max_redemptions",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No promo codes were found!")},buttons:[{label:app.trans("New Code"),action:app.cartPromoCodeDatatable.openCreateModal,style:"primary"}],selectable:!1}},app.cartPromoCodeDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&(app.cartPromoCodeDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.cartPromoCodeDatatable.init=function(){this.initDatatable()},$(document).ready(app.cartPromoCodeDatatable.init())}(),function(){"use strict";app.cartDeletePromoCode={},app.cartDeletePromoCode.config={button:".btn-delete-promo-code"},app.cartDeletePromoCode.ajax=function(a){var e=$(a.target).data("route");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove promo code."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,success:function(a,e,n){app.notify(a.message),a.data&&a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){t.modal("hide"),app.cartPromoCodeDatatable.table&&app.cartPromoCodeDatatable.table.refresh()}),350)},error:function(a,e,n){var i=a;setTimeout((function(){t.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}}})},app.cartDeletePromoCode.init=function(){$(document).delegate(this.config.button,"click",this.ajax.bind(this))},$(document).ready(app.cartDeletePromoCode.init())}(),function(){"use strict";app.subscriptionPromoCodeRedemption={},app.subscriptionPromoCodeRedemption.config={datatable:"#promo-code-subscriptions-datatable",options:{src:window.location.pathname+"/subscriptions",resourceName:{singular:app.trans("subscription"),plural:app.trans("subscriptions")},columns:[{title:app.trans("User"),key:"user",classes:"",searchable:!1,element:function(a){return $('<a href="/admin/subscriptions/'+a.id+'" class="fw-bolder">'+a.user+"</a>")}},{title:app.trans("Package"),key:"package",classes:"hidden md:table-cell",element:function(a){var e='<div class="d-flex flex-column align-items-start">';return e+='<span class="mb-1">'+a.package+"</span>",e+='<span class="free-billing-badge '+(a.price?"text-white bg-primary":"")+'">',a.is_free?e+="Free billing":e+=a.price+" - "+a.term_description,e+="</span>",e+="</div>",$(e)}},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell w-50px",searchable:!1,element:function(a){return app.cartCouponSubscriptions.getStatusHtml(a)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No subscriptions were found!")},selectable:!1}},app.subscriptionPromoCodeRedemption.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.subscriptionPromoCodeRedemption.table=$(this.config.datatable).JsDataTable(this.config.options))},app.subscriptionPromoCodeRedemption.init=function(){this.initDatatable()},$(document).ready(app.subscriptionPromoCodeRedemption.init())}(),function(){"use strict";app.cartUpdatePromoCode={},app.cartUpdatePromoCode.config={button:"#btn-update-coupon-promo-code",form:"#updateCouponPromoCodeForm",modal:"#edit-coupon-promo-code-modal"},app.cartUpdatePromoCode.data=function(){return $(this.config.form).serializeArray()},app.cartUpdatePromoCode.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:t.data("route"),data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,i,o){app.backButtonContent(t,n),$(e.config.modal).modal("hide"),a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){app.cartPromoCodeDatatable.table.refresh()}),1e3)},error:function(a,i,o){var s=a;setTimeout((function(){app.backButtonContent(t,n),app.formErrors(e.config.form,s.responseJSON,s.status),app.roles.groupError(s.responseJSON)}),250)}})},app.cartUpdatePromoCode.init=function(){$(this.config.button).click((function(){$(this.config.form).submit()})),$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.cartUpdatePromoCode.init())}(),function(){"use strict";app.cartCreateUserPromoCode={},app.cartCreateUserPromoCode.config={button:".btn-create-coupon-user"},app.cartCreateUserPromoCode.data=function(){return{users:$("#add-coupon-user-modal").find("[data-ts-item]").map((function(a,e){return parseInt(e.dataset.value)})).get()}},app.cartCreateUserPromoCode.ajax=function(a){var e=$(this.config.button),t=e.data("href"),n=e.html(),i=this.data();i.users.length&&$.ajax({type:"POST",url:t,data:i,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.closeModal(),a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},complete:function(a){app.backButtonContent(e,n),e.attr("disabled",!1)},error:function(a,e,t){var n=a;app.notify(n.responseJSON.message)}})},app.cartCreateUserPromoCode.init=function(){$(this.config.button).on("click",this.ajax.bind(this))},$(document).ready(app.cartCreateUserPromoCode.init())}(),function(){"use strict";app.cartDeleteUserPromoCode={},app.cartDeleteUserPromoCode.config={button:".btn-delete-coupon-user"},app.cartDeleteUserPromoCode.ajax=function(a){var e=$(a.target).data("href");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove user from list."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,success:function(a,e,n){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){t.modal("hide")}),350)},error:function(a,e,n){setTimeout((function(){t.modal("hide")}),350)}})}}})},app.cartDeleteUserPromoCode.init=function(){$(document).delegate(this.config.button,"click",this.ajax.bind(this))},$(document).ready(app.cartDeleteUserPromoCode.init())}(),function(){"use strict";app.createShippingRate={},app.createShippingRate.config={submit:".btn-create-shipping-rate",form:"#createShippingRateForm",route:"/admin/shipping-rates/create"},app.createShippingRate.data=function(){return $(this.config.form).serializeArray()},app.createShippingRate.ajax=function(a){var e=this,t=$(a.target);$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){t.attr("disabled",!0).addClass("disabled btn-progress")},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.closeModal(),app.shippingRateDatatable.table?app.shippingRateDatatable.table.refresh():a.data.location&&(window.location=window.location)}),500)},complete:function(a){t.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.createShippingRate.clearModal=function(){$(this.config.form).find("#title").val(""),$(this.config.form).find("#price").val(""),$(this.config.form).find("#active").prop("checked",!1)},app.createShippingRate.init=function(){var a=this;$(this.config.submit).on("click",this.ajax.bind(this)),$("#create-shipping-rate-modal").on("hidden.bs.modal",(function(){a.clearModal()}))},$(document).ready(app.createShippingRate.init())}(),function(){"use strict";app.shippingRateDatatable={},app.shippingRateDatatable.removeSelected=function(a,e){var t=a.map((function(a){return a.id}));t.length&&bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove selected selected shipping rates."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing cart item")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",data:{rates:t},url:app.shippingRateDatatable.config.route,success:function(a,t,i){app.notify(a.message),setTimeout((function(){n.modal("hide"),e.refresh()}),200)},error:function(a,e,t){var i=a;app.notify(i.responseJSON.message),setTimeout((function(){n.modal("hide")}),200)}})}}})},app.shippingRateDatatable.config={datatable:"#admin-shipping-rates-datatable",route:"/admin/shipping-rates/delete",options:{src:"/admin/shipping-rates/datatable",resourceName:{singular:app.trans("shipping rate"),plural:app.trans("shipping rates")},columns:[{title:app.trans("Title"),key:"title",classes:"shipping-rate-title"},{title:app.trans("Price"),key:"price_display",classes:"hidden md:table-cell",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t="Archived";return a.active&&(e="primary",t="Active"),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:"Actions",key:"actions",searchable:!1,classes:"shipping-rate-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item btn-edit-shipping-rate" href="#" data-id="'+a.id+'">'+app.trans("Edit shipping rate")+"</a>",e+='<a class="dropdown-item text-danger btn-delete-shipping-rate" data-route="/admin/shipping-rates/delete" data-id="'+a.id+'" href="#">'+app.trans("Delete shipping rate")+"</a>",e+="</div>",$(e)}},{title:"price",key:"price",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No shipping rates were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Active"),value:"active"},{label:app.trans("Archived"),value:"archived"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:"Latest Created"},{value:"created_at__asc",label:"Oldest Created"},{value:"title__asc",label:"Title ( A - Z )"},{value:"title__desc",label:"Title ( Z - A )"}]},bulkActions:[{title:app.trans("Removed selected"),onAction:app.shippingRateDatatable.removeSelected.bind(app.shippingRateDatatable),reloadOnChange:!0}],limit:25}},app.shippingRateDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.shippingRateDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.shippingRateDatatable.init=function(){this.initDatatable()},$(document).ready(app.shippingRateDatatable.init())}(),function(){"use strict";app.deleteShippingRate={},app.deleteShippingRate.config={button:".btn-delete-shipping-rate",route:"/admin/shipping-rates/delete"},app.deleteShippingRate.ajax=function(a){var e=$(a.target).data("route"),t=$(a.target).data("id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove shipping rate."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,data:{rates:[t]},success:function(a,e,t){app.notify(a.message),a.data&&a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){n.modal("hide"),app.shippingRateDatatable.table&&app.shippingRateDatatable.table.refresh()}),200)},error:function(a,e,t){setTimeout((function(){n.modal("hide")}),200)}})}}})},app.deleteShippingRate.init=function(){$(document).delegate(this.config.button,"click",this.ajax.bind(this))},$(document).ready(app.deleteShippingRate.init())}(),function(){"use strict";app.updateShippingRate={},app.updateShippingRate.config={editBtn:".btn-edit-shipping-rate",modal:"#edit-shipping-rate-modal",form:"#updateShippingRateForm",submit:".btn-update-shipping-rate"},app.updateShippingRate.getEditData=function(a){var e=this,t=$(a.target).data("id"),n=app.shippingRateDatatable.table.findItem("id",t);n&&($(e.config.modal).modal("show"),$(e.config.form).find('[name="id"]').val(n.id),$(e.config.form).find('[name="title"]').val(n.title),$(e.config.form).find('[name="currency"]').val(n.currency),$(e.config.form).find('[name="price"]').val(n.price),$(this.config.form).find('[name="edit-active"]').attr("checked",!!n.active))},app.updateShippingRate.clearModal=function(){var a=$(this.config.form).find('[name="currency"] option:first').val();$(this.config.form).find('[name="id"]').val(""),$(this.config.form).find('[name="title"]').val(""),$(this.config.form).find('[name="currency"]').val(a),$(this.config.form).find('[name="price"]').val(""),$(this.config.form).find('[name="edit-active"]').attr("checked",!1)},app.updateShippingRate.data=function(){return $(this.config.form).serializeArray()},app.updateShippingRate.route=function(a){return"/admin/shipping-rates/"+a+"/update"},app.updateShippingRate.ajax=function(a){var e=this,t=$(a.target),n=$(e.config.form).find('[name="id"]').val();$.ajax({type:"PATCH",url:e.route(n),data:e.data(),beforeSend:function(){t.attr("disabled",!0).addClass("disabled btn-progress")},success:function(a,e,t){setTimeout((function(){app.closeModal(),app.notify(a.message),app.shippingRateDatatable.table?app.shippingRateDatatable.table.refresh():a.data.location&&(window.location=window.location)}),500)},complete:function(a){t.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateShippingRate.init=function(){var a=this;$(document).delegate(this.config.editBtn,"click",this.getEditData.bind(this)),$(this.config.submit).on("click",this.ajax.bind(this)),$("#edit-shipping-rate-modal").on("hidden.bs.modal",(function(){a.clearModal()}))},$(document).ready(app.updateShippingRate.init())}(),function(){"use strict";app.createTaxRate={},app.createTaxRate.config={submit:".btn-create-tax-rate",form:"#createTaxRateForm",route:"/admin/tax-rates/create"},app.createTaxRate.data=function(){return $(this.config.form).serializeArray()},app.createTaxRate.clearModal=function(){$(this.config.form).find("#title").val(""),$(this.config.form).find("#description").val(""),$(this.config.form).find("#percentage").val(""),$(this.config.form).find("#inclusive").val("1"),$(this.config.form).find("#tax_type").val("vat"),$(this.config.form).find("#active").prop("checked",!1)},app.createTaxRate.ajax=function(a){var e=this,t=$(a.target);$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){t.attr("disabled",!0).addClass("disabled btn-progress")},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.closeModal(),app.taxRateDatatable.table?app.taxRateDatatable.table.refresh():a.data.location&&(window.location=window.location)}),500)},complete:function(a){t.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.createTaxRate.init=function(){var a=this;$(this.config.submit).on("click",this.ajax.bind(this)),$("#create-tax-rate-modal").on("hidden.bs.modal",(function(){a.clearModal()}))},$(document).ready(app.createTaxRate.init())}(),function(){"use strict";app.taxRateDatatable={},app.taxRateDatatable.removeSelected=function(a,e){var t=a.map((function(a){return a.id}));t.length&&bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove selected selected tax rates."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing cart item")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",data:{rates:t},url:app.taxRateDatatable.config.route,success:function(a,t,i){app.notify(a.message),setTimeout((function(){n.modal("hide"),e.refresh()}),200)},error:function(a,e,t){var i=a;app.notify(i.responseJSON.message),setTimeout((function(){n.modal("hide")}),200)}})}}})},app.taxRateDatatable.config={datatable:"#admin-tax-rates-datatable",route:"/admin/tax-rates/delete",options:{src:"/admin/tax-rates/datatable",resourceName:{singular:app.trans("tax rate"),plural:app.trans("tax rates")},columns:[{title:app.trans("Title"),key:"title",classes:"shipping-rate-title"},{title:app.trans("Rate"),key:"percentage",classes:"hidden md:table-cell"},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t="Archived";return a.active&&(e="primary",t="Active"),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:"Actions",key:"actions",searchable:!1,classes:"shipping-rate-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item btn-edit-tax-rate" href="#" data-id="'+a.id+'" role="button">'+app.trans("Edit tax rate")+"</a>",e+='<a class="dropdown-item text-danger btn-delete-tax-rate" data-route="/admin/tax-rates/delete" data-id="'+a.id+'" href="#">'+app.trans("Delete tax rate")+"</a>",e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No tax rates were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Active"),value:"active"},{label:app.trans("Archived"),value:"archived"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:"Latest Created"},{value:"created_at__asc",label:"Oldest Created"},{value:"title__asc",label:"Title ( A - Z )"},{value:"title__desc",label:"Title ( Z - A )"}]},bulkActions:[{title:app.trans("Removed selected"),onAction:app.taxRateDatatable.removeSelected.bind(app.taxRateDatatable),reloadOnChange:!0}],limit:25}},app.taxRateDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.taxRateDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.taxRateDatatable.init=function(){this.initDatatable()},$(document).ready(app.taxRateDatatable.init())}(),function(){"use strict";app.deleteTaxRate={},app.deleteTaxRate.config={button:".btn-delete-tax-rate",route:"/admin/tax-rates/delete"},app.deleteTaxRate.ajax=function(a){var e=$(a.target).data("route"),t=$(a.target).data("id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove tax rate."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,data:{rates:[t]},success:function(a,e,t){app.notify(a.message),a.data&&a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){n.modal("hide"),app.taxRateDatatable.table&&app.taxRateDatatable.table.refresh()}),200)},error:function(a,e,t){setTimeout((function(){n.modal("hide")}),200)}})}}})},app.deleteTaxRate.init=function(){$(document).delegate(this.config.button,"click",this.ajax.bind(this))},$(document).ready(app.deleteTaxRate.init())}(),function(){"use strict";app.updateTaxRate={},app.updateTaxRate.config={editBtn:".btn-edit-tax-rate",modal:"#edit-tax-rate-modal",form:"#updateTaxRateForm",submit:".btn-update-tax-rate"},app.updateTaxRate.getEditData=function(a){var e=this,t=$(a.target).data("id"),n=app.taxRateDatatable.table.findItem("id",t);n&&($(e.config.modal).modal("show"),$(e.config.form).find('[name="id"]').val(n.id),$(e.config.form).find('[name="title"]').val(n.title),$(e.config.form).find('[name="description"]').val(n.description),$(e.config.form).find('[name="percentage"]').val(n.percentage),$(e.config.form).find('[name="inclusive"]').val(n.inclusive),$(e.config.form).find('[name="tax_type"]').val(n.tax_type),$(e.config.form).find('[name="edit-active"]').attr("checked",!!n.active))},app.updateTaxRate.clearModal=function(){$(this.config.form).find('[name="id"]').val(""),$(this.config.form).find('[name="title"]').val(""),$(this.config.form).find('[name="description"]').val(""),$(this.config.form).find('[name="percentage"]').val(""),$(this.config.form).find('[name="inclusive"]').val(1),$(this.config.form).find('[name="tax_type"]').val("vat"),$(this.config.form).find('[name="edit-active"]').attr("checked",!1)},app.updateTaxRate.data=function(){return $(this.config.form).serializeArray()},app.updateTaxRate.route=function(a){return"/admin/tax-rates/"+a+"/update"},app.updateTaxRate.ajax=function(a){var e=this,t=$(a.target),n=$(e.config.form).find('[name="id"]').val();$.ajax({type:"PATCH",url:e.route(n),data:e.data(),beforeSend:function(){t.attr("disabled",!0).addClass("disabled btn-progress")},success:function(a,e,t){setTimeout((function(){app.closeModal(),app.notify(a.message),app.taxRateDatatable.table?app.taxRateDatatable.table.refresh():a.data.location&&(window.location=window.location)}),500)},complete:function(a){t.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateTaxRate.init=function(){var a=this;$(document).delegate(this.config.editBtn,"click",this.getEditData.bind(this)),$(this.config.submit).on("click",this.ajax.bind(this)),$("#edit-shipping-rate-modal").on("hidden.bs.modal",(function(){a.clearModal()}))},$(document).ready(app.updateTaxRate.init())}(),function(){"use strict";app.cashierGatewayUpdate={},app.cashierGatewayUpdate.config={gatewayTab:"#gateway-tablist",settingstab:"gateway-settings-tab",redirect:"/admin/settings/payment-gateways",button:"#btn-save-cashier-gateway-settings"},app.cashierGatewayUpdate.ajax=function(){var a=this;$(app.cashierGatewayUpdate.config.button).on("click",(function(e){e.preventDefault();var t=$(this),n=t.html(),i=$(a.config.gatewayTab+" .nav-link.active").data("value"),o=$("#"+i+"_"+a.config.settingstab+" .nav-link.active").data("form"),s=new FormData($(o)[0]),r=$('[data-image-gallery="'.concat(i,'"]')).sGallery().images();r.length&&s.append(i+"_logo",r[0].original_url),s.append("gateway",i),$.ajax({type:"POST",url:$(o).data("route"),data:s,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(a,e,i){app.notify(a.message),setTimeout((function(){app.redirect(app.cashierGatewayUpdate.config.redirect)}),1e3),app.backButtonContent(t,n)},error:function(a,e,i){var s=a;app.formErrors(o,s.responseJSON,s.status),app.backButtonContent(t,n)}})}))},app.cashierGatewayUpdate.init=function(){app.cashierGatewayUpdate.ajax()},$(document).ready(app.cashierGatewayUpdate.init())}(),function(){"use strict";app.cashierGatewayUpload={},app.cashierGatewayUpload.paypalLogo=function(){var a=$("#settings-paypal-logo-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"paypal_logo",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:"image/*",init:function(){var a=app.baseDropzone.countUploaded(".settings-paypal-logo-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.cashierGatewayUpload.stripeLogo=function(){var a=$("#settings-stripe-logo-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"stripe_logo",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:"image/*",init:function(){var a=app.baseDropzone.countUploaded(".settings-stripe-logo-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,console.log(a),this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.cashierGatewayUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.cashierGatewayUpload.paypalLogo(),app.cashierGatewayUpload.stripeLogo())},$(document).ready(app.cashierGatewayUpload.init())}(),app.installWebhook={},app.installWebhook.config={button:".btn-install-gateway-webhook"},app.installWebhook.process=function(a){var e=a.target.dataset.route,t=$(this.config.button),n=t.html();$.ajax({type:"GET",url:e,beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.closeModal(),a.data.redirectTo&&app.redirect(a.data.redirectTo)}),400)},complete:function(a){setTimeout((function(){app.backButtonContent(t,n)}),400)},error:function(a,e,t){var n=a;setTimeout((function(){app.notify(n.responseJSON.message)}),400)}})},app.installWebhook.init=function(){$(this.config.button).on("click",this.process.bind(this))},$(document).ready(app.installWebhook.init()),function(){"use strict";app.toggleCashierGatewayMode={},app.toggleCashierGatewayMode.config={button:".btn-toggle-gateway-mode",route:"/admin/settings/update"},app.toggleCashierGatewayMode.process=function(a){var e=$(a.target).data("value"),t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Switching mode")+"...</p>",closeButton:!1});$.ajax({type:"PATCH",data:{cashier_mode:e},url:this.config.route,success:function(a,e,n){setTimeout((function(){app.notify(a.message),t.modal("hide"),window.location=window.location.pathname}),400)},error:function(a,e,n){var i=a;setTimeout((function(){app.notify(i.responseJSON.message),t.modal("hide")}),400)}})},app.toggleCashierGatewayMode.init=function(){$(this.config.button).on("click",this.process.bind(this))},$(document).ready(app.toggleCashierGatewayMode.init())}(),app.applyCouponCheckout={},app.applyCouponCheckout.config={button:"#btn-apply-subscription-coupon",buttonPay:".btn-pay-pricing",code:"#coupon-code",form:"#form-coupon",discountId:"#discount",route:"/user/subscriptions/coupons/verify",priceClass:".price",discount:".discount",couponCode:".coupon-code",price:"#price",coupon:"#coupon",currency:"#curreny",priceId:"#priceId"},app.applyCouponCheckout.applyCode=function(a){var e=$(this.config.currency).val(),t=parseFloat($(this.config.price).val()),n=t,i=0;"percentage"===a.coupon.amount_type?(i=(parseFloat(a.coupon.amount)/100*t).toFixed(2),i=parseFloat(i)):i=parseFloat(a.coupon.amount),n=t-i,$(this.config.coupon).val(a.id),$(this.config.priceClass).html(e+n.toLocaleString()),$(this.config.form).remove(),$(this.config.discountId).removeClass("none"),$(this.config.couponCode).html(a.code),$(this.config.discount).html("-"+e+i),$(this.config.buttonPay).map((function(){$(this).attr("href",$(this).data("href")+"?coupon="+a.code)}))},app.applyCouponCheckout.process=function(a){var e=this,t=$(this.config.code).val(),n=$(this.config.priceId).val(),i=$(e.config.button);$.ajax({type:"POST",url:e.config.route,data:{code:t,price:n},beforeSend:function(){i.attr("disabled",!0).addClass("loading disabled")},success:function(a,e,t){console.log(a)},error:function(a,t,n){var o=a;i.attr("disabled",!1).removeClass("loading disabled"),app.formErrors(e.config.form,o.responseJSON,o.status)}})},app.applyCouponCheckout.init=function(){$(this.config.button).on("click",this.process.bind(this))},app.applyCouponCheckout.init(),app.createCouponPackage={},app.createCouponPackage.config={button:".btn-create-coupon-package"},app.createCouponPackage.data=function(){return{packages:$("#add-coupon-package-modal").find("[data-ts-item]").map((function(a,e){return parseInt(e.dataset.value)})).get()}},app.createCouponPackage.ajax=function(a){var e=$(this.config.button),t=e.data("href"),n=e.html(),i=this.data();i.packages.length&&$.ajax({type:"POST",url:t,data:i,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.closeModal(),a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},complete:function(a){app.backButtonContent(e,n),e.attr("disabled",!1)},error:function(a,e,t){var n=a;setTimeout((function(){app.notify(n.responseJSON.message)}),350)}})},app.createCouponPackage.init=function(){$(this.config.button).on("click",this.ajax.bind(this))},$(document).ready(app.createCouponPackage.init()),app.deleteCouponPackage={},app.deleteCouponPackage.config={button:".btn-delete-coupon-package"},app.deleteCouponPackage.ajax=function(a){var e=$(a.target).data("href");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove package from list."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,success:function(a,e,n){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){t.modal("hide")}),350)},error:function(a,e,n){var i=a;setTimeout((function(){t.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}}})},app.deleteCouponPackage.init=function(){$(document).delegate(this.config.button,"click",this.ajax.bind(this))},$(document).ready(app.deleteCouponPackage.init()),function(){function a(a){return function(a){if(Array.isArray(a))return e(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,t){if(a){if("string"==typeof a)return e(a,t);var n=Object.prototype.toString.call(a).slice(8,-1);return"Object"===n&&a.constructor&&(n=a.constructor.name),"Map"===n||"Set"===n?Array.from(a):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(a,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(a,e){(null==e||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}app.currency={},app.currency.convert=function(a,e,t){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.getCurrencyProp(e,"exchange_rate",1),o=this.getCurrencyProp(t,"exchange_rate",1);if(null===o)return null;var s=a;return e!==t&&(s=a*o/i),n?this.format(s,t):s},app.currency.format=function(e,t){e=app.Settlement.floatval(e),e=app.Settlement.preg_replace("/[s',!]/","",e.toString());var n=this.getCurrencyProp(t,"format");valRegex="/([0-9].*|)[0-9]/";var i=n.match(/([0-9].*|)[0-9]/g),o=a((i=i[0]||0).matchAll(/[\s\',.!]/gi));return(thousand=o[0]?o[0][0]:",")&&"!"==thousand&&(thousand=""),decimal=o[1]?o[1][0]:null,decimals=decimal?app.Settlement.strrchr(i,decimal).substring(1).length:0,(negative=e<0?"-":"")&&(e*=-1),e=app.Settlement.number_format(e,decimals,decimal,thousand),e=app.Settlement.preg_replace(valRegex,e,n),negative+e},app.currency.numberFormat=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return negation=a<0?-1:1,coefficient=Math.pow(10,e),a=negation*Math.floor(string(Math.abs(a)*coefficient))/coefficient,app.Settlement.number_format(a,e,t,n)},app.currency.getCurrencyProp=function(a,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.hasCurrency(a)&&this.get(a)[e]||t},app.currency.get=function(a){return this.getCurrencies().find((function(e){return e.code===a.toUpperCase()}))},app.currency.getCurrencies=function(){return window.currencies||[]},app.currency.hasCurrency=function(a){return!!this.getCurrencies().find((function(e){return e.code===a.toUpperCase()}))}}(),app.customerDatatable={},app.customerDatatable.config={datatable:{src:"/admin/subscriptions/customers/datatable",resourceName:{singular:app.trans("customer"),plural:app.trans("customers")},columns:[{title:app.trans("Name"),key:"name",classes:"",element:function(a){var e=a.name;return!e&&a.users.length&&((e=a.users[0].name)||(e=a.users[0].email)),$('<a href="/admin/subscriptions/customers/'+a.id+'" class="fw-bolder">'+e+"</a>")}},{title:app.trans("Email"),key:"email",classes:"hidden md:table-cell"},{title:app.trans("Gateway"),key:"gateway",classes:"hidden md:table-cell",element:function(a){var e=a.gateway.charAt(0).toUpperCase()+a.gateway.slice(1);return $("<span>"+e+"</span>")}},{title:app.trans("Created"),key:"created",classes:"hidden md:table-cell text-right",searchable:!1},{title:"created_at",key:"created_at",classes:"hidden md:table-cell",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No customers were found!")},sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")},{value:"name__asc",label:app.trans("Name ( A - Z )")},{value:"name__desc",label:app.trans("Name ( Z - A )")}]},limit:25,yajra:!0}},app.customerDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#customers-datatable").length&&(app.customerDatatable.datatable={},app.customerDatatable.datatable=$("#customers-datatable").JsDataTable(app.customerDatatable.config.datatable))},$(document).ready(app.customerDatatable.init()),app.customerPaymentDatatable={},app.customerPaymentDatatable.config={datatable:{src:"/admin/subscriptions/payments/datatable",resourceName:{singular:app.trans("payment"),plural:app.trans("payments")},columns:[{title:app.trans("Amount"),key:"amount",classes:"",searchable:!1},{title:"",key:"currency",classes:"",searchable:!1,element:function(a){return $("<span>"+a.currency.code+"</span>")}},{title:"",key:"status",classes:"hidden md:table-cell",searchable:!1,element:function(a){var e=a.status.charAt(0).toUpperCase()+a.status.slice(1),t="danger";return"success"===a.status&&(t="primary"),$('<span class="badge badge-'+t+'">'+e+"</span>")}},{title:app.trans("Created"),key:"created",classes:"hidden md:table-cell",searchable:!1},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/subscriptions/users/'+a.subscription.user_id+"/invoices/"+a.id+'">'+app.trans("View invoice")+"</a>",e+="</div>",$(e)}},{title:"created_at",key:"created_at",classes:"hidden md:table-cell",hidden:!0},{title:"user",key:"users.name",classes:"hidden md:table-cell",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No payments were found!")},sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:25,yajra:!0,query:{customer:$("#Customer_id").val()}}},app.customerPaymentDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#customer-payments-datatable").length&&(app.customerPaymentDatatable.datatable={},app.customerPaymentDatatable.datatable=$("#customer-payments-datatable").JsDataTable(app.customerPaymentDatatable.config.datatable))},app.customerPaymentDatatable.init(),function(){"use strict";app.adminDashboard={},app.adminDashboard.init=function(){$.each($(".chart"),(function(){var a=JSON.parse($(this).attr("data-attributes"));app.chart(a)})),$("#cron-not-running-modal").length&&$("#cron-not-running-modal").modal("show")},$(document).ready(app.adminDashboard.init())}(),function(){"use strict";app.depositCheckout={},app.depositCheckout.config={form:"#checkout-form",parent:"#deposit-checkout"},app.depositCheckout.getAmount=function(){return parseFloat($(this.config.parent+' [name="amount"]').val()||0)},app.depositCheckout.getCurrency=function(){return $(this.config.parent+' [name="currency"]').val()},app.depositCheckout.getMethodCurrency=function(){return $(this.config.parent+" #method-currency").val()},app.depositCheckout.getFixedCharge=function(){return parseFloat($(this.config.parent+" #method-fixed-charge").val())},app.depositCheckout.getPercentCharge=function(){return parseFloat($(this.config.parent+" #method-percent-charge").val())},app.depositCheckout.getMinLimit=function(){return parseFloat($(this.config.parent+" #method-min").val())},app.depositCheckout.getMaxLimit=function(){return parseFloat($(this.config.parent+" #method-max").val())},app.depositCheckout.initTotal=function(){var a=this.getMethodCurrency(),e=this.getCurrency(),t=this.getAmount(),n=this.getPercentCharge(),i=parseFloat(app.currency.convert(this.getFixedCharge(),a,e,!1).toFixed(2)),o=0;n&&(o=n/100*t);var s=0;t&&(s=[t,i,o].reduce((function(a,e){return a+e}),0)),$(this.config.parent+" #checkout-fixed-charge").html(app.currency.format(i,e)),$(this.config.parent+" #checkout-percent-charge").html(app.currency.format(o,e)),$(this.config.parent+" .checkout-total").html(app.currency.format(s,e)),$(this.config.parent+" .charges-desc").html("(".concat(app.currency.format(i,e)," + ").concat(n,"%)")),$(this.config.parent+" .currency-code").html(e),$(this.config.parent+" .fixed-charge-amount-desc").html(app.currency.format(i,e))},app.depositCheckout.amntChange=function(){$(this.config.parent+' [name="amount"]').on("input",(function(){app.depositCheckout.initTotal()}))},app.depositCheckout.currencyChange=function(){$(this.config.parent+' [name="currency"]').on("change",(function(){app.depositCheckout.initTotal(),app.depositCheckout.initRangeLimits()}))},app.depositCheckout.initRangeLimits=function(){var a=this.getMethodCurrency(),e=this.getCurrency();$(this.config.parent+" .range-min").html(app.currency.convert(this.getMinLimit(),a,e)),$(this.config.parent+" .range-max").html(app.currency.convert(this.getMaxLimit(),a,e))},app.depositCheckout.init=function(){this.amntChange(),this.currencyChange()},$(document).ready(app.depositCheckout.init())}(),function(){"use strict";app.disableProfileTwoFactor={},app.disableProfileTwoFactor.config={form:"#profile-two-factor-form",button:"#btn-disable-2fa",route:"/profile/two-factor/disable",redirect:"/profile/security"},app.disableProfileTwoFactor.data=function(){return $(this.config.form).serializeArray()},app.disableProfileTwoFactor.updateContent=function(a){$(".2fa-content").html(a)},app.disableProfileTwoFactor.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html();$.ajax({type:"POST",url:a.config.route,data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.redirect(a.config.redirect)},error:function(i,o,s){var r=i;app.formErrors(a.config.form,r.responseJSON,r.status),app.backButtonContent(e,n),t.attr("disabled",!1)}})},app.disableProfileTwoFactor.process=function(){$(document).delegate(this.config.button,"click",(function(){bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Disabling two factor also remove exta layer of security for your account!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.disableProfileTwoFactor.ajax()}})}))},app.disableProfileTwoFactor.init=function(){this.process()},$(document).ready(app.disableProfileTwoFactor.init())}(),function(){"use strict";app.enableProfileTwoFactor={},app.enableProfileTwoFactor.config={form:"#profile-two-factor-form",route:"/profile/two-factor/enable"},app.enableProfileTwoFactor.data=function(){return $(this.config.form).serializeArray()},app.enableProfileTwoFactor.updateContent=function(a){$(".2fa-content").html(a)},app.enableProfileTwoFactor.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,n){t.attr("disabled",!1),$("#2fa-download-recovery-codes-modal").modal("show")},complete:function(a){app.backButtonContent(t,n),t.attr("disabled",!1)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.enableProfileTwoFactor.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.enableProfileTwoFactor.init())}(),function(){"use strict";app.forgotPassword={},app.forgotPassword.config={form:"#forgot-password-form",route:"/password/email"},app.forgotPassword.data=function(){return $(this.config.form).serializeArray()},app.forgotPassword.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,t,n){app.formMessage(e.config.form,a.message),setTimeout((function(){void 0!==a.data.redirectTo&&app.redirect(a.data.redirectTo)}),2e3)},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){app.formErrors(e.config.form,a.responseJSON,a.status)}})},app.forgotPassword.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.forgotPassword.init())}(),app.invoiceReceiptSend={},app.invoiceReceiptSend.config={button:"#btn-send-invoice-receipt"},app.invoiceReceiptSend.process=function(a){var e=$(a.target).data("route"),t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Sending")+"...</p>",closeButton:!1});$.ajax({type:"GET",url:e,success:function(a,e,n){setTimeout((function(){app.notify(a.message),t.modal("hide")}),400)},error:function(a,e,n){var i=a;setTimeout((function(){app.notify(i.responseJSON.message),t.modal("hide")}),400)}})},app.invoiceReceiptSend.init=function(){$(this.config.button).on("click",this.process.bind())},$(document).ready(app.invoiceReceiptSend.init()),app.invoiceSend={},app.invoiceSend.config={button:"#btn-send-invoice"},app.invoiceSend.process=function(a){var e=$(a.target).data("route"),t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Sending")+"...</p>",closeButton:!1});$.ajax({type:"GET",url:e,success:function(a,e,n){setTimeout((function(){app.notify(a.message),t.modal("hide")}),400)},error:function(a,e,n){var i=a;setTimeout((function(){app.notify(i.responseJSON.message),t.modal("hide")}),400)}})},app.invoiceSend.init=function(){$(this.config.button).on("click",this.process.bind())},$(document).ready(app.invoiceSend.init()),function(){"use strict";app.login={},app.login.config={form:"#login-form",route:"/login"},app.login.data=function(){return $(this.config.form).serializeArray()},app.login.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){void 0!==a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){200!=a.status&&app.backButtonContent(t,n)},error:function(a,e,t){var n=a;app.formErrors("#login-form",n.responseJSON,n.status)}})},app.login.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.login.init())}(),function(){"use strict";app.logoutAllProfileDevice={},app.logoutAllProfileDevice.config={button:"#logout-all-devices",route:"/profile/all-device/logout"},app.logoutAllProfileDevice.handleRedirect=function(a){setTimeout((function(){app.redirect(a)}),1e3)},app.logoutAllProfileDevice.handleRemovingElement=function(){$.each($(".list-group-sessions .list-group-item"),(function(){$(this).remove()}))},app.logoutAllProfileDevice.init=function(){var a=this;$(this.config.button).on("click",(function(){var e=$(this),t=e.html();$.ajax({type:"POST",url:a.config.route,beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.notify(e.message),app.logoutAllProfileDevice.handleRemovingElement(),void 0!==e.data.redirectTo&&a.handleRedirect(e.data.redirectTo)},complete:function(a){app.backButtonContent(e,t)},error:function(a){app.notify(a.responseJSON.message)}})}))},$(document).ready(app.logoutAllProfileDevice.init())}(),function(){"use strict";app.logoutProfileDevice={},app.logoutProfileDevice.config={button:".device-logout",route:"/profile/device/logout"},app.logoutProfileDevice.handleRedirect=function(a){setTimeout((function(){app.redirect(a)}),1e3)},app.logoutProfileDevice.handleRemovingElement=function(a){$.each($(".list-group-sessions .list-group-item"),(function(){$(this).attr("data-id")==a&&$(this).remove()}))},app.logoutProfileDevice.init=function(){var a=this;$(this.config.button).on("click",(function(){var e=$(this),t=e.html(),n=e.parents(".list-group-item").data("id");$.ajax({type:"POST",url:a.config.route,data:{id:n},beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.notify(e.message),app.logoutProfileDevice.handleRemovingElement(e.data.session_id),void 0!==e.data.redirectTo&&a.handleRedirect(e.data.redirectTo)},complete:function(a){app.backButtonContent(e,t)},error:function(a){app.notify(a.responseJSON.message)}})}))},$(document).ready(app.logoutProfileDevice.init())}(),function(){"use strict";app.modulesUserCrud={},app.modulesUserCrud.checkbox=function(a){$('[name="included[user]"]').on("click",(function(){$(this).is(":checked")?$('[name="included[only_subscribers]"]').prop("disabled",!1):$('[name="included[only_subscribers]"]').prop("disabled",!0)}))},app.modulesUserCrud.init=function(){app.modulesUserCrud.checkbox()},$(document).ready(app.modulesUserCrud.init())}(),function(){"use strict";app.modulesCreate={},app.modulesCreate.config={form:"#modules-create-form",route:"/admin/module/create",field:{type:{in_create:"in_create",field_validation:"field_validation"}}},app.modulesCreate.data=function(){return $(this.config.form).serializeArray()},app.modulesCreate.name=function(){$('[name="module_name"]').on("change",(function(){var a=$(this).val();""!=a&&$.ajax({type:"GET",url:"/admin/module/name/"+a,beforeSend:function(){$('[name="model_name"]').attr("disabled",!0),$('[name="menu_title[name]"]').attr("disabled",!0)},success:function(a,e,t){$('[name="module_name"]').val(a.module),$('[name="model_name"]').val(a.model_name),$('[name="menu_title[name]"]').val(a.module)}}),$('[name="model_name"]').parents(".form-group").removeClass("error"),$('[name="model_name"]').parents(".form-group").find(".message").remove(),$('[name="menu_title[name]"]').parents(".form-group").removeClass("error"),$('[name="menu_title[name]"]').parents(".form-group").find(".message").remove(),$('[name="model_name"]').removeAttr("disabled"),$('[name="menu_title[name]"]').removeAttr("disabled")}))},app.modulesCreate.type=function(){$("#type").on("change",(function(){var a=$(this).val(),e=app.modulesFieldExtraOptions.template.get(a),t=app.modulesValidation.validation.rules(a);$('#field-settings-form [name="field_validation"]').html(t),$("#field-extra-options").html(e),app.modulesCreate.fieldExtraOptionsSepartor(e)}))},app.modulesCreate.fieldExtraOptionsSepartor=function(a){""!=a?$("#field-extra-options-separator").show():$("#field-extra-options-separator").hide()},app.modulesCreate.inCreate=function(){$(document).delegate('#field-settings-form [name="in_create"]',"click",(function(){$(this).is(":checked")?$('#field-settings-form [name="field_validation"]').html('<option value="optional">'+app.trans("Optional")+'</option><option value="required">'+app.trans("Required")+'</option><option value="required_unique">'+app.trans("Required | Unique")+"</option>"):$('#field-settings-form [name="field_validation"]').html('<option value="optional">'+app.trans("Optional")+"</option>")}))},app.modulesCreate.softDeletes=function(){$('[name="included[soft_deletes]"]').on("click",(function(){$(this).is(":checked")?$("#fields-table > tbody:last-child").append(app.modulesFieldGenerator.softDelete()):$(".crud-field").each((function(){"fields[deleted_at]"==$(this).attr("name")&&$(this).parents("tr").remove()}))}))},app.modulesCreate.deleteField=function(){$(document).delegate(".delete-field-settings","click",(function(){$(this).parents("tr").remove()}))},app.modulesCreate.valid=function(){var a=["fields[id]","fields[created_at]","fields[updated_at]","fields[deleted_at]"],e=[];return $(".crud-field").each((function(){a.includes($(this).attr("name"))||e.push(!0)})),e.length>0},app.modulesCreate.ajax=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html(),i=e.data();app.modulesCreate.valid()?$('[name="id"]').length&&""!=$('[name="id"]').val()?bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Rebuilding this module will remove your custom codes and table records."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&app.modulesCreate.ajaxRequest(e,i,t,n)}}):app.modulesCreate.ajaxRequest(e,i,t,n):bootbox.alert(app.trans("To continue please add at least one field."))},app.modulesCreate.ajaxRequest=function(a,e,t,n){$.ajax({type:"POST",url:a.config.route,data:e,beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(e,i,o){var s=e;app.formErrors(a.config.form,s.responseJSON,s.status),app.backButtonContent(t,n)}})},app.modulesCreate.iconPicker=function(){void 0!==$.fn.iconpicker&&$("#menu-icon-picker").iconpicker().on("change",(function(a){$('[name="menu_title[icon]"]').val(a.icon)}))},app.modulesCreate.fieldParser=function(){$('[name="field_visual_title"]').on("keyup",(function(){var a=$(this),e=a.val(),t=$('[name="field_database_column"]'),n=(e=e.replace(/[^a-zA-Z-0-9]/g," ")).replace(/ /g,"_");t.val(n.toLowerCase()),a.val(e.toLowerCase().replace(/\b[a-z]/g,(function(a){return a.toUpperCase()}))),t.removeAttr("disabled"),t.parents(".form-group").removeClass("error"),t.parents(".form-group").find(".message").remove()}))},app.modulesCreate.fieldStatus=function(){$(document).delegate(".field-status","click",(function(){var a=$(this),e=a.attr("data-field-type"),t=a.attr("data-field-status"),n=1==a.attr("data-field-status")?0:1;if(app.modulesCreate.config.field.type.in_create==e&&0==n)bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Removing this field from create page will not allow to be required."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(i){if(i){app.modulesCreate.fieldStatusChange(a,t,e,n);var o=a.parents("tr").find('[data-field-type="field_validation"]');app.modulesCreate.fieldStatusChange(o,t,"field_validation",n)}}});else if(app.modulesCreate.config.field.type.field_validation==e&&1==n){app.modulesCreate.fieldStatusChange(a,t,e,n);var i=a.parents("tr").find('[data-field-type="in_create"]');app.modulesCreate.fieldStatusChange(i,t,"in_create",n)}else app.modulesCreate.fieldStatusChange(a,t,e,n)}))},app.modulesCreate.fieldStatusChange=function(a,e,t,n){1==e?(a.removeClass("fa-check").removeClass("text-success"),a.addClass("fa-times").addClass("text-danger")):(a.addClass("fa-check").addClass("text-success"),a.removeClass("fa-times").removeClass("text-danger")),a.attr("data-field-status",n);var i=a.parents("tr").find(".crud-field").val();i=JSON.parse(i),a.parents("tr").find(".crud-field").val(window.JSON.stringify(app.modulesFieldUpdateValueByKey.set(i,t,n)))},app.modulesCreate.editFieldSettings=function(){$(document).delegate(".edit-field-settings","click",(function(){var a=$(this),e=["radio","select","checkbox"],t=a.parents("tr").find(".crud-field").val();t=JSON.parse(t);var n=app.modulesFieldSettingsCreate.getByName(t,"field_type"),i=app.modulesFieldSettingsCreate.getByName(t,"field_id");$("#field-settings-form").trigger("reset"),$("#field-settings-form").prepend('<input type="hidden" name="field_id" value="'+i+'">'),$.each($("#type option"),(function(){$(this).removeAttr("selected")})),$.each(t,(function(){var a=this;if("field_type"==a.name)$.each($("#type option"),(function(){$(this).attr("value")==a.value&&$(this).attr("selected","selected")})),$("#type").trigger("change");else{var i=$('#field-settings-form [name="'+a.name+'"]');switch(i.is("select")?"select":i.attr("type")){case"checkbox":$.each($('#field-settings-form [type="checkbox"]'),(function(){$(this).removeAttr("checked")})),"on"==a.value&&i.prop("checked",!0);break;case"select":if("belongsToManyRelationship"==n&&"related_model"==a.name){$("#field-settings-button").prop("disabled",!0);var o=app.modulesFieldSettingsCreate.getByName(t,"field_show");setTimeout((function(){i.val(a.value).trigger("change"),setTimeout((function(){$('[name="field_show"]').val(o).trigger("change"),$("#field-settings-button").prop("disabled",!1)}),1500)}),1500)}else if("belongsToManyRelationship"==n&&"field_show"==a.name);else if("belongsToRelationship"==n&&"related_model"==a.name){$("#field-settings-button").prop("disabled",!0),o=app.modulesFieldSettingsCreate.getByName(t,"field_show");var s=app.modulesFieldSettingsCreate.getAdditionalFields(t);setTimeout((function(){i.val(a.value).trigger("change"),setTimeout((function(){$('[name="field_show"]').val(o).trigger("change"),$.each($('[name="additional_fields"] > option'),(function(){s.includes($(this).attr("value"))&&$(this).prop("selected",!0)})),$("#field-settings-button").prop("disabled",!1)}),1500)}),1e3)}else i.val(a.value);break;default:if(e.includes(n)){if(i.length<1){var r=a.name.split("["),l=r[1].match(/\d+/g);if("choices_database_value"==r[0]){var p="<tr>";p+="<td>",p+='<input type="text" class="form-control" name="'+r[0]+"["+l[0]+']" value="'+a.value+'" required data-validation="required|'+app.trans("The database value field is required.")+'">',p+="</td>",p+="<td>",p+='<input type="text" class="form-control" name="choices_label_text['+l[0]+']" value="'+a.value+'" required data-validation="required|'+app.trans("The label text field is required.")+'">',p+="</td>",p+="<td>",p+='<button type="button" class="btn btn-danger btn-sm btn-remove-field-choice"><i class="fas fa-trash"></i></button>',p+="</td>",p+="</tr>",$(".table-field-choices tbody").append(p),$('#field-settings-form [name="'+a.name+'"]').val(a.value)}}i.val(a.value)}else i.val(a.value)}}}))}))},app.modulesCreate.checkboxCrudTypes=function(){$('[name="included[admin]"]').on("click",(function(){$(this).is(":checked")||$('[name="included[user]"]').is(":checked")||$(this).prop("checked",!0)})),$('[name="included[user]"]').on("click",(function(){$(this).is(":checked")||$('[name="included[admin]"]').prop("checked",!0)}))},app.modulesCreate.init=function(){$(this.config.form).on("submit",this.ajax.bind(this)),app.modulesCreate.name(),app.modulesCreate.type(),app.modulesCreate.inCreate(),app.modulesCreate.iconPicker(),app.modulesCreate.softDeletes(),app.modulesCreate.deleteField(),app.modulesCreate.fieldParser(),app.modulesCreate.fieldStatus(),app.modulesCreate.editFieldSettings(),app.modulesCreate.checkboxCrudTypes()},$(document).ready(app.modulesCreate.init())}(),function(){"use strict";app.modulesDelete={},app.modulesDelete.config={button:".btn-modules-delete"},app.modulesDelete.ajax=function(a){$(document).delegate(app.modulesDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to remove this module!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=a.parents(".tb-actions-column").find(".dropdown-toggle"),n=t.html();$.ajax({type:"DELETE",url:"/admin/module/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(t,n)}})}}})}))},app.modulesDelete.init=function(){app.modulesDelete.ajax()},$(document).ready(app.modulesDelete.init())}(),function(){"use strict";app.modulesFieldChoices={},app.modulesFieldChoices.addNew={},app.modulesFieldChoices.addNew.config={table:".table-field-choices"},app.modulesFieldChoices.addNew.template=function(a){var e="<tr>";return e+='<td><input type="text" class="form-control" name="choices_database_value['+a+']" required data-validation="required|'+app.trans("The database value field is required.")+'"></td>',e+='<td><input type="text" class="form-control" name="choices_label_text['+a+']" required data-validation="required|'+app.trans("The label text field is required.")+'"></td>',(e+='<td><button type="button" class="btn btn-danger btn-sm btn-remove-field-choice"><i class="fas fa-trash"></i></td>')+"</tr>"},app.modulesFieldChoices.addNew.add=function(){$(document).delegate(".btn-add-new-key-value","click",(function(){var a=$(app.modulesFieldChoices.addNew.config.table+"> tbody > tr").length;$(app.modulesFieldChoices.addNew.config.table+" tbody").append(app.modulesFieldChoices.addNew.template(a))}))},app.modulesFieldChoices.addNew.init=function(){app.modulesFieldChoices.addNew.add()},$(document).ready(app.modulesFieldChoices.addNew.init())}(),function(){"use strict";app.modulesFieldChoices.remove={},app.modulesFieldChoices.remove.config={button:".btn-remove-field-choice"},app.modulesFieldChoices.remove.execute=function(){$(document).delegate(app.modulesFieldChoices.remove.config.button,"click",(function(){$(this).parents("td").parents("tr").remove()}))},app.modulesFieldChoices.remove.init=function(){app.modulesFieldChoices.remove.execute()},$(document).ready(app.modulesFieldChoices.remove.init())}(),function(){"use strict";app.modulesFieldExtraOptions={},app.modulesFieldExtraOptions.template={},app.modulesFieldExtraOptions.template.get=function(a){return void 0!==app.modulesFieldExtraOptions.template[a]?app.modulesFieldExtraOptions.template[a]():""}}(),function(){"use strict";app.modulesFieldGenerator={},app.modulesFieldGenerator.visibility=function(a,e){return"on"==app.modulesHelper.getData(a,e)?'<i class="fas fa-check text-success text-bold field-status" data-field-type="'+e+'" data-field-status="1"></i>':'<i class="fas fa-times text-danger text-bold field-status" data-field-type="'+e+'" data-field-status="0"></i>'},app.modulesFieldGenerator.rule=function(a,e){return"optional"!=app.modulesHelper.getData(a,e)?'<i class="fas fa-check text-success text-bold field-status" data-field-type="'+e+'" data-field-status="1"></i>':'<i class="fas fa-times text-danger text-bold field-status" data-field-type="'+e+'" data-field-status="0"></i>'},app.modulesFieldGenerator.template=function(a){var e=a;a=JSON.parse(a);var t=app.modulesHelper.getData(a,"field_database_column"),n="";return n+="<tr class='field_"+t+"'>",n+="<th class='display-none'>&nbsp;<input name='fields["+t+"]' type='hidden' value='"+e+"' class='crud-field'> </th>",n+='<td class="field-handle-column"><span><i class="fas fa-arrows-alt drag-handle"></i></span></td>',n+="<td>"+app.modulesHelper.getData(a,"field_type")+"</td>",n+="<td>"+t+"</td>",n+="<td>"+app.modulesHelper.getData(a,"field_visual_title")+"</td>",n+="<td>"+app.modulesFieldGenerator.visibility(a,"in_list")+"</td>",n+="<td>"+app.modulesFieldGenerator.visibility(a,"in_create")+"</td>",n+="<td>"+app.modulesFieldGenerator.visibility(a,"in_edit")+"</td>",n+="<td>"+app.modulesFieldGenerator.visibility(a,"in_show")+"</td>",n+="<td>"+app.modulesFieldGenerator.visibility(a,"is_sortable")+"</td>",n+="<td>"+app.modulesFieldGenerator.rule(a,"field_validation")+"</td>",n+='<td><button type="button" class="btn btn-info btn-sm edit-field-settings" data-toggle="modal" data-target="#field-settings-modal" data-backdrop="static" data-keyboard="false"><i class="fas fa-edit"></i></button></td>',(n+='<td><button type="button" class="btn btn-danger btn-sm delete-field-settings"><i class="fas fa-trash"></i></button></td>')+"</tr>"},app.modulesFieldGenerator.softDelete=function(){var a='<tr><th class="display-none">&nbsp;<input name="fields[deleted_at]" type="hidden" value=\'[{"name":"field_id","value":"000000003_deleted_at"},{"name":"field_type","value":"text"},{"name":"field_visual_title","value":"'+app.trans("Deleted at")+'"},{"name":"field_database_column","value":"deleted_at"},{"name":"field_validation","value":"optional"},{"name":"field_tooltip","value":""},{"name":"in_list","value":"off"},{"name":"in_create","value":"off"},{"name":"in_edit","value":"off"},{"name":"in_show","value":"off"},{"name":"is_sortable","value":"off"}]\' class="crud-field"></th>';return a+="<td><span>&nbsp;</span></td>",a+="<td>datetime</td>",a+="<td>deleted_at</td>",a+="<td>"+app.trans("Deleted at")+"</td>",a+='<td><i class="fas fa-times text-danger text-bold field-status" data-field-type="in_list" data-field-status="0"></i></td>',a+="<td></td>",a+="<td></td>",a+='<td><i class="fas fa-times text-danger text-bold field-status"  data-field-type="in_show" data-field-status="0"></i></td>',a+="<td></td>",a+="<td></td>",a+="<td></td>",(a+="<td></td>")+"</tr>"}}(),function(){"use strict";app.modulesFieldUpdateValueByKey={},app.modulesFieldUpdateValueByKey.set=function(a,e,t){t="field_validation"==e?1==t?"required":"optional":1==t?"on":"off";var n=0;return $.each(a,(function(){this.name==e&&(n=1,this.value=t)})),0==n&&a.push({name:e,value:t}),a}}(),function(){"use strict";app.modulesFieldSettingsCreate={},app.modulesFieldSettingsCreate.config={form:"#field-settings-form",route:"/admin/module/create"},app.modulesFieldSettingsCreate.validator=function(){var a=[];return $.each($("#field-settings-form input, #field-settings-form textarea, #field-settings-form select"),(function(){$(this).parents(".form-group").find(".message").remove(),$(this).parent("td").find(".message").remove(),""==$(this).val()&&""!=app.modulesFieldSettingsCreate.validatorGetMessageByKey($(this),"required")&&($(this).parent("td").length?($(this).parents("td").addClass("error"),$(this).parents("td").append("<p class='message'>"+app.modulesFieldSettingsCreate.validatorGetMessageByKey($(this),"required")+"</p>")):($(this).parents(".form-group").addClass("error"),$(this).parents(".form-group").append("<p class='message'>"+app.modulesFieldSettingsCreate.validatorGetMessageByKey($(this),"required")+"</p>")),$(this).on("keyup, change",(function(){$(this).parents(".form-group").removeClass("error"),$(this).parents(".form-group").find(".message").remove(),$(this).parent("td").removeClass("error"),$(this).parent("td").find(".message").remove()})),a.push(1)),app.modulesFieldSettingsCreate.isDatabaseFieldExist($(this).val())&&""!=app.modulesFieldSettingsCreate.validatorGetMessageByKey($(this),"unique")&&($(this).parents(".form-group").addClass("error"),$(this).parents(".form-group").append("<p class='message'>"+app.modulesFieldSettingsCreate.validatorGetMessageByKey($(this),"unique")+"</p>"),$(this).on("keyup",(function(){$(this).parents(".form-group").removeClass("error"),$(this).parents(".form-group").find(".message").remove()})),a.push(1))})),a},app.modulesFieldSettingsCreate.validatorGetMessageByKey=function(a,e){var t="";return $.each(void 0!==a.attr("data-validation")&&a.attr("data-validation").split(","),(function(a,n){var i=n.split("|");i[0]===e&&(t=i[1])})),t},app.modulesFieldSettingsCreate.isDatabaseFieldExist=function(a){var e=[],t=$('#field-settings-form [name="field_id"]').length,n=$('#field-settings-form [name="field_id"]').val();return $(".crud-field").each((function(){var i=JSON.parse($(this).val());$.each(i,(function(o,s){"field_database_column"==s.name&&(t?s.value==a&&app.modulesFieldSettingsCreate.getByName(i,"field_id")!=n&&e.push(1):s.value==a&&e.push(1))}))})),e.length>0},app.modulesFieldSettingsCreate.getByName=function(a,e){var t=!1;return $.each(a,(function(){this.name==e&&(t=this.value)})),t},app.modulesFieldSettingsCreate.getAdditionalFields=function(a){var e=[];return $.each(a,(function(){"additional_fields"==this.name&&e.push(this.value)})),e},app.modulesFieldSettingsCreate.reset=function(){$("#field-settings-form").trigger("reset"),$('#field-settings-form [name="field_id"]').remove(),$.each($('#field-settings-form [type="checkbox"]'),(function(){$(this).prop("checked",!0)})),$("#field-settings-form .error .message").remove(),$("#field-settings-form .error").removeClass("error"),$.each($("#type option"),(function(){$(this).removeAttr("selected")})),$.each($("#type option"),(function(){"text"==$(this).attr("value")&&$(this).attr("selected","selected")})),$("#type").trigger("change")},app.modulesFieldSettingsCreate.isIdExist=function(a){var e=[];return $.each($(".crud-field"),(function(){var t=$(this).val();t=JSON.parse(t),app.modulesFieldSettingsCreate.getByName(t,"field_id")==a&&e.push(1)})),e.length>0},app.modulesFieldSettingsCreate.button=function(){$("#field-settings-button").on("click",(function(){if(app.modulesFieldSettingsCreate.validator().length<1){var a=$(app.modulesFieldSettingsCreate.config.form).serializeArray(),e=app.modulesFieldSettingsCreate.getByName(a,"field_id");!1===e&&(e=Math.random().toString().substr(2,10)+"_"+app.modulesFieldSettingsCreate.getByName(a,"field_database_column"),a.push({name:"field_id",value:e}));var t=app.modulesFieldGenerator.template(window.JSON.stringify(a)),n=app.modulesOrderByGenerator.template(window.JSON.stringify(a));app.modulesFieldSettingsCreate.isIdExist(e)?$.each($(".crud-field"),(function(){var a=$(this).val();a=JSON.parse(a),app.modulesFieldSettingsCreate.getByName(a,"field_id")==e&&($(this).parents("tr").before(t),$(this).parents("tr").remove())})):$("#fields-table > tbody#fields").append(t),$('[name="order_by_column"]').append(n),$("#field-settings-modal").modal("hide"),app.modulesFieldSorter.modifyColumnStyles(),app.modulesFieldSettingsCreate.reset()}}))},app.modulesFieldSettingsCreate.close=function(){$('#field-settings-modal [data-dismiss="modal"]').on("click",(function(){app.modulesFieldSettingsCreate.reset()}))},app.modulesFieldSettingsCreate.init=function(){app.modulesFieldSettingsCreate.button(),app.modulesFieldSettingsCreate.close()},$(document).ready(app.modulesFieldSettingsCreate.init())}(),function(){"use strict";app.modulesHelper={},app.modulesHelper.getData=function(a,e){var t,n=a.map((function(a){return a.name==e?a.value:""}));return $.each(n,(function(a,e){""!=e&&(t=e)})),t}}(),function(){"use strict";app.modulesOrderByGenerator={},app.modulesOrderByGenerator.template=function(a){return a=JSON.parse(a),""+'<option value="'+app.modulesHelper.getData(a,"field_database_column")+'">'+app.modulesHelper.getData(a,"field_visual_title")+"</option>"}}(),function(){"use strict";app.modulesRunMigrations={},app.modulesRunMigrations.config={migrationCheck:"/admin/module/migration-check",migrationRun:"/admin/module/migration-run",elementMessageId:"#modules-message"},app.modulesRunMigrations.migrationCheck=function(){$(app.modulesRunMigrations.config.elementMessageId).length&&$.ajax({type:"GET",url:this.config.migrationCheck,success:function(a){a>0&&app.modulesRunMigrations.migrationRun()}})},app.modulesRunMigrations.migrationRun=function(){$.ajax({type:"GET",url:this.config.migrationRun,beforeSend:function(){app.modulesRunMigrations.showMessage(app.trans("Please wait currently running migration."))},success:function(a){app.modulesRunMigrations.hideMessage()}})},app.modulesRunMigrations.hideMessage=function(){$(app.modulesRunMigrations.config.elementMessageId).html(""),$(app.modulesRunMigrations.config.elementMessageId).hide()},app.modulesRunMigrations.showMessage=function(a){$(app.modulesRunMigrations.config.elementMessageId).html('<i class="fas fa-spinner fa-spin"></i> '+a),$(app.modulesRunMigrations.config.elementMessageId).show()},app.modulesRunMigrations.init=function(){app.modulesRunMigrations.migrationCheck()},$(document).ready(app.modulesRunMigrations.init())}(),function(){"use strict";app.modulesDatatable={},app.modulesDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete module(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.modulesDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.modulesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.modulesDatatable.restore=function(){$(document).delegate(".btn-modules-restore","click",(function(){var a=$(this).attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this module!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"post",url:app.modulesDatatable.config.restore.route,data:{id:a},success:function(a,e,t){app.notify(a.message),app.modulesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.modulesDatatable.forceDelete=function(){$(document).delegate(".btn-modules-force-delete","click",(function(){var a=$(this).attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this module!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"delete",url:app.modulesDatatable.config.forceDelete.route,data:{id:a},success:function(a,e,t){app.notify(a.message),app.modulesDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.modulesDatatable.config={delete:{route:"/admin/module/multi-delete"},restore:{route:"/admin/module/restore"},forceDelete:{route:"/admin/module/force-delete"},datatable:{selectable:!1,src:"/admin/module/datatable",resourceName:{singular:"module",plural:"modules"},columns:[{title:app.trans("Id"),key:"id",classes:"modules-id-column tb-id-column"},{title:app.trans("Name"),key:"name",classes:"modules-name-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"modules-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';if(e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',0==a.is_core){var t="";void 0!==a.attributes.included.admin&&"on"==a.attributes.included.admin?t="admin/":void 0!==a.attributes.included.user&&"on"==a.attributes.included.user&&(t="user/"),e+='<a class="dropdown-item" href="/'+t+a.handle+'"><i class="fas fa-eye"></i> '+app.trans("View")+"</a>",app.can("admin.modules.edit")&&(e+='<a class="dropdown-item" href="/admin/module/'+a.id+'/edit"><i class="fas fa-retweet"></i> '+app.trans("Rebuild")+"</a>"),app.can("admin.modules.show-language")&&(e+='<a class="dropdown-item" href="/admin/module/'+a.id+'/show/languages"><i class="fas fa-language"></i> '+app.trans("Edit Language")+"</a>"),app.can("admin.modules.delete")&&(e+='<a class="dropdown-item btn-modules-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Remove")+"</a>")}else app.can("admin.modules.show-language")&&(e+='<a class="dropdown-item" href="/admin/module/'+a.id+'/show/languages"><i class="fas fa-language"></i> '+app.trans("Edit Language")+"</a>");return e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No modules were found!")},filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("Core"),filters:[{key:"status",value:"Core"}]}],filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Core"),value:"Core"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"name__asc",label:app.trans("Name")+" ( A - Z )"},{value:"name__desc",label:app.trans("Name")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.modulesDatatable.delete,status:"error"}],limit:25}},app.modulesDatatable.init=function(){app.modulesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.modulesDatatable.tb=$("#modules-datatable").JsDataTable(this.config.datatable)),app.modulesDatatable.restore(),app.modulesDatatable.forceDelete()},$(document).ready(app.modulesDatatable.init())}(),function(){"use strict";app.modulesEditLanguageDatatable={},app.modulesEditLanguageDatatable.getId=function(){return $("#module-edit-language-datatable").data("id")},app.modulesEditLanguageDatatable.getCode=function(){return $("#module-edit-language-datatable").data("code")},app.modulesEditLanguageDatatable.route=function(){return"/admin/module/edit-language-datatable/"+app.modulesEditLanguageDatatable.getId()+"/"+app.modulesEditLanguageDatatable.getCode()},app.modulesEditLanguageDatatable.btnEditStatus=function(a){a.parents("form").find(".module-phrase-txt").hide(),a.parents("form").find(".module-phrase-txtbox").show(),a.parents("form").find(".btn-translate-module-lang-phrase").hide(),a.parents("form").find(".btn-save-module-lang-phrase").show(),a.parents("form").find(".btn-cancel-module-lang-phrase").show(),a.hide()},app.modulesEditLanguageDatatable.btnCancelStatus=function(a){a.parents("form").find(".module-phrase-txt").show(),a.parents("form").find(".btn-edit-module-lang-phrase").show(),a.parents("form").find(".btn-translate-module-lang-phrase").show(),a.parents("form").find(".module-phrase-txtbox").hide(),a.parents("form").find(".btn-save-module-lang-phrase").hide(),a.parents("form").find(".btn-cancel-module-lang-phrase").hide()},app.modulesEditLanguageDatatable.editModulePhrase=function(){$(document).delegate(".btn-edit-module-lang-phrase","click",(function(){app.modulesEditLanguageDatatable.btnEditStatus($(this)),$(this).parents("form").addClass("table-form-language-editing")})),$(document).delegate(".btn-cancel-module-lang-phrase","click",(function(){app.modulesEditLanguageDatatable.btnCancelStatus($(this)),$(this).parents("form").removeClass("table-form-language-editing")})),$(document).delegate(".btn-translate-module-lang-phrase","click",(function(){var a=$(this),e=a.html(),t=a.parents("form").attr("id"),n=a.parents("form").find('[name="id"]').val(),i=a.parents("form").find('[name="code"]').val(),o=a.parents("form").find('[name="key"]').val(),s=a.parents("form").find('[name="value"]').val();$.ajax({type:"POST",url:"/admin/module/translate-module-language",data:{id:n,code:i,key:o,value:s},dataType:"JSON",beforeSend:function(){app.buttonLoader(a)},success:function(t,n,i){app.notify(t.message),a.parents("form").find(".module-phrase-txt").text(t.data.value),a.parents("form").find('[name="value"]').val(t.data.value),app.backButtonContent(a,e),a.parents("form").removeClass("table-form-language-editing")},error:function(n,i,o){var s=n;app.formErrors("#"+t,s.responseJSON,s.status),app.backButtonContent(a,e)}})})),$(document).delegate(".btn-save-module-lang-phrase","click",(function(){var a=$(this),e=a.html(),t=a.parents("form").attr("id"),n=a.parents("form").find('[name="id"]').val(),i=a.parents("form").find('[name="code"]').val(),o=a.parents("form").find('[name="key"]').val(),s=a.parents("form").find('[name="value"]').val();$.ajax({type:"POST",url:"/admin/module/update-module-language",data:{id:n,code:i,key:o,value:s},dataType:"JSON",beforeSend:function(){app.buttonLoader(a)},success:function(t,n,i){app.notify(t.message),a.parents("form").find(".module-phrase-txt").text(s),app.backButtonContent(a,e),app.modulesEditLanguageDatatable.btnCancelStatus(a),a.parents("form").removeClass("table-form-language-editing")},error:function(n,i,o){var s=n;app.formErrors("#"+t,s.responseJSON,s.status),app.backButtonContent(a,e)}})}))},app.modulesEditLanguageDatatable.config={datatable:{src:app.modulesEditLanguageDatatable.route(),resourceName:{singular:app.trans("module language"),plural:app.trans("module languages")},columns:[{title:app.trans("Key"),key:"key",classes:"languages-key-column"},{title:app.trans("Value"),key:"value",classes:"languages-value-column",element:function(a){var e='<form id="form-lang-'+a.key.replace(/[^A-Za-z]/g,"").replace(/ /g,"-")+'">';return e+='<span class="module-phrase-txt">'+a.value+"</span><br>",e+='<input type="hidden" name="id" class="form-control" value="'+app.modulesEditLanguageDatatable.getId()+'">',e+='<input type="hidden" name="code" class="form-control" value="'+app.modulesEditLanguageDatatable.getCode()+'">',e+="<input type='hidden' name='key' class='form-control' value='"+a.key.replace(/'/g,"&#39;")+"'>",e+="<div class='form-group'><input type='text' name='value' class='form-control module-phrase-txtbox' value='"+a.value.replace(/'/g,"&#39;")+"'></div>",e+='<button type="button" class="btn btn-default btn-sm btn-edit-module-lang-phrase mr-1"> <i class="fas fa-edit"></i> '+app.trans("Edit")+"</button>","en"!=app.modulesEditLanguageDatatable.getCode()&&(e+='<button type="button" class="btn btn-success btn-sm btn-translate-module-lang-phrase mr-1"> <i class="fas fa-language"></i> '+app.trans("Translate")+"</button>"),e+='<button type="button" class="btn btn-primary btn-sm btn-save-module-lang-phrase mr-1"> <i class="fas fa-save"></i> '+app.trans("Save")+"</button>",e+='<button type="button" class="btn btn-warning btn-sm btn-cancel-module-lang-phrase"> <i class="fas fa-times"></i> '+app.trans("Cancel")+"</button>",e+="</form>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No module languages were found!")},filterTabs:[{label:app.trans("All"),filters:[]}],sortControl:{value:"id_asc",options:[{value:"id_asc",label:app.trans("Oldest")},{value:"id_desc",label:app.trans("Latest")}]},limit:25}},app.modulesEditLanguageDatatable.init=function(){app.modulesEditLanguageDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.modulesEditLanguageDatatable.tb=$("#module-edit-language-datatable").JsDataTable(this.config.datatable)),app.modulesEditLanguageDatatable.editModulePhrase()},$(document).ready(app.modulesEditLanguageDatatable.init())}(),function(){"use strict";app.modulesFieldSorter={},app.modulesFieldSorter.modifyColumnStyles=function(){$("#module-fields-datatable table tbody#fields td").each((function(){$(this).css({width:$(this).outerWidth(),background:"white"})}))},app.modulesFieldSorter.init=function(){void 0!==$.fn.sortable&&(app.modulesFieldSorter.modifyColumnStyles(),$("#module-fields-datatable tbody#fields").sortable({delay:150,handle:".drag-handle",cursor:"move",axis:"y",placeholder:"placeholder"}))},$(document).ready(app.modulesFieldSorter.init())}(),function(){"use strict";app.modulesLanguageDatatable={},app.modulesLanguageDatatable.config={datatable:{selectable:!1,src:"/admin/module/language-datatable",resourceName:{singular:app.trans("module language"),plural:app.trans("module languages")},columns:[{title:app.trans("Title"),key:"title",classes:"languages-title-column",element:function(a){var e="<span>"+a.title;return $(e+="</span>")}},{title:app.trans("Active"),key:"active",classes:"module-language-active-column",element:function(a){var e='<div class="custom-control custom-checkbox">';return e+='<input type="checkbox" class="custom-control-input" id="col-'+a.id+'" '+(1==a.active?"checked":"")+" disabled>",e+='<label class="custom-control-label" for="col-'+a.id+'"></label>',e+="</div>",$(e)}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"languages-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';if(e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at){var t=$("#module-language-datatable").data("id");app.can("admin.modules.edit-language")&&(e+='<a class="dropdown-item" href="/admin/module/'+t+"/edit/language/"+a.code+'"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>")}return e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No module languages were found!")},filterTabs:[{label:app.trans("All"),filters:[]}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")}]},limit:10}},app.modulesLanguageDatatable.init=function(){app.modulesLanguageDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.modulesLanguageDatatable.tb=$("#module-language-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.modulesLanguageDatatable.init())}(),function(){"use strict";app.cancelOrder={},app.cancelOrder.config={button:".btn-cancel-order"},app.cancelOrder.process=function(){$(document).delegate(this.config.button,"click",(function(){var a=$(this).data("route");bootbox.prompt({title:app.trans("Reason to cancel (optional)"),inputType:"textarea",callback:function(e){if(null!==e){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Cancelling order")+"...</p>",closeButton:!1});$.ajax({type:"POST",url:a,data:{reason:e},success:function(a,e,n){app.notify(a.message),app.userOrderDatatable.table?app.userOrderDatatable.table.refresh():a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){t.modal("hide")}),350)},error:function(a,e,n){var i=a;setTimeout((function(){t.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}}})}))},app.cancelOrder.init=function(){app.cancelOrder.process()},$(document).delegate(app.cancelOrder.init())}(),function(){"use strict";app.orderTrackingTransition={},app.orderTrackingTransition.config={button:".btn-tracking-transition"},app.orderTrackingTransition.route=function(a){return"/admin/orders/"+a+"/update-tracking-state"},app.orderTrackingTransition.initTransition=function(){var a=this;$(document).delegate(a.config.button,"click",(function(){var e=$(this).data("id"),t=$(this).data("status");bootbox.confirm({title:app.trans("Update tracking status?"),message:app.trans("You are going to update the status. Do you want to proceed?"),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Confirm")}},callback:function(n){if(n){var i=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Updating tracking status")+"...</p>",closeButton:!1});$.ajax({type:"POST",data:{status:t},url:a.route(e),success:function(a,e,t){app.notify(a.message),setTimeout((function(){app.userOrderDatatable.table&&app.userOrderDatatable.table.refresh(),app.adminOrderDatatable.table&&app.adminOrderDatatable.table.refresh()}),350)},complete:function(a){setTimeout((function(){i.modal("hide")}),350)},error:function(a,e,t){var n=a;app.notify(n.responseJSON.message),setTimeout((function(){i.modal("hide")}),350)}})}}})}))},app.orderTrackingTransition.init=function(){this.initTransition()},$(document).ready(app.orderTrackingTransition.init())}(),app.createPackage={},app.createPackage.config={button:"#btn-create-package",infoForm:"#package-information",form:"#package-form",route:"/admin/subscriptions/packages/create",priceTermToggler:".recurring-term-checkbox",packageFeatureList:"#package-feature-reorder-list"},app.createPackage.data=function(){var a={};$(this.config.infoForm).serializeArray().map((function(e){a[e.name]=e.value})),a.prices=$(app.package.config.pricingList).find(".accordion").map((function(a,e){var t=e.dataset.id,n=(e=$(e)).find('[name="pricing-'+t+'-trial_days_count"]').val(),i=e.find(".planType.active").data("id");return{package_term_id:"recurring"===i?e.find('[name="pricing-'+t+'-term"]').val():null,price:e.find('[name="pricing-'+t+'-price"]').val(),compare_at_price:e.find('[name="pricing-'+t+'-compare-price"]').val(),trial_days_count:"recurring"===i?n:0,currency:e.find('[name="pricing-'+t+'-currency"]').val(),type:i}})).get();var e=app.packageExtraCondition.getData();return e.length&&(a.extra_conditions=e),a.features=$(this.config.form).find(".package-feature:checked").map((function(){return this.dataset.id})).get(),a.limits=$(".package-permission-module-select:checked").map((function(a,e){var t=$(e).parents("tr"),n=t.find(".package-permission-limit"),i=t.find(".package-permission-term");return{permission_id:parseInt(e.dataset.id),limit:n.val(),term:i.val()}})).get(),a},app.createPackage.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html();$.ajax({type:"POST",url:a.config.route,data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(t,i,o){var s=t;app.backButtonContent(e,n),app.formErrors(a.config.infoForm,s.responseJSON,s.status)}})},app.createPackage.create=function(){var a=this;$(a.config.button).on("click",(function(){a.ajax()}))},app.createPackage.addFeature=function(a){$("#package-feature-reorder-list .no-feature-found").length&&$("#package-feature-reorder-list .no-feature-found").remove();var e='<li class="media align-items-center">';e+='<span class="package-feature-handle-column mr-4"><span data-id="'+a.id+'" data-ordering="'+a.ordering+'"><i class="fas fa-arrows-alt drag-handle ui-sortable-handle"></i></span></span>',e+='<div class="custom-control custom-checkbox">',e+='<input type="checkbox" class="custom-control-input package-feature" id="feature-'+a.id+'" data-id="'+a.id+'">',e+='<label class="custom-control-label" for="feature-'+a.id+'"></label>',e+='</div><div class="media-body"><h6 class="media-title mb-0">'+a.title+"</h6></div></li>",$(this.config.packageFeatureList).append(e),$("#package-feature-reorder-list").sortable("refresh")},app.createPackage.init=function(){this.create(),app.initSelect2()},$(document).ready(app.createPackage.init()),app.packageDatatable={},app.packageDatatable.deletePackages=function(a){a.length&&bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove selected packages."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resources")+"...</p>",closeButton:!1});$.ajax({type:"POST",url:app.packageDatatable.config.destroyPackagesRoute,data:{packages:a.map((function(a){return a.id}))},beforeSend:function(){},success:function(a,e,n){app.notify(a.message),setTimeout((function(){t.modal("hide"),app.packageDatatable.datatable.refresh()}),350)},complete:function(a){},error:function(a,e,n){var i=a;setTimeout((function(){t.modal("hide"),bootbox.alert(i.responseJSON.message)}),500)}})}}})},app.packageDatatable.config={enablePackagesRoute:"/admin/subscriptions/packages/enable",disablePackagesRoute:"/admin/subscriptions/packages/disable",destroyPackagesRoute:"/admin/subscriptions/packages/delete",datatable:{src:"/admin/subscriptions/packages/datatable",resourceName:{singular:app.trans("package"),plural:app.trans("packages")},columns:[{title:app.trans("Name"),key:"name",classes:"w-75",element:function(a){var e='<div class="d-flex flex-column">';return e+='<a href="/admin/subscriptions/packages/'+a.id+'" class="fw-bolder"><strong>'+a.name+"</strong></a>",e+="<span>"+a.description+"</span>",e+="</div>",$(e)}},{title:app.trans("Created On"),key:"created_at",classes:"hidden md:table-cell",searchable:!1,style:{width:"160px"},element:function(a){return $("<span>"+a.created+"</span>")}},{title:app.trans("Actions"),key:"actions",classes:"package-action-column text-right",searchable:!1,element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/subscriptions/packages/'+a.id+'"><i class="fas fa-eye"></i> View</a>',e+='<a class="dropdown-item text-danger btn-delete-package" href="#" data-href="/admin/subscriptions/packages/delete?packages='+a.id+'"><i class="fas fa-trash"></i> Delete</a>',e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No packages were found!")},sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:"Latest Created"},{value:"created_at__asc",label:"Oldest Created"},{value:"name__asc",label:"Name ( A - Z )"},{value:"name__desc",label:"Name ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected packages"),onAction:app.packageDatatable.deletePackages,status:"error"}],limit:25}},app.packageDatatable.loadAjaxheaders=function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})},app.packageDatatable.sections=function(){$(".package-sections a").click((function(){$(".package-sections a").removeClass("active"),$(this).addClass("active")}))},app.packageDatatable.sticky=function(a){void 0!==$.fn.stickySidebar&&$(".sidebar-item").stickySidebar({topSpacing:0,container:".wrapper-main",sidebarInner:".make-me-sticky"})},app.packageDatatable.init=function(){this.loadAjaxheaders(),this.datatable=!1,void 0!==$.fn.JsDataTable&&$("#packages-datatable").length&&(this.datatable=$("#packages-datatable").JsDataTable(this.config.datatable))},app.packageDatatable.init(),app.deletePackage={},app.deletePackage.config={button:".btn-delete-package"},app.deletePackage.ajax=function(a){bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove package."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resources")+"...</p>",closeButton:!1});$.ajax({type:"POST",url:a,success:function(a,e,n){setTimeout((function(){app.notify(a.message),t.modal("hide"),app.packageDatatable.datatable?app.packageDatatable.datatable.refresh():a.data.redirectTo&&app.redirect(a.data.redirectTo)}),250)},error:function(a,e,n){var i=a;setTimeout((function(){t.modal("hide"),bootbox.alert(i.responseJSON.message)}),500)}})}}})},app.deletePackage.init=function(){var a=this;$(document).delegate(a.config.button,"click",(function(){var e=$(this).data("href");a.ajax(e)}))},$(document).ready(app.deletePackage.init()),function(){"use strict";app.packageExtraConditionCreate={},app.packageExtraConditionCreate.config={button:"#btn-create-package-extra-condition",form:"#create-package-extra-condition-form",modal:"#create-package-extra-condition-modal"},app.packageExtraConditionCreate.getRoute=function(){return $(this.config.form).data("route")},app.packageExtraConditionCreate.data=function(){var a=$(this.config.form).serializeArray();return a.push({name:"type",value:$(this.config.form).find(".planType.active").data("id")}),a},app.packageExtraConditionCreate.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html();$.ajax({type:"POST",url:a.getRoute(),data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.notify(e.message),app.closeModal(),$(a.config.modal).modal("hide"),app.packageExtraConditionDatatable.getItems()},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(e,t,n){var i=e;app.formErrors(a.config.form,i.responseJSON,i.status)}})},app.packageExtraConditionCreate.clearModal=function(){$(this.config.form).find("#name").val(""),$(this.config.form).find("#description").val(""),$(this.config.form).find("#shortcode").val(""),$(this.config.form).find("#value").val("")},app.packageExtraConditionCreate.init=function(){var a=this;$(document).delegate(this.config.button,"click",(function(){a.ajax()})),$(a.config.modal).on("hidden.bs.modal",(function(){a.clearModal()}))},$(document).ready(app.packageExtraConditionCreate.init())}(),function(){"use strict";app.packageExtraConditionDatatable={},app.packageExtraConditionDatatable.config={listContainer:"#package-extra-condition-table",items:[],noItemHtml:'<div class="w-100 d-flex d-flex justify-content-center align-items-center" style="height: 200px;"><div class="d-flex flex-column align-items-center"><i class="fas fa-tags mb-1" style="font-size: 20px;"></i><p style="font-size: 16px;">'+app.trans("No extra conditions set")+"</p></div></div>",removeBtn:".btn-delete-package-extra-condition-item"},app.packageExtraConditionDatatable.getRoute=function(){return"/admin/subscriptions/packages/"+$(this.config.listContainer).data("id")+"/extra-conditions/datatable"},app.packageExtraConditionDatatable.loader=function(){var a='<div class="w-100" style="height: 200px;">';return a+='<div class="h-100 d-flex justify-content-center align-items-center">',(a+='<a href="#" class="btn disabled btn-secondary btn-progress">'+app.trans("Progress")+"</a>")+"</div></div>"},app.packageExtraConditionDatatable.loadTable=function(a){this.config.items=a;var e=$(this.config.listContainer);if(e.html(""),a.length){var t=$('<table class="table">');e.append(t),t.append("<thead><tr><th>"+app.trans("Name")+"</th><th>"+app.trans("Shortcode")+"</th><th>"+app.trans("Value")+'</th><th style="width: 80px;"></th></tr></thead><tbody></tbody>');for(var n=0;n<a.length;n++){var i=a[n],o=$("<tr>");o.append("<td>"+i.name+"</td>"),o.append("<td>"+i.shortcode+"</td>"),o.append("<td>"+i.value+"</td>"),o.append('<td><div class="d-flex"><button type="button" class="btn btn-icon text-success btn-edit-package-extra-condition-item" data-id="'+i.id+'"><i class="fas fa-pencil-alt"></i></button><button type="button" class="btn btn-icon text-danger btn-delete-package-extra-condition-item" data-route="/admin/subscriptions/packages/'+i.package_id+"/extra-conditions/"+i.id+'/delete"><i class="fas fa-trash-alt"></i></button></div></td>'),t.find("tbody").append(o)}}else e.html(this.config.noItemHtml)},app.packageExtraConditionDatatable.delete=function(){var a=this;$(document).delegate(a.config.removeBtn,"click",(function(){var e=$(this).data("route");e&&bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove package extra condition."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,success:function(e,t,i){app.notify(e.message),setTimeout((function(){a.getItems(),n.modal("hide")}),350)},error:function(a,e,t){var i=a;setTimeout((function(){app.notify(i.responseJSON.message),n.modal("hide")}))}})}}})}))},app.packageExtraConditionDatatable.getItems=function(){var a=this;$.ajax({type:"GET",url:a.getRoute(),beforeSend:function(){$(a.config.listContainer).html(a.loader(!0))},success:function(e,t,n){a.loadTable(e.data)},error:function(e,t,n){$(a.config.pricesContainer).html("")}})},app.packageExtraConditionDatatable.init=function(){$(this.config.listContainer).length&&this.getItems(),this.delete()},$(document).ready(app.packageExtraConditionDatatable.init())}(),function(){"use strict";function a(a){return function(a){if(Array.isArray(a))return e(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,t){if(a){if("string"==typeof a)return e(a,t);var n=Object.prototype.toString.call(a).slice(8,-1);return"Object"===n&&a.constructor&&(n=a.constructor.name),"Map"===n||"Set"===n?Array.from(a):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(a,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(a,e){(null==e||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}app.packageExtraCondition={},app.packageExtraCondition.config={list:"#package-extra-conditions",addNewBtn:".btn-add-package-extra-condition",removeBtn:".btn-remove-package-extra-condition",noList:"#no-package-extra-condition"},app.packageExtraCondition.newHtml=function(a){return'<div class="accordion border-top pt-3" id="package-extra-condition-panel-'.concat(a,'" data-id="').concat(a,'">\n                <div class="d-flex align-items-center justify-content-between">\n                    <div class="d-flex align-items-center justify-content-between flex-grow-1 cursor-pointer" role="button" data-toggle="collapse" data-target="#package-extra-condition-').concat(a,'" aria-expanded="true">\n                        <h6 class="price-title">').concat(app.trans("Extra condition details"),'</h6>\n                        <i class="fa fa-angle-down"></i>\n                    </div>\n                    <button type="button" class="btn btn-sm btn-danger ml-3 btn-remove-package-extra-condition" data-id="').concat(a,'">\n                        <h6 class="mb-0">&times;</h6>\n                    </button>\n                </div>\n\n                <div class="accordion-body collapse show px-0" id="package-extra-condition-').concat(a,'" data-parent="#package-extra-conditions">\n                    <div class="form-group">\n                        <label>').concat(app.trans("Name"),'</label>\n                        <input type="text" name="name" class="form-control">\n                    </div>\n                    <div class="form-group">\n                        <label>').concat(app.trans("Description"),' <span class="text-muted">(').concat(app.trans("Optional"),')</span></label>\n                        <input type="text" name="description" class="form-control">\n                    </div>\n                    <div class="form-group">\n                        <label>').concat(app.trans("Shortcode"),'</label>\n                        <input type="text" name="shortcode" class="form-control">\n                    </div>\n                    <div class="form-group mb-0">\n                        <label>').concat(app.trans("Value"),'</label>\n                        <input type="text" name="value" class="form-control">\n                    </div>\n                </div>\n            </div>')},app.packageExtraCondition.addConditionHtml=function(){var e=$(this.config.list).find(".accordion").map((function(){return parseInt(this.dataset.id)})).get(),t=Math.max.apply(Math,a(e));$(".collapse").collapse("hide"),$(this.config.list).append(this.newHtml(t+1)),$(this.config.noList).addClass("d-none")},app.packageExtraCondition.handleRemovePricing=function(a){var e=$(a.target).closest("button");$(this.config.list).find('.accordion[data-id="'+e.data("id")+'"]').remove(),$(this.config.list+" .accordion").length||$(this.config.noList).removeClass("d-none")},app.packageExtraCondition.getData=function(){return $(this.config.list).find(".accordion").map((function(a,e){return{name:$(e).find('[name="name"]').val(),description:$(e).find('[name="description"]').val(),shortcode:$(e).find('[name="shortcode"]').val(),value:$(e).find('[name="value"]').val()}})).get()},app.packageExtraCondition.init=function(){$(this.config.addNewBtn).on("click",this.addConditionHtml.bind(this)),$(document).delegate(this.config.removeBtn,"click",this.handleRemovePricing.bind(this))},$(document).ready(app.packageExtraCondition.init())}(),function(){"use strict";app.packageExtraConditionUpdate={},app.packageExtraConditionUpdate.config={button:".btn-edit-package-extra-condition-item",submit:"#btn-update-package-extra-condition",modal:"#edit-package-extra-condition-modal",form:"#edit-package-extra-condition-form"},app.packageExtraConditionUpdate.getRoute=function(a,e){return"/admin/subscriptions/packages/"+a+"/extra-conditions/"+e+"/update"},app.packageExtraConditionUpdate.data=function(){return $(this.config.form).serializeArray()},app.packageExtraConditionUpdate.ajax=function(){var a=this,e=$(a.config.submit),t=$(a.config.form).find(":submit"),n=e.html(),i=$(a.config.form).find('[name="package_id"]').val(),o=$(a.config.form).find('[name="id"]').val();$.ajax({type:"PATCH",url:a.getRoute(i,o),data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.notify(e.message),app.closeModal(),$(a.config.modal).modal("hide"),app.packageExtraConditionDatatable.getItems()},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(e,t,n){var i=e;app.formErrors(a.config.form,i.responseJSON,i.status)}})},app.packageExtraConditionUpdate.openForm=function(a){var e=$(a.target).closest("button"),t=app.packageExtraConditionDatatable.config.items.find((function(a){return a.id===parseInt(e.data("id"))}));t&&($(this.config.modal).find('[name="id"]').val(t.id),$(this.config.modal).find('[name="package_id"]').val(t.package_id),$(this.config.modal).find('[name="name"]').val(t.name),$(this.config.modal).find('[name="description"]').val(t.description),$(this.config.modal).find('[name="shortcode"]').val(t.shortcode),$(this.config.modal).find('[name="value"]').val(t.value),$(this.config.modal).modal("show"))},app.packageExtraConditionUpdate.init=function(){var a=this;$(document).delegate(this.config.button,"click",this.openForm.bind(this)),$(document).delegate(this.config.submit,"click",(function(){a.ajax()}))},$(document).delegate(app.packageExtraConditionUpdate.init())}(),app.addPackageFeature={},app.addPackageFeature.config={form:"#save-new-package-features-form"},app.addPackageFeature.data=function(){return{features:$(this.config.form).find('[name="package-feature"]:checked').map((function(a,e){return $(e).data("id")})).get()}},app.addPackageFeature.ajax=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=$(e.config.form).data("href"),i=t.html();$.ajax({type:"POST",url:n,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){app.backButtonContent(t,i),t.attr("disabled",!1)},error:function(a,t,n){var i=a;setTimeout((function(){app.formErrors(e.config.form,i.responseJSON,i.status)}),200)}})},app.addPackageFeature.init=function(){$(this.config.form).on("submit",this.ajax.bind(this))},$(document).ready(app.addPackageFeature.init()),app.createPackageFeature={},app.createPackageFeature.config={modal:"#create-feature-modal",form:"#create-feature-form",button:"#btn-create-feature",route:"/admin/subscriptions/packages/features/create"},app.createPackageFeature.data=function(){return $(this.config.form).serializeArray()},app.createPackageFeature.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html();$.ajax({type:"POST",url:a.config.route,data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.notify(e.message),app.closeModal(),$(a.config.modal).modal("hide"),app.packageFeatureDatatable.tb?(app.packageFeatureDatatable.tb.refresh(),a.clearForm()):$(app.createPackage.config.packageFeatureList).length&&$(".package-create-feature-list").length?(app.createPackage.addFeature(e.data.feature),a.clearForm()):app.redirect(window.location.href)},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(t,i,o){app.backButtonContent(e,n);var s=t;app.formErrors(a.config.form,s.responseJSON,s.status)}})},app.createPackageFeature.clearForm=function(){$(this.config.form).find('[name="title"]').val(""),$(this.config.form).find('[name="description"]').val("")},app.createPackageFeature.init=function(){var a=this;$(document).delegate(a.config.button,"click",(function(){a.ajax()}))},$(document).ready(app.createPackageFeature.init()),app.packageFeatureDatatable={},app.packageFeatureDatatable.config={datatable:{selectable:!1,src:"/admin/subscriptions/packages/features/datatable",resourceName:{singular:app.trans("feature"),plural:app.trans("features")},columns:[{title:"",key:"handle",searchable:!1,orderable:!1,classes:"package-feature-handle-column",element:function(a){var e='<span data-id="'+a.id+'" data-ordering="'+a.ordering+'"><i class="fas fa-arrows-alt drag-handle"></i></span>';return $(e)}},{title:app.trans("Title"),key:"title",searchable:!0,classes:"package-feature-title-column tb-title-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"package-features-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a href="javascript:void(0)" class="dropdown-item btn-edit-feature" data-title="'+a.title+'" data-description="'+(a.description||"")+'" data-route="/admin/subscriptions/packages/features/'+a.id+'/update">Edit</a>',e+='<a href="javascript:void(0)" class="dropdown-item text-danger btn-delete-feature" data-route="/admin/subscriptions/packages/features/'+a.id+'/delete">Delete</a>',e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No features were found!")},sortControl:{value:"ordering__asc",options:[]},sortValue:"ordering__asc",limit:50}},app.packageFeatureDatatable.sort=function(){$("#admin-package-features-datatable table td").each((function(){$(this).css("width",$(this).outerWidth())})),$("#admin-package-features-datatable tbody").sortable({delay:150,handle:".drag-handle",cursor:"move",placeholder:"must-have-class",stop:function(){var a=new Array;$("#admin-package-features-datatable tbody>tr").each((function(){var e=$(this).find(".package-feature-handle-column"),t=e.find(">span").attr("data-id"),n=e.find(">span").attr("data-ordering");a.push({id:t,ordering:n})})),$.ajax({type:"POST",url:"/admin/subscriptions/packages/features/reorder",dataType:"json",data:{ordering:a},success:function(a){app.notify(a.message),app.packageFeatureDatatable.tb.refresh()}})}})},app.packageFeatureDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#admin-package-features-datatable").length&&(app.packageFeatureDatatable.tb=$("#admin-package-features-datatable").JsDataTable(this.config.datatable)),void 0!==$.fn.sortable&&app.packageFeatureDatatable.sort()},$(document).ready(app.packageFeatureDatatable.init()),app.deletePackageFeature={},app.deletePackageFeature.config={btn:".btn-delete-feature"},app.deletePackageFeature.process=function(a){var e=$(a.target).data("route");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove feature."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,success:function(a,e,n){app.packageFeatureDatatable.tb.refresh(),setTimeout((function(){t.modal("hide"),app.notify(a.message)}),350)},error:function(a,e,n){var i=a;setTimeout((function(){t.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}}})},app.deletePackageFeature.init=function(){$(document).delegate(this.config.btn,"click",this.process.bind(this))},app.deletePackageFeature.init(),app.packageFeatureReorder={},app.packageFeatureReorder.sort=function(){var a=$("#package-feature-reorder-list").data("href");$("#package-feature-reorder-list").sortable({delay:150,handle:".drag-handle",cursor:"move",placeholder:"must-have-class",stop:function(){var e=new Array;$("#package-feature-reorder-list li").each((function(){var a=$(this).find(".package-feature-handle-column"),t=a.find(">span").attr("data-id"),n=a.find(">span").attr("data-ordering");e.push({id:t,ordering:n})})),a&&$.ajax({type:"POST",url:a,dataType:"json",data:{ordering:e},success:function(a){app.notify(a.message),window.location=window.location}})}})},app.packageFeatureReorder.init=function(){void 0!==$.fn.sortable&&app.packageFeatureReorder.sort()},$(document).ready(app.packageFeatureReorder.init()),function(){var a,e,t;app.updatePackageFeature={},app.updatePackageFeature.config=(t="#edit-feature-modal",(e="modal")in(a={modal:"#edit-feature-modal",form:"#edit-feature-form",button:"#btn-update-feature",editBtn:".btn-edit-feature"})?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a),app.updatePackageFeature.data=function(){return $(this.config.form).serializeArray()},app.updatePackageFeature.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html();console.log($(a.config.form).data("route")),$.ajax({type:"PATCH",url:$(a.config.form).data("route"),data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.notify(e.message),app.closeModal(),$(a.config.modal).modal("hide"),e.data.redirectTo&&app.redirect(e.data.redirectTo)},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(e,t,n){var i=e;setTimeout((function(){app.formErrors(a.config.form,i.responseJSON,i.status)}),500)}})},app.updatePackageFeature.init=function(){var a=this;$(document).delegate(a.config.button,"click",(function(){a.ajax()})),$(document).delegate(a.config.editBtn,"click",(function(){$(a.config.modal).find(a.config.form).data("route",this.dataset.route),$(a.config.modal).find("#title").val(this.dataset.title),$(a.config.modal).find("#description").val(this.dataset.description),$(a.config.modal).modal("show")}))},$(document).ready(app.updatePackageFeature.init())}(),function(){function a(a){return function(a){if(Array.isArray(a))return e(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,t){if(a){if("string"==typeof a)return e(a,t);var n=Object.prototype.toString.call(a).slice(8,-1);return"Object"===n&&a.constructor&&(n=a.constructor.name),"Map"===n||"Set"===n?Array.from(a):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(a,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(a,e){(null==e||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}app.package={},app.package.config={pricingList:"#package-prices",addPricing:".btn-add-package-pricing",removePricing:".btn-remove-package-pricing"},app.package.priceHtml=function(a){var e='<div class="accordion border-top pt-3" id="package-pricing-'+a+'" data-id="'+a+'">';e+='<div class="d-flex align-items-center justify-content-between">',e+='<div class="d-flex align-items-center justify-content-between flex-grow-1 cursor-pointer" role="button" data-toggle="collapse" data-target="#package-price-'+a+'" aria-expanded="true">',e+='<h6 class="price-title">'+app.trans("Pricing details")+'</h6><i class="fa fa-angle-down"></i></div>',e+='<button type="button" class="btn btn-sm btn-danger ml-3 btn-remove-package-pricing" data-id="'+a+'">',e+='<h6 class="mb-0">×</h6></button></div>',e+='<div class="accordion-body collapse show px-0 pb-0" id="package-price-'+a+'" data-parent="#package-prices" style="">',e+='<div class="form-row"><div class="form-group col-md-7">',e+='<label for="pricing-'+a+'-price">'+app.trans("Price")+"</label>",e+='<div class="input-group"><div class="input-group-prepend">',e+='<select class="custom-select" id="pricing-1-currency" name="pricing-1-currency" style="width:100px;">';for(var t=0;t<currencies.length;t++){var n=currencies[t];e+='<option value="'+n.code+'"',currency===n.code&&(e+='selected="true"'),e+=">"+n.code+"</option>"}e+="</select>",e+="</div>",e+='<input type="text" class="form-control" id="pricing-'+a+'-price" name="pricing-'+a+'-price" placeholder="0.00"></div>',e+='</div><div class="form-group col-md-5">',e+='<label for="pricing-'+a+'-compare-price">'+app.trans("Compare at price")+"</label>",e+='<div class="input-group">',e+='<input type="text" class="form-control" id="pricing-'+a+'-compare-price" name="pricing-'+a+'-compare-price" placeholder="0.00"></div>',e+="</div></div>",e+='<ul class="nav nav-pills" id="planTypeTab-'+a+'" role="tablist">',e+='<li class="nav-item">',e+='<a class="planType nav-link show active" data-toggle="tab" href="#pricing-'+a+'-recurring-payment" role="tab" aria-controls="pricing-'+a+'-recurring-payment" data-id="recurring" aria-selected="true">'+app.trans("Recurring")+"</a>",e+='</li><li class="nav-item">',e+='<a class="planType nav-link" data-toggle="tab" href="#pricing-'+a+'-onetime-payment" role="tab" aria-controls="pricing-'+a+'-onetime-payment" aria-selected="false" data-id="onetime">'+app.trans("One time")+"</a>",e+='</li></ul><div class="tab-content" id="planTypeTab-'+a+'">',e+='<div class="tab-pane fade active show pb-0" id="pricing-'+a+'-recurring-payment" role="tabpanel" aria-labelledby="pricing-'+a+'-recurring-payment">',e+='<div class="form-group">',e+='<label for="pricing-'+a+'-term">'+app.trans("Term")+"</label>",e+='<select class="form-control select2" id="pricing-'+a+'-term" name="pricing-'+a+'-term">';for(var i=0;i<terms.length;i++){var o=terms[i];e+='<option value="'+o.id+'">'+o.title+"</option>"}return e+="</select></div>",e+='<div class="form-group mb-0">',e+='<label for="pricing-1-trial_days_count">'+app.trans("Free trial")+"</label>",e+='<div class="input-group">',e+='<input type="text" class="form-control" id="pricing-'+a+'-trial_days_count" name="pricing-'+a+'-trial_days_count" placeholder="0">',e+='<div class="input-group-append">',e+='<div class="input-group-text">'+app.trans("days")+"</div>",e+="</div></div></div></div>",(e+='<div class="tab-pane fade" id="pricing-'+a+'-onetime-payment" role="tabpanel" aria-labelledby="pricing-'+a+'-onetime-payment">')+"</div></div></div></div>"},app.package.addPricing=function(){var e=$(this.config.pricingList).find(".accordion").map((function(){return parseInt(this.dataset.id)})).get(),t=Math.max.apply(Math,a(e));$(".collapse").collapse("hide"),$(this.config.pricingList).append(this.priceHtml(t+1)),$(this.config.pricingList).find(".btn-remove-package-pricing.d-none").removeClass("d-none"),app.initSelect2()},app.package.handleRemovePricing=function(a){var e=$(a.target).closest("button");this.removePricing(e.data("id"))},app.package.removePricing=function(a){$(this.config.pricingList).find(".accordion").length>1&&$(this.config.pricingList).find('.accordion[data-id="'+a+'"]').remove(),1===$(this.config.pricingList).find(".btn-remove-package-pricing").length&&$(this.config.pricingList).find(".btn-remove-package-pricing").addClass("d-none")},app.package.toggleSectionMenu=function(){$(".package-sections a.nav-link").on("click",(function(){$(".package-sections a.nav-link.active").removeClass("active"),$(this).addClass("active")}))},app.package.init=function(){$(this.config.addPricing).on("click",this.addPricing.bind(this)),$(document).delegate(this.config.removePricing,"click",this.handleRemovePricing.bind(this)),app.package.toggleSectionMenu()},app.package.init()}(),app.packageModuleLimitAction={},app.packageModuleLimitAction.config={moduleSelectAllCheck:".package-permission-module-select-all",moduleSelectCheck:".package-permission-module-select",moduleInpitLimitAll:".package-permission-module-limit-all"},app.packageModuleLimitAction.toggleInputMode=function(a){var e=$(a).parents("tr"),t=e.find(".package-permission-limit"),n=e.find(".package-permission-term");if(a.checked){var i=$(app.packageModuleLimitAction.config.moduleInpitLimitAll).val();t.val(i)}else t.val(""),n.val("month");t.attr("disabled",!a.checked),n.attr("disabled",!a.checked)},app.packageModuleLimitAction.toggleSelectAllPermission=function(a){var e=a.target.dataset.moduleName;$(this.config.moduleSelectCheck+'[data-module="'+e+'"]').map((function(e,t){t.checked=a.target.checked,app.packageModuleLimitAction.toggleInputMode(t)}))},app.packageModuleLimitAction.toggleSelectPermission=function(a){var e=a.target.dataset.module,t=$(this.config.moduleSelectCheck+'[data-module="'+e+'"]:checked').length,n=$(this.config.moduleSelectCheck+'[data-module="'+e+'"]').length;$(this.config.moduleSelectAllCheck+'[data-module-name="'+e+'"]')[0].checked=t===n,app.packageModuleLimitAction.toggleInputMode(a.target)},app.packageModuleLimitAction.inptutModuleLimitAll=function(a){var e=a.target.value;$(this.config.moduleSelectCheck+":checked").map((function(a,t){$(t).parents("tr").find(".package-permission-limit").val(e)}))},app.packageModuleLimitAction.init=function(){$(document).delegate(this.config.moduleSelectAllCheck,"change",this.toggleSelectAllPermission.bind(this)),$(document).delegate(this.config.moduleSelectCheck,"change",this.toggleSelectPermission.bind(this)),$(document).delegate(this.config.moduleInpitLimitAll,"input",this.inptutModuleLimitAll.bind(this))},$(document).ready(app.packageModuleLimitAction.init()),app.updatePackageModuleLimits={},app.updatePackageModuleLimits.config={button:"#btn-update-package-module-limits"},app.updatePackageModuleLimits.data=function(){return{limits:$(".package-permission-module-select:checked").map((function(a,e){var t=$(e).parents("tr"),n=t.find(".package-permission-limit"),i=t.find(".package-permission-term");return{permission_id:parseInt(e.dataset.id),limit:n.val(),term:i.val()}})).get()}},app.updatePackageModuleLimits.ajax=function(a){var e=$(a.target),t=e.data("route");$.ajax({type:"POST",url:t,data:this.data(),beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){app.backButtonContent(e,content),e.attr("disabled",!1)},error:function(a,e,t){var n=a;console.log(n)}})},app.updatePackageModuleLimits.init=function(){$(this.config.button).on("click",this.ajax.bind(this))},$(document).ready(app.updatePackageModuleLimits.init()),app.createPackagePrice={},app.createPackagePrice.config={button:"#btn-create-package-price",form:"#create-package-price-form",modal:"#create-package-price-modal"},app.createPackagePrice.getRoute=function(){return $(this.config.form).data("route")},app.createPackagePrice.data=function(){var a=$(this.config.form).serializeArray();return a.push({name:"type",value:$(this.config.form).find(".planType.active").data("id")}),a},app.createPackagePrice.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html();$.ajax({type:"POST",url:a.getRoute(),data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.notify(e.message),app.closeModal(),$(a.config.modal).modal("hide"),e.data.redirectTo&&app.redirect(e.data.redirectTo)},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(e,t,n){var i=e;app.formErrors(a.config.form,i.responseJSON,i.status)}})},app.createPackagePrice.init=function(){var a=this;$(document).delegate(this.config.button,"click",(function(){a.ajax()}))},$(document).ready(app.createPackagePrice.init()),app.packagePriceDatatable={},app.packagePriceDatatable.config={pricesContainer:"#package-prices-list",pricesTable:"#package-prices-table",remove:".btn-delete-package-price",noPriceHtml:'<div class="w-100 d-flex d-flex justify-content-center align-items-center" style="height: 200px;"><div class="d-flex flex-column align-items-center"><i class="fas fa-tags mb-1" style="font-size: 20px;"></i><p style="font-size: 16px;margin-bottom:0;">'+app.trans("No prices yet")+"</p></div></div>",editPackagePricingModal:"#edit-package-pricing-modal",editPackagePricingForm:"#update-package-pricing-form",prices:[]},app.packagePriceDatatable.getRoute=function(){return"/admin/subscriptions/packages/"+$(this.config.pricesContainer).data("id")+"/prices/datatable"},app.packagePriceDatatable.loader=function(){var a='<div class="w-100" style="height: 200px;">';return a+='<div class="h-100 d-flex justify-content-center align-items-center">',(a+='<a href="#" class="btn disabled btn-secondary btn-progress">'+app.trans("Progress")+"</a>")+"</div></div>"},app.packagePriceDatatable.loadTable=function(a){this.config.prices=a;var e=$(this.config.pricesContainer);if(e.html(""),a.length){app.package.config.prices=a;var t=$('<table class="table mb-0">');e.append(t),t.append("<thead><tr><th>"+app.trans("Price")+"</th><th>"+app.trans("Created")+"</th><th>"+app.trans("Subscriptions")+'</th><th style="width: 80px;"></th></tr></thead><tbody></tbody>');for(var n=0;n<a.length;n++){var i=a[n],o=$("<tr>"),s=i.amount_display;"recurring"===i.type?(s+=" / ",i.term.interval_count>1?s+=i.term.interval_count+" "+i.term.interval+"s":s+=i.term.interval):s+=" forever",o.append('<td><div class="d-flex"><a href="/admin/subscriptions/packages/'+i.package_id+"/prices/"+i.id+'"><strong>'+s+"</strong></a></div></td>"),o.append("<td>"+i.created+"</td>"),o.append("<td>"+i.subscriptions_count+" active</td>"),o.append('<td><div class="d-flex"><button type="button" class="btn btn-icon text-danger btn-delete-package-price '+(i.editable?"":"disabled")+'" data-route="/admin/subscriptions/packages/'+i.package_id+"/prices/"+i.id+'/delete" '+(i.editable?"":'disabled="true"')+'><i class="fas fa-trash-alt"></i></button></div></td>'),t.find("tbody").append(o)}}else e.html(this.config.noPriceHtml)},app.packagePriceDatatable.getPrices=function(){var a=this;$.ajax({type:"GET",url:a.getRoute(),beforeSend:function(){$(a.config.pricesTable).length?$(a.config.pricesContainer).append(a.loader()):$(a.config.pricesContainer).html(a.loader(!0))},success:function(e,t,n){a.loadTable(e.data)},error:function(e,t,n){$(a.config.pricesContainer).html("")}})},app.packagePriceDatatable.delete=function(){var a=this;$(document).delegate(a.config.remove,"click",(function(){var e=$(this),t=a.config.prices.find((function(a){return a.id==e.data("id")}));t&&bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove package price."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:"/admin/subscriptions/packages/"+t.package_id+"/prices/"+t.id,success:function(e,t,i){app.notify(e.message),a.getPrices(),n.modal("hide")},error:function(a,e,t){n.modal("hide")}})}}})}))},app.packagePriceDatatable.init=function(){$(this.config.pricesContainer).length&&this.getPrices(),this.delete()},$(document).ready(app.packagePriceDatatable.init()),app.deletePackagePrice={},app.deletePackagePrice.config={button:".btn-delete-package-price"},app.deletePackagePrice.ajax=function(a){bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove price."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resources")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:a,success:function(a,e,n){app.notify(a.message),t.modal("hide"),a.data.redirectTo&&app.redirect(a.data.redirectTo)},error:function(a,e,n){var i=a;setTimeout((function(){app.notify(i.responseJSON.message),t.modal("hide")}),500)}})}}})},app.deletePackagePrice.init=function(){var a=this;$(document).delegate(a.config.button,"click",(function(){var e=$(this).data("route");a.ajax(e)}))},$(document).ready(app.deletePackagePrice.init()),function(){"use strict";app.removePackageFeature={},app.removePackageFeature.config={button:".btn-remove-package-feature"},app.removePackageFeature.process=function(a){var e=$(a.target).closest("button").data("route");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove a feature from package."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){if(a){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e,success:function(a,e,n){a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){t.modal("hide"),app.notify(a.message)}),350)},error:function(a,e,n){var i=a;setTimeout((function(){t.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}}})},app.removePackageFeature.init=function(){$(document).delegate(app.removePackageFeature.config.button,"click",this.process.bind(this))},$(document).ready(app.removePackageFeature.init())}(),app.updatePackage={},app.updatePackage.config={button:"#btn-update-package",form:"#edit-package-form"},app.updatePackage.data=function(){return $(this.config.form).serializeArray()},app.updatePackage.ajax=function(){var a=this,e=$(a.config.button),t=$(a.config.form).find(":submit"),n=e.html(),i=$(a.config.form).data("route");$.ajax({type:"PATCH",url:i,data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){app.backButtonContent(e,n),t.attr("disabled",!1)},error:function(e,t,n){var i=e;app.formErrors(a.config.form,i.responseJSON,i.status)}})},app.updatePackage.init=function(){var a=this;$(document).delegate(a.config.button,"click",(function(){a.ajax()}))},$(document).ready(app.updatePackage.init()),app.paymentDatatable={},app.paymentDatatable.config={datatable:{src:"/admin/subscriptions/payments/datatable",resourceName:{singular:app.trans("payment"),plural:app.trans("payments")},columns:[{title:app.trans("Package"),key:"package",classes:"",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"amount",classes:"",searchable:!1},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell",searchable:!1,element:function(a){return $('<span class="badge badge-'+a.state_color+'">'+a.state_label+"</span>")}},{title:app.trans("Subscriber"),key:"subscriber",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e='<p style="margin-bottom: 0;">';return" "!=a.payable.subscribable.full_name&&(e+='<span style="font-weight: bold;">'+a.payable.subscribable.full_name+"</span><br>"),e+='<span class="text-muted">'+a.payable.subscribable.email+"</span><br>",e+="</p>",$(e)}},{title:app.trans("Gateway"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e=a.gateway.charAt(0).toUpperCase()+a.gateway.slice(1);return $("<span>"+e+"</span>")}},{title:app.trans("Created"),key:"created",classes:"hidden md:table-cell",searchable:!1},{title:"",key:"actions",searchable:!1,classes:"payments-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/users/'+a.payable.subscribable_id+'/show">'+app.trans("View user")+"</a>",e+='<a class="dropdown-item" href="/user/invoices/'+a.transaction_id+'">'+app.trans("View invoice")+"</a>",e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No payments were found!")},filterControl:[{key:"gateway",title:app.trans("Gateway"),choices:[],shortcut:!0,allowMultiple:!0,showClear:!0,value:""},{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Pending"),value:"pending"},{label:app.trans("Paid"),value:"paid"},{label:app.trans("Failed"),value:"failed"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},selectable:!1,limit:25,yajra:!0}},app.paymentDatatable.init=function(){app.paymentDatatable.datatable={},void 0!==$.fn.JsDataTable&&(app.paymentDatatable.datatable=$("#payments-datatable").JsDataTable(app.paymentDatatable.config.datatable))},app.paymentDatatable.init(),function(){"use strict";app.personalAccessToken={},app.personalAccessToken.config={createButton:".btn-revoke-personal-access-token",createForm:"#add-new-personal-token-form",createRoute:"/profile/personal-access-tokens/create",revokeButton:".btn-revoke-personal-access-token"},app.personalAccessToken.create=function(){$(app.personalAccessToken.config.createForm).on("submit",(function(a){a.preventDefault();var e=$(app.personalAccessToken.config.createForm).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.personalAccessToken.config.createRoute,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.closeModal();var n="<span class='text-warning text-bold'>"+app.trans("Here is your new personal access token. Please take note that this is the only time will be shown so don't lose it! You may now use this token to make API requests.")+"</span>";n+="<p class='token-generated'>"+a.data.token+"</p>",bootbox.alert({closeButton:!1,title:app.trans("Personal Access Token"),message:n,callback:function(a){app.redirect("/profile/personal-access-tokens")}})},error:function(a,n,i){var o=a;app.formErrors(app.personalAccessToken.config.createForm,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.personalAccessToken.revoke=function(a){$(document).delegate(app.personalAccessToken.config.revokeButton,"click",(function(){var a=$(this),e=a.html();bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to revoke this token."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){t&&$.ajax({type:"DELETE",url:"/profile/personal-access-tokens/revoke",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(a)},success:function(a,e,t){app.redirect("/profile/personal-access-tokens")},error:function(t){app.notify(t.responseJSON.message),app.backButtonContent(a,e)}})}})}))},app.personalAccessToken.select=function(){$(document).delegate(".token-generated","click",(function(){var a,e,t=$(this)[0];window.getSelection&&document.createRange?""==(a=window.getSelection()).toString()&&window.setTimeout((function(){(e=document.createRange()).selectNodeContents(t),a.removeAllRanges(),a.addRange(e)}),1):document.selection&&""==(a=document.selection.createRange()).text&&((e=document.body.createTextRange()).moveToElementText(t),e.select())}))},app.personalAccessToken.init=function(){app.personalAccessToken.create(),app.personalAccessToken.revoke(),app.personalAccessToken.select()},$(document).ready(app.personalAccessToken.init())}(),function(){"use strict";!function(a){window.photoGalleryTarget="photo";var e="#select-image-galley-modal",t="#image-gallery",n="#photo-gallery-upload-form",i=[],o=[];a.extend({getUrlVars:function(a){for(var e,t=[],n=a.slice(a.indexOf("?")+1).split("&"),i=0;i<n.length;i++)e=n[i].split("="),t.push(e[0]),t[e[0]]=e[1];return t},getUrlVar:function(e,t){return a.getUrlVars(e)[t]}});var s=function(e){return this.setImages=function(t){a(e).find("ul").html("");for(var n=0;n<t.length;n++){var i=t[n],o='<li class="list-group-item" data-id="'.concat(i.id,'">\n                                <div class="row align-items-center">\n                                    <div class="col-auto">\n                                        <div class="gallery-photo-preview">\n                                            <img class="rounded" src="').concat(i.preview_url,'" alt="').concat(i.name,'" data-dz-thumbnail="" data-src="').concat(i.original_url,'">\n                                        </div>\n                                    </div>\n                                    <div class="col">\n                                        <h6 class="text-sm mb-0 image-name" data-name="').concat(i.name,'">').concat(i.name,'</h6>\n                                    </div>\n                                    <div class="col-auto">\n                                        <a href="javascript:void(0)" class="dropdown-item btn-remove-selected-gallery-image"><i class="fas fa-trash-alt"></i>\n                                        </a>\n                                    </div>\n                                </div>\n                            </li>');a(e).find("ul").append(o)}},this.images=function(){return a(e).find("ul li").map((function(){return{id:this.dataset.id,name:a(this).find(".image-name").attr("data-name"),preview_url:a(this).find("img").attr("src"),original_url:a(this).find("img").data("src")}})).get()},this},r=function(){return this.api=function(){return new s(this)},this.each((function(){if(a(this).hasClass("image-gallery"))return new s(this);this.classList.add("image-gallery"),this.hasAttribute("data-image-gallery-multiple")?this.setAttribute("data-image-gallery-multiple",!0):this.setAttribute("data-image-gallery-multiple",!1),this.setAttribute("data-image-gallery-open",!1);var t=a('<button type="button" class="btn-open-gallery">'+app.trans("Open photos")+"</button>");a(this).prepend(t),a(this).find(".list-group-item").length||a(this).append(a('<ul class="list-group"></ul>')),t.on("click",(function(){a(e).length&&(a(e).modal("show"),a(this).closest(".image-gallery").attr("data-image-gallery-open",!0),window.photoGalleryTarget="photo")}))})),this},l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=a(e).find('[name="gallery-folder-select"]').val(),s="/admin/photos/gallery-select-list?folder=".concat(o,"&page=").concat(n);a.ajax({type:"GET",url:s,beforeSend:function(){a(e).find(".galley-image-loader").show();var t=a("#select-image-galley-modal .pagination").closest("nav");t.length&&(t.find(".page-item:first-child").addClass("disabled"),t.find(".page-item:last-child").addClass("disabled"))},success:function(n,o,s){var r,l;(function(e){a(t).html(""),e.length||a(t).append('<div class="col-12 text-center">'.concat(app.trans("No photos"),"</div>"));for(var n=0;n<e.length;n++){var i=e[n],o='<div class="col-3 col-sm-3 d-flex align-items-center justify-content-center">\n                            <label class="imagecheck mb-4">\n                                <input name="photoImageGallerySelectItem" type="checkbox" value="'.concat(i.id,'" class="imagecheck-input">\n                                <figure class="imagecheck-figure">\n                                    <img src="').concat(i.generated_preview_url||i.preview_url,'" alt="').concat(i.name,'" class="imagecheck-image" data-src="').concat(i.original_url,'">\n                                </figure>\n                            </label>\n                        </div>');a(t).append(o)}})(i=n.data),r=n,(l=a("#select-image-galley-modal .photos-pagination")).length&&(l.find("ul").html(""),a.each(r.links,(function(e,t){var n=a('<li class="page-item"></li>');t.url||n.addClass("disabled"),t.active&&n.addClass("active");var i=a('<a class="page-link" href="javascript:void(0)" tabindex="-1">'+t.label+"</a>");t.url&&!t.active&&i.data("href",t.url),n.append(i),l.find("ul").append(n)}))),setTimeout((function(){a(e).find(".galley-image-loader").hide()}),1e3)},error:function(t,n,i){a(e).find(".galley-image-loader").hide()}})};a(e).length&&(a.ajax({type:"GET",url:"/admin/photos/folders",success:function(n,i,o){if(n.length){var s=a(e).find('[name="gallery-folder-select"]');a.each(n,(function(e,t){var n=a("<option>",{value:t.id,text:t.name});s.append(n)})),s.val("all").trigger("change")}else a(e).find(".galley-image-loader").hide(),a(t).append('<div class="col-12 text-center">'.concat(app.trans("No photos"),"</div>"))}}),a(e).on("hide.bs.modal",(function(t){a('[data-image-gallery-open="true"]').attr("data-image-gallery-open",!1),a(e).find('[name="photoImageGallerySelectItem"]:checked').map((function(){this.checked=!1}))})),a("#select-image-new-folder-dropdown").on("hidden.bs.dropdown",(function(){app.formReset("#photo-new-folder-form")})),a(".btn-image-gallery-select").on("click",(function(){var n=a(t).find('[name="photoImageGallerySelectItem"]:checked').map((function(){return parseInt(this.value)})).get(),o=i.filter((function(a){return n.includes(a.id)}));if(o.length){var s=a('[data-image-gallery-open="true"]');if(s.length){s.find("ul").html(""),"false"===s.attr("data-image-gallery-multiple")&&(o=o.slice(0,1));for(var r=0;r<o.length;r++){var l=o[r],p='<li class="list-group-item" data-id="'.concat(l.id,'">\n                                        <div class="row align-items-center">\n                                            <div class="col-auto">\n                                                <div class="gallery-photo-preview">\n                                                    <img class="rounded" src="').concat(l.preview_url,'" alt="').concat(l.name,'" data-dz-thumbnail="" data-src="').concat(l.original_url,'">\n                                                </div>\n                                            </div>\n                                            <div class="col overflow-hidden">\n                                                <h6 class="text-sm mb-0 image-name" data-name="').concat(l.name,'">').concat(l.name,'</h6>\n                                            </div>\n                                            <div class="col-auto">\n                                                <a href="javascript:void(0)" class="dropdown-item btn-remove-selected-gallery-image"><i class="fas fa-trash-alt"></i>\n                                                </a>\n                                            </div>\n                                        </div>\n                                    </li>');s.find("ul").append(p)}}a(e).modal("hide")}})),a(document).delegate(".btn-remove-selected-gallery-image","click",(function(){a(this).closest("li.list-group-item").remove()})),a(document).delegate('[name="photoImageGallerySelectItem"]',"change",(function(){var e=this;if(this.checked){var t=a('[data-image-gallery-open="true"]');t.length?"false"===t.attr("data-image-gallery-multiple")&&a('[name="photoImageGallerySelectItem"]:checked').map((function(){this!==e&&(this.checked=!1)})):a('[name="photoImageGallerySelectItem"]:checked').map((function(){this!==e&&(this.checked=!1)}))}})),a(document).delegate(e+" .page-link","click",(function(){var e=a(this).data("href");if(e){var t=a.getUrlVar(e,"page");l(t)}})),a(e+' [name="gallery-folder-select"]').on("change",(function(){l(),"all"!==this.value?a("#select-image-upload-photos-dropdown .dropdown-toggle").attr("disabled",!1).removeClass("disabled"):(a("#select-image-upload-photos-dropdown .dropdown-toggle").attr("disabled",!0).addClass("disabled"),o=[],a(n).find(".photo-upload-images").html(""))})),a(document).on("click",e+" .dropdown-menu",(function(a){a.stopPropagation()})),a(e+" .btn-add-photo-gallery-upload").on("click",(function(){a(this).closest("form").find("input").trigger("click")})),a(n+' [type="file"]').on("change",(function(e){var t=this,n=a(this).closest("form");if(this.files.length)for(var i=function(a){var e=t.files[a],i={id:Date.now().toString(36)+Math.random().toString(36).substr(2),file:e};(r=new FileReader).onload=function(a){var e='<li class="list-group-item" data-id="'.concat(i.id,'">\n                                        <div class="row align-items-center">\n                                            <div class="col-auto">\n                                                <div class="gallery-photo-preview">\n                                                    <img class="rounded" src="').concat(a.target.result,'" alt="').concat(i.file.name,'">\n                                                </div>\n                                            </div>\n                                            <div class="col-auto pl-0 ml-auto">\n                                                <a href="javascript:void(0)" class="dropdown-item btn-remove-photo-upload-image">\n                                                    <i class="fas fa-trash-alt"></i>\n                                                </a>\n                                            </div>\n                                        </div>\n                                    </li>');n.find(".photo-upload-images").append(e),o.push(i)},r.readAsDataURL(i.file)},s=0;s<this.files.length;s++){var r;i(s)}a(this).val("")})),a(document).delegate(n+" .btn-remove-photo-upload-image","click",(function(){var e=a(this).closest("li");o=o.filter((function(a){return a.id!==e.data("id")})),e.remove()})),a(n).on("submit",(function(t){if(t.preventDefault(),a(n).find(".photo-upload-images .list-group-item").length){if(a(n).find(".photo-upload-images .list-group-item").length>10)return app.formMessageHelper.showFormMessage(n,app.trans("Upload must not greater than 10 photos.. Please remove some images to continue"),413),void a($self.config.modal).animate({scrollTop:0});var i=a(n),s=i.find(":submit"),r=s.html(),p=new FormData;p.append("folder",a(e).find('[name="gallery-folder-select"]').val()),a(n).find(".photo-upload-images .list-group-item").map((function(e,t){var n=a(t).data("id"),i=o.find((function(a){return a.id===n}));i.file.size,p.append("photos[".concat(e,"]"),i.file),i.file.size>2e6&&a(t).addClass("list-group-item-error")})),a.ajax({type:"POST",url:"/admin/photos/upload",data:p,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(s),i.find(".btn-add-photo-gallery-upload").attr("disabled",!0).addClass("disabled")},success:function(a,e,t){setTimeout((function(){app.notify(a.message),i.parents(".btn-group").find(".dropdown-toggle").click(),i.find(".photo-upload-images").html(""),app.backButtonContent(s,r),i.find(".btn-add-photo-gallery-upload").attr("disabled",!1).removeClass("disabled"),o=[],l()}),350)},error:function(a,e,t){var o=a;413===o.status?app.formMessageHelper.showFormMessage(n,o.statusText,o.status):app.formErrors(n,o.responseJSON,o.status),app.backButtonContent(s,r),i.find(".btn-add-photo-gallery-upload").attr("disabled",!1).removeClass("disabled")}})}}))),a.fn.sgallery=r,a.fn.sGallery=function(e){return a(this).sgallery(e).api()},a.each(r,(function(e,t){a.fn.sGallery[e]=t})),a.fn.sgallery}(jQuery),$("[data-image-gallery]").sGallery()}(),app.planPay={},app.planPay.config={button:".btn-pay-pricing",coupon:"#coupon",link:"#process-link"},app.planPay.process=function(a){var e=this,t=$(a.target).parents("button").data("href"),n=$(e.config.coupon).val();return n&&(t+="?coupon="+n),$(e.config.link).attr("href",t),$(e.config.link)[0].click(),!1},app.planPay.init=function(){},app.planPay.init(),function(){"use strict";app.createPricingTable={},app.createPricingTable.config={button:"#btn-create-pricing-table",form:"#createPricingTableForm",route:"/admin/subscriptions/pricing-tables/create"},app.createPricingTable.data=function(){var a={name:$(this.config.form).find('[name="name"]').val(),description:$(this.config.form).find('[name="description"]').val(),featured:$(this.config.form).find('[name="featured_package"]').val(),items:[]},e=$(app.pricingTable.config.packagesAccordion).find("tr.pricing-table-item").get();if(e.length)for(var t=0;t<e.length;t++){var n=e[t];a.items.push({package_price_id:$(n).data("id"),allow_promo_code:$(n).find(".allow_promo_code:checked").length,confirm_page_message:$(n).find(".confirm_page_message").val(),button_label:$(n).find(".button_label").val(),button_link:$(n).find(".button_link").val()})}return a},app.createPricingTable.ajax=function(){var a=this,e=$(a.config.button),t=e.html();$.ajax({type:"POST",url:a.config.route,data:a.data(),beforeSend:function(){app.buttonLoader(e)},success:function(e,t,n){app.notify(e.message),app.closeModal(),$(a.config.modal).modal("hide"),e.data.redirectTo&&app.redirect(e.data.redirectTo)},complete:function(a){app.backButtonContent(e,t)},error:function(e,t,n){var i=e;app.formErrors(a.config.form,i.responseJSON,i.status)}})},app.createPricingTable.init=function(){var a=this;$(document).delegate(this.config.button,"click",(function(){a.ajax()}))},$(document).ready(app.createPricingTable.init())}(),function(){"use strict";app.pricingTableDatatable={},app.pricingTableDatatable.removeSelected=function(a,e){var t=a.map((function(a){return a.id}));t&&app.deletePricingTable.ajax(t)},app.pricingTableDatatable.config={button:{removeItem:".btn-remove-pricing-table"},datatable:{src:"/admin/subscriptions/pricing-tables/datatable",resourceName:{singular:app.trans("pricing table"),plural:app.trans("pricing tables")},columns:[{title:app.trans("Name"),key:"name",classes:"",searchable:!1,orderable:!1,element:function(a){var e='<a href="/admin/subscriptions/pricing-tables/'+a.id+'/show" class="text-dark">';return e+="<strong>"+a.name+"</strong></a>",$(e)}},{title:app.trans("Packages"),key:"packages",classes:"hidden md:table-cell w-50",searchable:!1,orderable:!1},{title:app.trans("Active"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e='<i class="fas fa-check-circle text-lg text-success"></i>';return a.active||(e='<i class="fas fa-circle text-lg text-secondary"></i>'),$(e)}},{title:app.trans("Created"),key:"created",classes:"hidden md:table-cell",searchable:!1},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/subscriptions/pricing-tables/'+a.id+'/show">'+app.trans("View pricing table")+"</a>",e+='<a class="dropdown-item" href="/admin/subscriptions/pricing-tables/'+a.id+'/edit">'+app.trans("Edit pricing table")+"</a>",a.active?e+='<a class="dropdown-item btn-disable-pricing-table" role="button" href="#" data-route="/admin/subscriptions/pricing-tables/'+a.id+'/disable">'+app.trans("Disable pricing table")+"</a>":e+='<a class="dropdown-item btn-activate-pricing-table" role="button" href="#" data-route="/admin/subscriptions/pricing-tables/'+a.id+'/enable">'+app.trans("Activate pricing table")+"</a>",e+='<a class="dropdown-item text-danger btn-remove-pricing-table" role="button" href="#" data-id="'+a.id+'">'+app.trans("Delete pricing table")+"</a>",e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No pricing tables were found!")},sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")},{value:"name__asc",label:app.trans("Name ( A - Z )")},{value:"name__desc",label:app.trans("Name ( Z - A )")}]},limit:5,yajra:!0,bulkActions:[{title:app.trans("Removed selected"),onAction:app.pricingTableDatatable.removeSelected.bind(app.pricingTableDatatable),reloadOnChange:!0}]}},app.pricingTableDatatable.deleteItem=function(){$(document).delegate(this.config.button.removeItem,"click",(function(){var a=[$(this).data("id")];app.deletePricingTable.ajax(a)}))},app.pricingTableDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#admin-pricing-tables").length&&(app.pricingTableDatatable.table={},app.pricingTableDatatable.table=$("#admin-pricing-tables").JsDataTable(app.pricingTableDatatable.config.datatable),$("#admin-pricing-tables").on("table:draw.finish",(function(a,e){$('[data-toggle="tooltip"]').tooltip()}))),this.deleteItem()},app.pricingTableDatatable.init()}(),function(){"use strict";app.deletePricingTable={},app.deletePricingTable.config={route:"/admin/subscriptions/pricing-tables/delete"},app.deletePricingTable.ajax=function(a){var e=this;bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("Your about to remove pricing table."),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Removing resource")+"...</p>",closeButton:!1});$.ajax({type:"DELETE",url:e.config.route,data:{items:a},success:function(a,e,t){app.notify(a.message),a.data&&a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){n.modal("hide"),app.pricingTableDatatable.table&&app.pricingTableDatatable.table.refresh()}),350)},error:function(a,e,t){var i=a;setTimeout((function(){n.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}}})}}(),function(){"use strict";app.disablePricingTable={},app.disablePricingTable.config={button:".btn-disable-pricing-table"},app.disablePricingTable.ajax=function(a){$(document).delegate(this.config.button,"click",(function(){var a=$(this).data("route"),e=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Disabling pricing table")+"...</p>",closeButton:!1});$.ajax({type:"GET",url:a,success:function(a,t,n){app.notify(a.message),a.data&&a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){e.modal("hide"),app.pricingTableDatatable.table&&app.pricingTableDatatable.table.refresh()}),350)},error:function(a,t,n){var i=a;setTimeout((function(){e.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}))},app.disablePricingTable.init=function(){this.ajax()},$(document).ready(app.disablePricingTable.init())}(),function(){"use strict";app.enablePricingTable={},app.enablePricingTable.config={button:".btn-activate-pricing-table"},app.enablePricingTable.ajax=function(a){$(document).delegate(this.config.button,"click",(function(){var a=$(this).data("route"),e=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Enabling pricing table")+"...</p>",closeButton:!1});$.ajax({type:"GET",url:a,success:function(a,t,n){app.notify(a.message),a.data&&a.data.redirectTo&&app.redirect(a.data.redirectTo),setTimeout((function(){e.modal("hide"),app.pricingTableDatatable.table&&app.pricingTableDatatable.table.refresh()}),350)},error:function(a,t,n){var i=a;setTimeout((function(){e.modal("hide"),app.notify(i.responseJSON.message)}),350)}})}))},app.enablePricingTable.init=function(){this.ajax()},$(document).ready(app.enablePricingTable.init())}(),function(){"use strict";app.pricingTable={},app.pricingTable.config={packagesAccordion:"#pricing-table-packages",packagesAccordionItemRemove:".btn-remove-pricing-table-item",featuredPackage:"#featured_package",plans:null,data:[]},app.pricingTable.priceAccordionItem=function(a){return'<tr role="row" class="pricing-table-item" data-id="'.concat(a.id,'">\n\t\t\t\t<td class="pricing-table-item-drag-handle">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<i class="fas fa-arrows-alt drag-handle"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t\t<td class="pricing-table-item-details">\n\t\t\t\t\t<div class="accordion">\n\t\t\t\t\t\t<div class="accordion-header collapsed" role="button" data-toggle="collapse" data-target="#panel-body-').concat(a.id,'" aria-expanded="false">\n\t\t\t\t\t\t\t<div class="d-flex flex-column">\n\t\t\t\t\t\t\t\t<strong>').concat(a.package," </strong>\n\t\t\t\t\t\t\t\t<span>").concat(a.name,'</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="accordion-body collapse px-0" id="panel-body-').concat(a.id,'" data-parent="#pricing-table-packages" style="">\n\t\t\t\t\t\t\t<div class="custom-control custom-checkbox mb-2">\n\t\t\t\t\t\t\t\t<input type="checkbox" class="custom-control-input allow_promo_code" id="allow_promo_code_').concat(a.id,'">\n\t\t\t\t\t\t\t\t<label class="custom-control-label" for="allow_promo_code_').concat(a.id,'">\n\t\t\t\t\t\t\t\t\t<strong>').concat(app.trans("Allow promotion codes"),'</strong>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="form-group mb-2">\n\t\t\t\t\t\t\t\t<label>').concat(app.trans("Button label"),' <span class="text-muted text-sm">(').concat(app.trans("Optional"),')</span></label>\n\t\t\t\t\t\t\t\t<input type="text" class="form-control button_label">\n\t\t\t\t\t\t\t\t<small class="form-text text-muted form-help">').concat(app.trans("Custom button label for frontend only"),'</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="form-group mb-2">\n\t\t\t\t\t\t\t\t<label>').concat(app.trans("Button link"),' <span class="text-muted text-sm">(').concat(app.trans("Optional"),')</span></label>\n\t\t\t\t\t\t\t\t<input type="text" class="form-control button_link">\n\t\t\t\t\t\t\t\t<small class="form-text text-muted form-help">').concat(app.trans("Custom button link for frontend only"),'</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="form-group mb-2">\n\t\t\t\t\t\t\t\t<label>').concat(app.trans("Confirm page message"),' <span class="text-muted text-sm">(').concat(app.trans("Optional"),')</span></label>\n\t\t\t\t\t\t\t\t<textarea class="form-control confirm_page_message" id="confirm_page_message_').concat(a.id,'"></textarea>\n\t\t\t\t\t\t\t\t<small class="form-text text-muted">\n\t\t\t\t\t\t\t\t\t').concat(app.trans("Please note that custom messages aren't translated based on your customer's language."),'\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t\t<td class="pricing-table-item-remove-handle">\n\t\t\t\t\t<a href="javascript:void(0)" role="button" class="btn-remove-pricing-table-item">\n\t\t\t\t\t\t<i class="fas fa-times"></i>\n\t\t\t\t\t</a>\n\t\t\t\t</td>\n\t\t\t</tr>')},app.pricingTable.packageSelect=function(){this.config.plans=new TomSelect("#pricing-table-search-packages",{valueField:"id",labelField:"name",optgroupField:"class",searchField:"package",closeAfterSelect:!0,preload:!0,load:function(a,e){var t={page:1,limit:15,length:15,start:0,sortValue:"created_at__desc"},n=$("#Packages").val();n&&(t.notIn=n);var i=encodeURIComponent("columns[0][data]")+"=name&";i+=encodeURIComponent("columns[0][name]")+"=name&",i+=encodeURIComponent("columns[0][searchable]")+"=true&",i+=encodeURIComponent("columns[0][orderable]")+"=false&",i+=encodeURIComponent("columns[0][search][value]")+"="+a+"&",i+=encodeURIComponent("columns[0][search][regex]")+"=false&";var o="/admin/subscriptions/packages/datatable?"+app.objectToUrlParams(t)+"&"+i;fetch(o).then((function(a){return a.json()})).then((function(a){for(var t=[],n=0;n<a.data.length;n++)for(var i=a.data[n],o=0;o<i.prices.length;o++){var s=i.prices[o];if("recurring"===s.type){var r=s.amount_display+" every ";s.term.interval_count>1?r=r+s.term.interval_count+" "+s.term.interval+"s":r+=s.term.interval}else r=s.amount_display;t.push({id:s.id,name:r,package:i.name,class:i.id})}var l=a.data.map((function(a){return{value:a.id,label:a.name,id:a.id,name:a.name}}));e(t,l)})).catch((function(){e()}))}})},app.pricingTable.selecPackage=function(){var a=this;this.config.plans.on("change",(function(e){var t=this;$(this.control).find("[data-ts-item]").remove();for(var n=0;n<e.length;n++){var i=e[n];$(a.config.packagesAccordion).find('tr[data-id="'+i+'"]').length||function(){var e=t.options[i];e&&(e.order=1,$(a.config.packagesAccordion+" tbody").append(a.priceAccordionItem(e)),a.config.data.push(e)),$(a.config.featuredPackage+" option").filter((function(){return $(this).val()==e.class})).length||$(a.config.featuredPackage).append($("<option>",{value:e.class,text:e.package}))}()}}))},app.pricingTable.removePricingItem=function(){var a=this;$(document).delegate(this.config.packagesAccordionItemRemove,"click",(function(){var e=$(this).parents("tr[data-id]");if(e.length){var t=String(e.data("id"));a.config.plans.items=a.config.plans.items.filter((function(a){return a!==t})),e.remove(),a.config.plans.refreshOptions(),a.config.data=a.config.data.filter((function(a){return a.id!==parseInt(t)})),$(a.config.featuredPackage+" option").map((function(e,t){t.value&&!a.config.data.find((function(a){return a.class===parseInt(t.value)}))&&$(t).remove()}))}}))},app.pricingTable.addressCollection=function(){$(document).delegate(".collect_all_addresses_select","change",(function(){this.checked?$(this).parents(".accordion").find(".collect_all_addresses").removeClass("d-none"):$(this).parents(".accordion").find(".collect_all_addresses").addClass("d-none")}))},app.pricingTable.setFeatured=function(){var a=this;$(document).delegate('[name="featured"]',"change",(function(){if(this.checked){var e=this;$(a.config.packagesAccordion).find('[name="featured"]:checked').map((function(){this!==e&&(this.checked=!1)}))}}))},app.pricingTable.init=function(){void 0!==window.TomSelect&&$("#pricing-table-search-packages").length&&(this.packageSelect(),this.selecPackage()),this.removePricingItem(),this.addressCollection(),this.setFeatured()},$(document).ready(app.pricingTable.init())}(),function(){"use strict";app.reorderPricingTable={},app.reorderPricingTable.sort=function(){$("#pricing-table-packages tbody").sortable({delay:150,handle:".drag-handle",cursor:"move",placeholder:"placeholder"})},app.reorderPricingTable.init=function(){void 0!==$.fn.sortable&&app.reorderPricingTable.sort()},$(document).ready(app.reorderPricingTable.init())}(),function(){"use strict";app.updatePricingTable={},app.updatePricingTable.config={button:"#btn-update-pricing-table",form:"#updatePricingTableForm"},app.updatePricingTable.data=function(){var a={name:$(this.config.form).find('[name="name"]').val(),description:$(this.config.form).find('[name="description"]').val(),featured:$(this.config.form).find('[name="featured_package"]').val(),items:[]},e=$(app.pricingTable.config.packagesAccordion).find("tr.pricing-table-item").get();if(e.length)for(var t=0;t<e.length;t++){var n=e[t];a.items.push({package_price_id:$(n).data("id"),allow_promo_code:$(n).find(".allow_promo_code:checked").length,confirm_page_message:$(n).find(".confirm_page_message").val(),button_label:$(n).find(".button_label").val(),button_link:$(n).find(".button_link").val()})}return a},app.updatePricingTable.ajax=function(a){var e=a.dataset.route,t=this,n=$(t.config.button),i=n.html();$.ajax({type:"PATCH",url:e,data:t.data(),beforeSend:function(){app.buttonLoader(n)},success:function(a,e,n){app.notify(a.message),app.closeModal(),$(t.config.modal).modal("hide"),a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){app.backButtonContent(n,i)},error:function(a,e,n){var i=a;app.formErrors(t.config.form,i.responseJSON,i.status)}})},app.updatePricingTable.init=function(){var a=this;$(document).delegate(this.config.button,"click",(function(){a.ajax(this)}))},$(document).ready(app.updatePricingTable.init())}(),function(){"use strict";app.profile={},app.profile.generalSections=function(){$(".general-profile-sections a, .security-profile-sections a").click((function(){$(".general-profile-sections a, .security-profile-sections a").removeClass("active"),$(this).addClass("active")}))},app.profile.sticky=function(a){void 0!==$.fn.stickySidebar&&$(".sidebar-item").stickySidebar({topSpacing:0,container:".wrapper-main",sidebarInner:".make-me-sticky"})},app.profile.init=function(){this.sticky(),this.generalSections()},$(document).ready(app.profile.init())}(),function(){"use strict";app.recovery={},app.recovery.config={form:"#recovery-form",route:"/recovery"},app.recovery.data=function(){return $(this.config.form).serializeArray()},app.recovery.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){void 0!==a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){200!=a.status&&app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.recovery.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.recovery.init())}(),function(){"use strict";app.register={},app.register.config={form:"#register-form",route:"/register"},app.register.data=function(){return $(this.config.form).serializeArray()},app.register.acceptTos=function(){$("#terms-and-condition-modal #accept-tos-button").on("click",(function(){$('#register-form [name="terms"]').prop("checked",!0),app.closeModal()}))},app.register.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){a.data.hasOwnProperty("redirectTo")&&app.redirect(a.data.redirectTo)},complete:function(a){200==a.status&&201==a.status||app.backButtonContent(t,n)},error:function(a,e,t){var n=a;app.formErrors("#register-form",n.responseJSON,n.status),app.recaptchaReset()}})},app.register.init=function(){app.register.acceptTos(),$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.register.init())}(),function(){"use strict";app.removeProfileAvatar={},app.removeProfileAvatar.config={route:"/profile/avatar/remove",button:"#btn-remove-photo"},app.removeProfileAvatar.appendAvatar=function(a){$(".profile-avatar").attr("src",a)},app.removeProfileAvatar.process=function(){var a=this,e=$(a.config.button),t=e.html();e.on("click",(function(){$.ajax({type:"POST",url:a.config.route,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.removeProfileAvatar.appendAvatar(a.data.avatar),app.notify(a.message)},complete:function(a){app.backButtonContent(e,t)},error:function(a){app.notify(a.responseJSON.message)}})}))},app.removeProfileAvatar.init=function(){this.process()},$(document).ready(app.removeProfileAvatar.init())}(),function(){"use strict";app.adminReportBillingDatatable={},app.adminReportBillingDatatable.getStatusHtml=function(a){var e="secondary";switch(a.status){case"active":e="primary";break;case"cancelled":case"past_due":e="warning";break;case"ended":e="danger";break;case"trialing":e="info";break;default:e="secondary"}var t=a.status.replace(/\_/g," "),n=t.charAt(0).toUpperCase()+t.slice(1);return $('<div class="badge badge-'+e+'" data-toggle="tooltip" data-placement="top" title="" data-original-title="'+a.status_display+'">'+n+"</div>")},app.adminReportBillingDatatable.config={datatable:{src:"/admin/reports/billing/datatable",resourceName:{singular:app.trans("subscription"),plural:app.trans("subscriptions")},columns:[{title:app.trans("User"),key:"user",classes:"",searchable:!1,element:function(a){var e='<p style="margin-bottom: 0;">';return e+='<span style="font-weight: bold;">'+a.subscribable.full_name+"</span><br>",e+='<a href="/admin/subscriptions/'+a.id+'" class="fw-bolder">'+a.user+"</a>",e+="</p>",$(e)}},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell w-50px",searchable:!1,element:function(a){return app.adminReportBillingDatatable.getStatusHtml(a)}},{title:app.trans("Package"),key:"package",classes:"hidden md:table-cell",orderable:!1,searchable:!1,element:function(a){var e='<div class="d-flex flex-column align-items-start">';return e+='<span class="mb-1">'+a.package+"</span>",e+='<span class="free-billing-badge '+(a.price?"text-white bg-primary":"")+'">',a.is_free?e+=app.trans("Free billing"):a.recurring?e+=a.price+" - "+a.term_description:e+=a.price+" - forever",e+="</span>",e+="</div>",$(e)}},{title:app.trans("Type"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="Lifetime";return a.recurring&&(e="Recurring"),$("<span>"+e+"</span>")}},{title:app.trans("Gateway"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,element:function(a){var e=a.gateway.charAt(0).toUpperCase()+a.gateway.slice(1);return $("<span>"+e+"</span>")}},{title:app.trans("Created"),key:"created",classes:"hidden md:table-cell",searchable:!1},{title:"created_at",key:"created_at",classes:"hidden md:table-cell",hidden:!0},{title:"user",key:"subscribable.name",classes:"hidden md:table-cell",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No subscriptions were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Active"),value:"Active"},{label:app.trans("Trialing"),value:"Trialing"},{label:app.trans("Cancelled"),value:"Cancelled"},{label:app.trans("Ended"),value:"Ended"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:"",hidden:!0}],filterTabs:[{label:app.trans("All"),filters:[{key:"status",value:"All"}]},{label:app.trans("Trialing"),filters:[{key:"status",value:"Trialing"}]},{label:app.trans("Active"),filters:[{key:"status",value:"Active"}]},{label:app.trans("Cancelled"),filters:[{key:"status",value:"Cancelled"}]},{label:app.trans("Ended"),filters:[{key:"status",value:"Ended"}]}],limit:25,yajra:!0,selectable:!1,showSearchQuery:!1,load:!1}},app.adminReportBillingDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#admin-billing-reports-datatable").length&&(app.adminReportBillingDatatable.datatable={},app.adminReportBillingDatatable.datatable=$("#admin-billing-reports-datatable").JsDataTable(app.adminReportBillingDatatable.config.datatable),$("#admin-billing-reports-datatable").on("table:draw.finish",(function(a,e){$('[data-toggle="tooltip"]').tooltip()})))},app.adminReportBillingDatatable.init()}(),function(){"use strict";app.billingReports={},app.billingReports.config={dateFormat:"YYYY-MM-DD H:m:s",rangePicker:null,routeOverview:"/admin/reports/billing/overview",charts:{active_subscribers:{chart:null,cardId:"#active-subscribers-report"},new_subscribers:{chart:null,cardId:"#new-subscribers-report"},new_trials:{chart:null,cardId:"#new-trials-report"}}},app.billingReports.chart=function(a){return new Chart(a.getContext("2d"),{type:"line",data:{labels:[],datasets:[]},borderWidth:5,backgroundColor:"transparent",options:{legend:{display:!1},scales:{yAxes:[{gridLines:{display:!1,drawBorder:!1},ticks:{stepSize:150,display:!1}}],xAxes:[{gridLines:{color:"#fbfbfb",lineWidth:2},ticks:{autoSkip:!1,callback:function(a,e){return 0===e||e===this.ticks.length-1?a:""},maxRotation:0,minRotation:0}}]}}})},app.billingReports.ajax=function(a,e){var t="YYYY-MM-DD";$.ajax({type:"GET",data:{start:a.format(t)+" 00:00:00",end:e.format(t)+" 23:59:59"},url:this.config.routeOverview,success:function(a,e,t){Object.keys(a).forEach((function(e,t){var n=$(".billing-report-card ."+e);n.length&&n.html(a[e])}))},error:function(a,e,t){var n=a;app.notify(n.responseJSON.message)}})},app.billingReports.setRangeLabel=function(a,e){var t;t=a.format("MMM D, YYYY")===e.format("MMM D, YYYY")?a.format("MMM D, YYYY"):a.format("YYYY")===e.format("YYYY")?a.format("MMM D")+" - "+e.format("MMM D, YYYY"):a.format("MMM D, YYYY")+" - "+e.format("MMM D, YYYY"),$(".daterange-btn span").html(t)},app.billingReports.init=function(){var a=this;if(jQuery().daterangepicker&&$(".daterange-btn").length){var e=moment().subtract(29,"days"),t=moment();app.billingReports.config.rangePicker=$(".daterange-btn").daterangepicker({ranges:{Today:[moment(),moment()],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:e,endDate:t},(function(e,t){app.billingReports.setRangeLabel(e,t),app.billingReports.ajax(e.startOf("day"),t.endOf("day")),app.adminReportBillingDatatable.datatable.setQuery({date:[e.startOf("day").format(a.config.dateFormat),t.endOf("day").format(a.config.dateFormat)].join(",")},!0)})),app.billingReports.setRangeLabel(e,t),app.billingReports.ajax(e.startOf("day"),t.endOf("day")),app.adminReportBillingDatatable.datatable.setQuery({date:[e.format(a.config.dateFormat),t.format(a.config.dateFormat)].join(",")},!0)}},$(document).ready(app.billingReports.init())}(),function(){"use strict";app.packageReports={},app.packageReports.config={select:"#subscription-report-mode-type"}}(),function(){"use strict";app.resetPassword={},app.resetPassword.config={form:"#reset-password-form",route:"/password/reset"},app.resetPassword.data=function(){return $(this.config.form).serializeArray()},app.resetPassword.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){void 0!==a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){200!=a.status&&app.backButtonContent(t,n)},error:function(a,t,n){app.formErrors(e.config.form,a.responseJSON,a.status)}})},app.resetPassword.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.resetPassword.init())}(),app.cancelSubscription={},app.cancelSubscription.config={button:".btn-cancel-subscription"},app.cancelSubscription.ajax=function(a){var e=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Cancelling subscription")+"...</p>",closeButton:!1});$.ajax({type:"GET",url:a,success:function(a,t,n){setTimeout((function(){app.notify(a.message),e.modal("hide"),app.subscriptionDatatable.datatable?app.subscriptionDatatable.datatable.refresh():a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},error:function(a,t,n){var i=a;setTimeout((function(){e.modal("hide"),bootbox.alert(i.responseJSON.message)}),500)}})},app.cancelSubscription.process=function(a){var e=this,t=$(a.target).data("id");app.closeModal(),t&&bootbox.confirm({title:app.trans("Cancel subscription?"),message:app.trans("Do you want to cancel your subscription? Once canceled cannot be reverted."),buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancel'},confirm:{label:'<i class="fa fa-check"></i> Confirm'}},callback:function(a){if(a){var n="/admin/subscriptions/"+t+"/cancel";e.ajax(n)}}})},app.cancelSubscription.init=function(){$(document).delegate(this.config.button,"click",this.process.bind(this))},$(document).ready(app.cancelSubscription.init()),app.subscriptionDatatable={},app.subscriptionDatatable.getStatusHtml=function(a){var e="secondary";switch(a.status){case"active":e="primary";break;case"cancelled":case"past_due":e="warning";break;case"ended":e="danger";break;case"trialing":e="info";break;default:e="secondary"}var t=a.status.replace(/\_/g," "),n=t.charAt(0).toUpperCase()+t.slice(1);return $('<div class="badge badge-'+e+'" data-toggle="tooltip" data-placement="top" title="" data-original-title="'+a.status_display+'">'+n+"</div>")},app.subscriptionDatatable.config={datatable:{src:"/admin/subscriptions/datatable",resourceName:{singular:app.trans("subscription"),plural:app.trans("subscriptions")},columns:[{title:app.trans("User"),key:"user",classes:"",searchable:!1,element:function(a){var e='<p style="margin-bottom: 0;">';return" "!=a.subscribable.full_name?e+='<span style="font-weight: bold;"><a href="/admin/subscriptions/'+a.id+'">'+a.subscribable.full_name+"</a></span><br>":e+='<span style="font-weight: bold;"><a href="/admin/subscriptions/'+a.id+'">'+app.trans("N/A")+"</a></span><br>",e+='<span class="text-muted">'+a.subscribable.email+"</span><br>",e+="</p>",$(e)}},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell w-50px",searchable:!1,element:function(a){return app.subscriptionDatatable.getStatusHtml(a)}},{title:app.trans("Package"),key:"package",classes:"hidden md:table-cell",orderable:!1,searchable:!1,element:function(a){var e='<div class="d-flex flex-column align-items-start">';return e+='<span class="mb-1">'+a.package+"</span>",e+='<span class="free-billing-badge '+(a.price?"text-white bg-primary":"")+'">',a.is_free?e+="Free billing":a.recurring?e+=a.price+" - "+a.term_description:e+=a.price+" - forever",e+="</span>",e+="</div>",$(e)}},{title:app.trans("Type"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="Lifetime";return a.recurring&&(e="Recurring"),$("<span>"+e+"</span>")}},{title:app.trans("Gateway"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,element:function(a){var e=a.gateway.charAt(0).toUpperCase()+a.gateway.slice(1);return $("<span>"+e+"</span>")}},{title:app.trans("Created"),key:"created",classes:"hidden md:table-cell",searchable:!1},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/admin/subscriptions/'+a.id+'">'+app.trans("View subscription")+"</a>",e+='<a class="dropdown-item" href="/admin/users/'+a.subscribable_id+'/show">'+app.trans("View user")+"</a>",a.can_cancel&&(e+='<a class="dropdown-item text-danger btn-cancel-subscription" href="javascript:void(0)" data-id="'+a.id+'">'+app.trans("Cancel subscription")+"</a>"),e+="</div>",$(e)}},{title:"created_at",key:"created_at",classes:"hidden md:table-cell",searchable:!1,hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No subscriptions were found!")},filterControl:[{key:"type",title:app.trans("Type"),choices:[{label:app.trans("Recurring"),value:"recurring"},{label:app.trans("Onetime"),value:"onetime"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""},{key:"gateway",title:app.trans("Gateway"),choices:[],shortcut:!0,allowMultiple:!0,showClear:!0,value:""},{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Trialing"),value:"trialing"},{label:app.trans("Active"),value:"active"},{label:app.trans("Past due"),value:"past_due"},{label:app.trans("Canceled"),value:"canceled"},{label:app.trans("Ended"),value:"ended"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")},{value:"name__asc",label:app.trans("Name ( A - Z )")},{value:"name__desc",label:app.trans("Name ( Z - A )")}]},limit:25,yajra:!0,selectable:!1}},app.subscriptionDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#subscriptions-datatable").length&&(app.subscriptionDatatable.datatable={},app.subscriptionDatatable.datatable=$("#subscriptions-datatable").JsDataTable(app.subscriptionDatatable.config.datatable),$("#subscriptions-datatable").on("table:draw.finish",(function(a,e){$('[data-toggle="tooltip"]').tooltip()})))},app.subscriptionDatatable.init(),app.subscriptionPaymentDatatable={},app.subscriptionPaymentDatatable.config={datatable:{src:"/admin/subscriptions/payments/datatable",resourceName:{singular:app.trans("payment"),plural:app.trans("payments")},columns:[{title:app.trans("Package"),key:"package",classes:"",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"amount",classes:"",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell",searchable:!1,element:function(a){return $('<span class="badge badge-'+a.state_color+'">'+a.state_label+"</span>")}},{title:app.trans("Gateway"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,element:function(a){var e=a.gateway.charAt(0).toUpperCase()+a.gateway.slice(1);return $("<span>"+e+"</span>")}},{title:app.trans("Created"),key:"created",classes:"hidden md:table-cell",searchable:!1},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/user/invoices/'+a.transaction_id+'">'+app.trans("View invoice")+"</a>",e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No payments were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Pending"),value:"pending"},{label:app.trans("Paid"),value:"paid"},{label:app.trans("Failed"),value:"failed"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},selectable:!1,limit:15,yajra:!0,query:{subscription:$("#Subscription_id").val()}}},app.subscriptionPaymentDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#subscription-payments-datatable").length&&(app.subscriptionPaymentDatatable.datatable={},app.subscriptionPaymentDatatable.datatable=$("#subscription-payments-datatable").JsDataTable(app.subscriptionPaymentDatatable.config.datatable))},app.subscriptionPaymentDatatable.init(),app.subscriptionPricing={},app.subscriptionPricing.init=function(){$('[name="pricing_term"]').on("change",(function(){var a=$('[name="pricing_term"]:checked').val();$(".pricing-terms").addClass("d-none"),$("#term-"+a).removeClass("d-none")}))},$(document).delegate(app.subscriptionPricing.init()),app.resumeSubscription={},app.resumeSubscription.config={button:".btn-resume-subscription"},app.resumeSubscription.ajax=function(a,e){var t=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Resuming subscription")+"...</p>",closeButton:!1});$.ajax({type:"POST",url:a,data:e,success:function(a,e,n){setTimeout((function(){t.modal("hide"),app.subscriptionDatatable.datatable?app.subscriptionDatatable.datatable.refresh():a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},error:function(a,e,n){setTimeout((function(){t.modal("hide")}),500)}})},app.resumeSubscription.process=function(a){var e=this,t=$(a.target).data("id");if(app.subscriptionDatatable.datatable)var n=app.subscriptionDatatable.datatable.findItem("id",parseInt(t));else n=window.subscription;if(n){var i="/admin/subscriptions/"+n.id+"/resume";bootbox.prompt({title:"Please enter your password to confirm action",inputType:"password",callback:function(a){a&&e.ajax(i,{password:a})}})}},app.resumeSubscription.init=function(){$(document).delegate(this.config.button,"click",this.process.bind(this))},$(document).ready(app.resumeSubscription.init()),app.subscriptionToggleUpgrade={},app.subscriptionToggleUpgrade.config={button:"#btn-subscription-upgrade-package",package:"#choosePlan"},app.subscriptionToggleUpgrade.handlePackageChange=function(a){var e=$(a.target).val();$(this.config.button).attr("disabled",!e).toggleClass("disabled",!e)},app.subscriptionToggleUpgrade.process=function(a){var e=$(this.config.package).val();e&&(window.location.href=e)},app.subscriptionToggleUpgrade.init=function(){$(this.config.button).on("click",this.process.bind(this)),$(this.config.package).on("change",this.handlePackageChange.bind(this))},$(document).ready(app.subscriptionToggleUpgrade.init()),function(){"use strict";app.modulesFieldExtraOptions.template.belongsToManyRelationship=function(){app.modulesFieldExtraOptions.template.belongsToRelationship.model();var a=$('[name="models"]').val(),e="";return e+="<h4>"+app.trans("Extra options")+"</h4>",e+='<div class="row">',e+='<div class="col-4 col-md-4">',e+='<div class="form-group">',e+='<label for="model">'+app.trans("Model")+"</label>",e+='<select class="form-control" name="related_model" required data-validation="required|'+app.trans("The model field is required.")+'">',e+='<option value="">'+app.trans("Select model")+"</option>",$.each(JSON.parse(a),(function(a,t){$.each(t,(function(a,t){e+='<option value="'+t.namespace+'">'+t.model_name+"</option>"}))})),e+="</select>",e+="</div>",e+="</div>",e+='<div class="col-4 col-md-4 belongs-to-options-wrapper">',e+='<div class="form-group">',e+='<label for="field_show_in_list">'+app.trans("Field to show in list")+"</label>",e+='<select class="form-control" name="field_show" required data-validation="required|'+app.trans("The field to show in is required.")+'">',e+="</select>",e+="</div>",e+="</div>",e+="</div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.belongsToRelationship=function(){app.modulesFieldExtraOptions.template.belongsToRelationship.model();var a=$('[name="models"]').val(),e="";return e+="<h4>"+app.trans("Extra options")+"</h4>",e+='<div class="row">',e+='<div class="col-4 col-md-4">',e+='<div class="form-group">',e+='<label for="model">'+app.trans("Model")+"</label>",e+='<select class="form-control" name="related_model" required data-validation="required|'+app.trans("The model field is required.")+'">',e+='<option value="">'+app.trans("Select model")+"</option>",$.each(JSON.parse(a),(function(a,t){$.each(t,(function(a,t){e+='<option value="'+t.namespace+'">'+t.model_name+"</option>"}))})),e+="</select>",e+="</div>",e+="</div>",e+='<div class="col-4 col-md-4 belongs-to-options-wrapper">',e+='<div class="form-group">',e+='<label for="field_show_in_list">'+app.trans("Field to show in list")+"</label>",e+='<select class="form-control" name="field_show" required data-validation="required|'+app.trans("The field to show in is required.")+'">',e+="</select>",e+="</div>",e+="</div>",e+='<div class="col-4 col-md-4 belongs-to-options-wrapper">',e+='<div class="form-group">',e+='<label for="additional_fields">'+app.trans("Additional fields")+"</label>",e+='<select class="form-control" name="additional_fields" multiple>',e+="</select>",e+="</div>",e+="</div>",e+="</div>"},app.modulesFieldExtraOptions.template.belongsToRelationship.model=function(){app.modulesFieldExtraOptions.template.belongsToRelationship.columns()},app.modulesFieldExtraOptions.template.belongsToRelationship.columnsAjax=function(a){$.ajax({type:"GET",url:"/admin/module/table-columns",data:{table:a},contentType:!1,cache:!1,processData:!0,beforeSend:function(){$("#field-settings-button").prop("disabled",!0)},success:function(a,e,t){var n,i="",o=0;i+='<option value="">'+app.trans("Select field to show")+"</option>",$.each(a,(function(a,e){0==o&&(n=a),i+='<option value="'+a+'">'+e+"</option>",o++})),app.modulesFieldExtraOptions.template.belongsToRelationship.hideSelected(n),$('[name="field_show"]').html(i),$('[name="additional_fields"]').html(i),a?$(".belongs-to-options-wrapper").show():$(".belongs-to-options-wrapper").hide(),$("#field-settings-button").prop("disabled",!1)},error:function(){app.modulesFieldExtraOptions.template.belongsToRelationship.columnsAjax(a)}})},app.modulesFieldExtraOptions.template.belongsToRelationship.columns=function(){$(document).delegate('[name="related_model"]',"change",(function(a){a.stopImmediatePropagation();var e=$(this).val();app.modulesFieldExtraOptions.template.belongsToRelationship.columnsAjax(e),$(".belongs-to-options-wrapper").hide()})),app.modulesFieldExtraOptions.template.belongsToRelationship.hide()},app.modulesFieldExtraOptions.template.belongsToRelationship.hide=function(){$(document).delegate('[name="field_show"]',"change",(function(){app.modulesFieldExtraOptions.template.belongsToRelationship.hideSelected($(this).val())}))},app.modulesFieldExtraOptions.template.belongsToRelationship.hideSelected=function(a){setTimeout((function(){$('[name="additional_fields"] > option').each((function(){$(this).attr("value")==a?$(this).hide():$(this).show()}))}),100)}}(),function(){"use strict";app.modulesFieldExtraOptions.template.checkbox=function(){var a="";return a+="<h4>"+app.trans("Extra options")+"</h4>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="default_value">'+app.trans("Default value")+"</label>",a+='<select name="default_value" class="form-control custom-select">',a+='<option value="unchecked">'+app.trans("Unchecked")+"</option>",a+='<option value="checked">'+app.trans("Checked")+"</option>",a+="</select>",a+="</div>",(a+="</div>")+"</div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.choices=function(){var a="";return a+="<h4>Extra options</h4>",a+='<table class="table table-field-choices">',a+='<thead class="thead-dark">',a+="<tr>",a+='<th scope="col" width="45%">'+app.trans("Database Value")+"</th>",a+='<th scope="col" width="45%">'+app.trans("Label text")+"</th>",a+='<th scope="col" width="10%">&nbsp;</th>',a+="</tr>",a+="</thead>",a+="<tbody>",a+="<tr>",a+='<td><input type="text" class="form-control" name="choices_database_value[0]" required data-validation="required|'+app.trans("The database value field is required.")+'"></td>',a+='<td><input type="text" class="form-control" name="choices_label_text[0]" required data-validation="required|'+app.trans("The label text field is required.")+'"></td>',a+='<td><button type="button" class="btn btn-danger btn-sm btn-remove-field-choice" disabled><i class="fas fa-trash"></i></td>',a+="</tr>",a+="</tbody>",(a+="</table>")+'<div class="text-right"><button type="button" class="btn btn-info btn-add-new-key-value"><i class="fas fa-plus"></i> '+app.trans("Add new key/value set")+"</button></div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.file=function(){var a="";return a+="<h4>"+app.trans("Extra options")+"</h4>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="max_file_size">'+app.trans("Max file size")+"</label>",a+='<div class="input-group mb-2">',a+='<input name="max_file_size" type="text" class="form-control" id="inlineFormInputGroup1" value="2">',a+='<div class="input-group-append">',a+='<div class="input-group-text">'+app.trans("MB")+"</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="row">',a+='<div class="col-6 col-md-6">',a+='<label class="form-check-label">',a+='<input type="checkbox" name="multiple_files"> <span class="checkbox-label">'+app.trans("Multiple files")+"</span>",a+="</label>",(a+="</div>")+"</div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.float=function(){var a="";return a+="<h4>"+app.trans("Extra options")+"</h4>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="min_length">'+app.trans("Min length")+"</label>",a+='<input type="number" class="form-control" name="min_length" placeholder="'+app.trans("Min length")+'">',a+="</div>",a+="</div>",a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="max_length">'+app.trans("Max length")+"</label>",a+='<input type="number" class="form-control" name="max_length" placeholder="'+app.trans("Max length")+'">',a+="</div>",a+="</div>",a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="float_accuracy">'+app.trans("Float accuracy")+"</label>",a+='<input type="number" class="form-control" name="float_accuracy" value="2" placeholder="'+app.trans("Float accuracy")+'">',a+="</div>",a+="</div>",a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="float_length">'+app.trans("Float length")+"</label>",a+='<input type="number" class="form-control" name="float_length" value="10" placeholder="'+app.trans("Float length")+'">',a+="</div>",a+="</div>",a+="</div>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="default_value">'+app.trans("Default value")+"</label>",a+='<input type="number" class="form-control" name="default_value" step="0.01" placeholder="'+app.trans("Default value")+'">',a+="</div>",(a+="</div>")+"</div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.number=function(){var a="";return a+="<h4>"+app.trans("Extra options")+"</h4>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="default_value">'+app.trans("Default value")+"</label>",a+='<input type="number" class="form-control" step="1" name="default_value">',a+="</div>",(a+="</div>")+"</div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.money=function(){var a="";return a+="<h4>"+app.trans("Extra options")+"</h4>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="default_value">'+app.trans("Default value")+"</label>",a+='<input type="number" class="form-control" name="default_value">',a+="</div>",(a+="</div>")+"</div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.photo=function(){var a="";return a+="<h4>"+app.trans("Extra options")+"</h4>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="max_file_size">'+app.trans("Max file size")+"</label>",a+='<div class="input-group mb-2">',a+='<input name="max_file_size" type="text" class="form-control" id="inlineFormInputGroup1" value="2">',a+='<div class="input-group-append">',a+='<div class="input-group-text">'+app.trans("MB")+"</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="max_width_px">'+app.trans("Max width in PX")+"</label>",a+='<div class="input-group mb-2">',a+='<input name="max_width_px" type="text" class="form-control" id="inlineFormInputGroup2" value="4096">',a+='<div class="input-group-append">',a+='<div class="input-group-text">'+app.trans("MB")+"</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="max_height_px">'+app.trans("Max height in PX")+"</label>",a+='<div class="input-group mb-2">',a+='<input name="max_height_px" type="text" class="form-control" id="inlineFormInputGroup3" value="4096">',a+='<div class="input-group-append">',a+='<div class="input-group-text">'+app.trans("MB")+"</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="row">',a+='<div class="col-6 col-md-6">',a+='<label class="form-check-label">',a+='<input type="checkbox" name="multiple_files"> <span class="checkbox-label">'+app.trans("Multiple files")+"</span>",a+="</label>",(a+="</div>")+"</div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.radio=function(){return app.modulesFieldExtraOptions.template.choices()}}(),function(){"use strict";app.modulesFieldExtraOptions.template.select=function(){return app.modulesFieldExtraOptions.template.choices()}}(),function(){"use strict";app.modulesFieldExtraOptions.template.text=function(){var a="";return a+="<h4>"+app.trans("Extra options")+"</h4>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="min_length">'+app.trans("Min length")+"</label>",a+='<input type="number" class="form-control" name="min_length" placeholder="'+app.trans("Min length")+'">',a+="</div>",a+="</div>",a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="max_length">'+app.trans("Max length")+"</label>",a+='<input type="number" class="form-control" name="max_length" placeholder="'+app.trans("Max length")+'">',a+="</div>",a+="</div>",a+="</div>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<div class="form-group">',a+='<label for="default_value">'+app.trans("Default value")+"</label>",a+='<input type="text" class="form-control" name="default_value" placeholder="'+app.trans("Default value")+'">',a+="</div>",(a+="</div>")+"</div>"}}(),function(){"use strict";app.modulesFieldExtraOptions.template.textarea=function(){var a="";return a+="<h4>Extra options</h4>",a+='<div class="row">',a+='<div class="col-3 col-md-3">',a+='<label class="form-check-label">',a+='<input type="checkbox" name="field_textarea_tinymce"> <span class="checkbox-label">'+app.trans("Use TinyMCE")+"</span>",(a+="</label>")+"</div>"}}(),function(){"use strict";app.ticketConvoDelete={},app.ticketConvoDelete.config={button:".btn-delete-convo"},app.ticketConvoDelete.ajax=function(a){$(document).delegate(app.ticketConvoDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this convo!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=a.parents(".tb-actions-column").find(".dropdown-toggle"),n=t.html();$.ajax({type:"DELETE",url:a.attr("data-route"),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(t,n)}})}}})}))},app.ticketConvoDelete.init=function(){app.ticketConvoDelete.ajax()},$(document).ready(app.ticketConvoDelete.init())}(),function(){"use strict";app.ticketConvoUpdate={},app.ticketConvoUpdate.config={form:"#edit-ticket-convo-form"},app.ticketConvoUpdate.ajax=function(){$(app.ticketConvoUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.ticketConvoUpdate.config.form).attr("data-route"),t=$(app.ticketConvoUpdate.config.form).find(":submit"),n=t.html(),i=new FormData(this);$.each($(app.ticketConvoUpdate.config.form+" .ticket-reply-tinymce-default"),(function(){i.append($(this).attr("name"),tinyMCE.get($(this).attr("id")).getContent())})),$.ajax({type:"POST",url:e,data:i,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,e,i){var o=a;app.formErrors(app.ticketConvoUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(t,n)}})}))},app.ticketConvoUpdate.init=function(){app.ticketConvoUpdate.ajax(),$(".btn-edit-convo").click((function(){var a=$(this).attr("data-route"),e=$(this).parents(".media-body").find(".media-description").html();$("#edit-ticket-convo-modal").modal("show"),$("#edit-ticket-convo-modal form").attr("id",app.ticketConvoUpdate.config.form.substring(1)),$("#edit-ticket-convo-modal form").attr("data-route",a),tinymce.get("update_convo_message").setContent(e)}))},$(document).ready(app.ticketConvoUpdate.init())}(),function(){"use strict";app.ticketMediaDelete={},app.ticketMediaDelete.config={button:".ticket-remove-attachement"},app.ticketMediaDelete.removeElement=function(a){var e=a.parents("li").parents(".conversation-attachments-wrapper");e.find(".conversation-attachments").find("li").length>1?a.parent("li").remove():e.remove()},app.ticketMediaDelete.ajax=function(a){$(document).delegate(app.ticketMediaDelete.config.button,"click",(function(){var a=$(this);void 0===a.attr("disabled")&&bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this attachment!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=a,n=t.html();$.ajax({type:"DELETE",url:a.attr("data-route"),data:{uid:a.attr("data-uid")},beforeSend:function(){t.attr("disabled","disabled"),app.buttonLoader(t)},success:function(a,e,i){t.removeAttr("disabled"),app.notify(a.message),app.backButtonContent(t,n),app.ticketMediaDelete.removeElement(t)},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(t,n)}})}}})}))},app.ticketMediaDelete.init=function(){app.ticketMediaDelete.ajax()},$(document).ready(app.ticketMediaDelete.init())}(),function(){"use strict";app.ticketReply={},app.ticketReply.config={form:"#ticket-reply-form",route:"/tickets/reply"},app.ticketReply.ajax=function(){$(app.ticketReply.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.ticketReply.config.form).attr("data-type"),t=$(app.ticketReply.config.form).find(":submit"),n=t.html(),i=new FormData(this);$.each($(app.ticketReply.config.form+" .ticket-reply-tinymce-default"),(function(){i.append($(this).attr("name"),tinyMCE.get($(this).attr("id")).getContent())}));var o=$("#ticket-reply-attachments-dropzone").get(0).dropzone.getAcceptedFiles();$.each(o,(function(a,e){i.append("attachments["+a+"]",$("#ticket-reply-attachments-dropzone")[0].dropzone.getAcceptedFiles()[a])})),$.ajax({type:"POST",url:"/"+e+app.ticketReply.config.route,data:i,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,e,i){var o=a;app.formErrors(app.ticketReply.config.form,o.responseJSON,o.status),app.backButtonContent(t,n)}})}))},app.ticketReply.init=function(){app.ticketReply.ajax(),$("#btn-add-a-reply").on("click",(function(){$(".convo-reply-form").show(),$("#btn-add-a-note").attr("disabled",!1),$(".convo-actions-wrapper").removeClass("bg-warning"),$("#ticket-reply-attachments-dropzone").parents(".form-group").show(),$(app.ticketReply.config.form+' button[type="submit"]').removeClass("btn-warning"),$(app.ticketReply.config.form+' [name="is_note"]').remove(),$(this).attr("disabled",!0),$(".convo-actions-wrapper").addClass("bg-primary"),$(app.ticketReply.config.form+' button[type="submit"]').addClass("btn-primary")})),$("#btn-add-a-note").on("click",(function(){$(".convo-reply-form").show(),$("#btn-add-a-reply").attr("disabled",!1),$(".convo-actions-wrapper").removeClass("bg-primary"),$("#ticket-reply-attachments-dropzone").parents(".form-group").hide(),$(app.ticketReply.config.form+' button[type="submit"]').removeClass("btn-primary"),$(this).attr("disabled",!0),$(".convo-actions-wrapper").addClass("bg-warning"),$(app.ticketReply.config.form+' button[type="submit"]').addClass("btn-warning"),$(app.ticketReply.config.form).prepend('<input type="hidden" name="is_note" value="1">')})),$("#btn-close-reply-form").on("click",(function(){$(".convo-reply-form").hide(),$("#btn-add-a-reply").attr("disabled",!1),$(".convo-actions-wrapper").removeClass("bg-primary"),$("#btn-add-a-note").attr("disabled",!1),$(".convo-actions-wrapper").removeClass("bg-warning")})),$("#ticket-change-status").on("change",(function(){var a=$(this).val(),e=$(app.ticketReply.config.form+' [name="ticket_id"]').val();$.ajax({type:"POST",url:"/admin/tickets/status/"+e+"/change",data:JSON.stringify({status:a}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a,e,t){app.notify(a.message)},error:function(a,e,t){var n=a;app.notify(n.responseJSON.message)}})}))},$(document).ready(app.ticketReply.init())}(),function(){"use strict";app.ticketSubjectUpdate={},app.ticketSubjectUpdate.config={form:"#edit-ticket-subject-form"},app.ticketSubjectUpdate.ajax=function(){$(app.ticketSubjectUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.ticketSubjectUpdate.config.form).attr("data-route"),t=$(app.ticketSubjectUpdate.config.form).find(":submit"),n=t.html(),i=new FormData(this);$.ajax({type:"POST",url:e,data:i,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,e,i){var o=a;app.formErrors(app.ticketSubjectUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(t,n)}})}))},app.ticketSubjectUpdate.init=function(){app.ticketSubjectUpdate.ajax(),$(".btn-edit-subject").on("click",(function(){$("#edit-ticket-subject-modal").modal("show")}))},$(document).ready(app.ticketSubjectUpdate.init())}(),function(){"use strict";app.updateAddressProfile={},app.updateAddressProfile.config={form:"#profile-address-form",route:"/profile/address"},app.updateAddressProfile.data=function(){return $(this.config.form).serializeArray()},app.updateAddressProfile.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.updateProfileDetails.updateView(),app.notify(a.message)},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateAddressProfile.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.updateAddressProfile.init())}(),function(){"use strict";app.updateProfileAvatar={},app.updateProfileAvatar.config={image:null,uploadPhoto:null,avatarId:"#avatar",fileUploadPhotoId:"#file-upload-photo",btnTriggerUploadPhotoId:"#btn-trigger-upload-photo",avatarControlsClass:".avatar-controls",avatarWrapperClass:".avatar-wrapper",btnUploadPhotoId:"#btn-upload-photo",btnCancelPhotoId:"#btn-cancel-upload",profileAvatarClass:".profile-avatar",route:"/profile/avatar"},app.updateProfileAvatar.showModal=function(){$('[data-target="#general-profile-upload-photo"]').on("click",(function(){app.updateProfileAvatar.config.uploadPhoto=null,$(app.updateProfileAvatar.config.avatarId).croppie("destroy"),$(app.updateProfileAvatar.config.avatarId).removeClass("croppie-container"),app.updateProfileAvatar.showButtonTriggerUploadPhoto(),app.updateProfileAvatar.hideAvatarWapper(),app.updateProfileAvatar.hideAvatarControls()}))},app.updateProfileAvatar.triggerUploadFile=function(){$(app.updateProfileAvatar.config.btnTriggerUploadPhotoId).on("click",(function(){$(app.updateProfileAvatar.config.fileUploadPhotoId).trigger("click")}))},app.updateProfileAvatar.initCroppie=function(){var a=$(app.updateProfileAvatar.config.avatarId);$(app.updateProfileAvatar.config.avatarWrapperClass).width(),a.croppie("destroy"),app.updateProfileAvatar.config.uploadPhoto=a.croppie({enableExif:!0,viewport:{width:150,height:150,type:"circle"},boundary:{width:300,height:300}}),app.updateProfileAvatar.config.image&&app.updateProfileAvatar.config.uploadPhoto.croppie("bind",{url:app.updateProfileAvatar.config.image})},app.updateProfileAvatar.fileUploadPhotoChange=function(){$(app.updateProfileAvatar.config.fileUploadPhotoId).on("change",(function(){var a=new FileReader;a.onload=function(a){app.updateProfileAvatar.config.image=a.target.result,app.updateProfileAvatar.initCroppie(),app.updateProfileAvatar.hideButtonTriggerUploadPhoto(),app.updateProfileAvatar.showAvatarWapper(),app.updateProfileAvatar.showAvatarControls()},a.readAsDataURL(this.files[0])}))},app.updateProfileAvatar.uploadPhoto=function(){$(app.updateProfileAvatar.config.btnUploadPhotoId).on("click",(function(a){app.updateProfileAvatar.config.uploadPhoto.croppie("result",{type:"canvas",size:"viewport"}).then((function(a){var e=$(app.updateProfileAvatar.config.btnUploadPhotoId),t=e.html();$.ajax({url:app.updateProfileAvatar.config.route,type:"POST",data:{avatar:a},beforeSend:function(){app.buttonLoader(e)},success:function(a){app.notify(a.message),app.updateProfileAvatar.appendAvatar(a.data.path),app.closeModal()},complete:function(a){app.backButtonContent(e,t)},error:function(a){app.notify(a.responseJSON.message),app.closeModal()}})}))}))},app.updateProfileAvatar.appendAvatar=function(a){$(app.updateProfileAvatar.config.profileAvatarClass).attr("src",a)},app.updateProfileAvatar.cancelUpload=function(){$(app.updateProfileAvatar.config.btnCancelPhotoId).click((function(){app.updateProfileAvatar.config.uploadPhoto=null,$(app.updateProfileAvatar.config.avatarId).croppie("destroy"),$(app.updateProfileAvatar.config.avatarId).removeClass("croppie-container"),app.updateProfileAvatar.showButtonTriggerUploadPhoto(),app.updateProfileAvatar.hideAvatarWapper(),app.updateProfileAvatar.hideAvatarControls()}))},app.updateProfileAvatar.triggerWindowResize=function(){var a;$(window).resize((function(){app.updateProfileAvatar.config.uploadPhoto&&(a&&clearTimeout(a),a=setTimeout(app.updateProfileAvatar.initCroppie(),100))}))},app.updateProfileAvatar.hideAvatarWapper=function(){$(app.updateProfileAvatar.config.avatarWrapperClass).hide()},app.updateProfileAvatar.showAvatarWapper=function(){$(app.updateProfileAvatar.config.avatarWrapperClass).show()},app.updateProfileAvatar.hideAvatarControls=function(){$(app.updateProfileAvatar.config.avatarControlsClass).hide()},app.updateProfileAvatar.showAvatarControls=function(){$(app.updateProfileAvatar.config.avatarControlsClass).show()},app.updateProfileAvatar.hideButtonTriggerUploadPhoto=function(){$(app.updateProfileAvatar.config.btnTriggerUploadPhotoId).hide()},app.updateProfileAvatar.showButtonTriggerUploadPhoto=function(){$(app.updateProfileAvatar.config.btnTriggerUploadPhotoId).show()},app.updateProfileAvatar.init=function(){this.showModal(),this.triggerUploadFile(),this.triggerWindowResize(),this.fileUploadPhotoChange(),this.uploadPhoto(),this.cancelUpload()},$(document).ready(app.updateProfileAvatar.init())}(),function(){"use strict";app.updateCompanyProfile={},app.updateCompanyProfile.config={form:"#profile-company-form",route:"/profile/company"},app.updateCompanyProfile.data=function(){return $(this.config.form).serializeArray()},app.updateCompanyProfile.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.updateProfileDetails.updateView(),app.notify(a.message)},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateCompanyProfile.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.updateCompanyProfile.init())}(),function(){"use strict";app.updateProfileCurrency={},app.updateProfileCurrency.config={form:"#profile-currency-form",route:"/profile/currency"},app.updateProfileCurrency.data=function(){return $(this.config.form).serializeArray()},app.updateProfileCurrency.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message)},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateProfileCurrency.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.updateProfileCurrency.init())}(),function(){"use strict";app.updateProfileDetails={},app.updateProfileDetails.config={form:"#profile-details-form",route:"/profile/details"},app.updateProfileDetails.data=function(){return $(this.config.form).serializeArray()},app.updateProfileDetails.updateView=function(){$(".profile-first-name").text($('[name="first_name"]').val()),$(".profile-last-name").text($('[name="last_name"]').val())},app.updateProfileDetails.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.updateProfileDetails.updateView(),app.notify(a.message)},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateProfileDetails.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.updateProfileDetails.init())}(),function(){"use strict";app.updateProfileLanguage={},app.updateProfileLanguage.config={form:"#profile-language-form",route:"/profile/language"},app.updateProfileLanguage.data=function(){return $(this.config.form).serializeArray()},app.updateProfileLanguage.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.redirect("/profile")},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateProfileLanguage.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.updateProfileLanguage.init())}(),function(){"use strict";app.updateProfileLoginService={},app.updateProfileLoginService.config={route:"/profile/disconnect-social"},app.updateProfileLoginService.socialDisconnect=function(a){var e=a.attr("data-provider"),t=a.html();$.ajax({type:"POST",url:this.config.route,data:{provider:e},beforeSend:function(){app.buttonLoader(a)},success:function(e,t,n){app.updateProfileLoginService.socialDisconnectResponse(a,e)},complete:function(e){app.backButtonContent(a,t)},error:function(a,e,t){app.notifyError(a.responseJSON)}})},app.updateProfileLoginService.socialDisconnectResponse=function(a,e){a.attr("data-route",e.data.route),app.notify(e.message),setTimeout((function(){a.find(".caption").text(e.data.caption)}),500)},app.updateProfileLoginService.provider=function(){$(".btn-disconnect-social").on("click",(function(){var a=$(this),e=a.attr("data-route");""==e?app.updateProfileLoginService.socialDisconnect(a):app.redirect(e)}))},app.updateProfileLoginService.init=function(){this.provider()},$(document).ready(app.updateProfileLoginService.init())}(),function(){"use strict";app.updateProfilePassword={},app.updateProfilePassword.config={form:"#profile-password-form",route:"/profile/password"},app.updateProfilePassword.data=function(){return $(this.config.form).serializeArray()},app.updateProfilePassword.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message),a.data.redirectTo&&setTimeout((function(){app.redirect(a.data.redirectTo)}),1e3)},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateProfilePassword.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.updateProfilePassword.init())}(),function(){"use strict";app.updateProfileTimezone={},app.updateProfileTimezone.config={form:"#profile-timezone-form",route:"/profile/timezone"},app.updateProfileTimezone.data=function(){return $(this.config.form).serializeArray()},app.updateProfileTimezone.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message)},complete:function(a){app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.updateProfileTimezone.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.updateProfileTimezone.init())}(),function(){"use strict";app.userActivitiesDatatable={},app.userActivitiesDatatable.config={datatable:{selectable:!1,src:"/profile/activities/datatable",resourceName:{singular:"activity",plural:"activities"},columns:[{title:app.trans("Activity"),key:"description",searchable:!0,hidden:!1,element:function(a){var e="<span>";return e+="<b>"+app.trans("You")+" </b>",e+=a.description,e+=" &#9679; <i>"+a.created_at_for_humans+"</i></span>",e+='<br><span>(<a href="https://whatismyipaddress.com/ip/'+a.properties.user_ip+'" target="_blank" rel="nofollow">'+a.properties.user_ip+"</a>)</span>",$(e)}},{title:app.trans("User agent"),key:"user_agent",classes:"user-agent-column",searchable:!1,hidden:!1,element:function(a){if(void 0!==a.properties.user_agent)var e="<span>"+a.properties.user_agent+"</span>";else e="<span>&nbsp;</span>";return $(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No user activities were found!")},filterTabs:[{label:app.trans("All"),filters:[]}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")}]},limit:25}},app.userActivitiesDatatable.init=function(){app.userActivitiesDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.userActivitiesDatatable.tb=$("#user-activities-datatable").JsDataTable(this.config.datatable))},$(document).ready(app.userActivitiesDatatable.init())}(),function(){"use strict";app.userOrderDatatable={},app.userOrderDatatable.config={datatable:"#user-orders-datatable",options:{src:"/user/orders/datatable",resourceName:{singular:app.trans("order"),plural:app.trans("orders")},columns:[{title:app.trans("Date"),key:"date",classes:"order-date-column",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"amount",classes:"order-amount-column hidden md:table-cell",searchable:!1,orderable:!1},{title:app.trans("Items"),key:"items_count",classes:"order-amount-column hidden md:table-cell",searchable:!1,orderable:!1},{title:app.trans("Tracking"),key:"status",classes:"order-status-column hidden md:table-cell",element:function(a){var e=a.status.charAt(0).toUpperCase()+a.status.slice(1),t='<div class="btn-group">';return t+='<button type="button" class="btn btn-sm btn-'+a.tracking_status_color+'">'+e+"</button>",t+="</div>",$(t)}},{title:app.trans("Payment status"),key:"paid",classes:"order-paid-column hidden md:table-cell",element:function(a){var e=a.status.charAt(0).toUpperCase()+a.status.slice(1),t="warning";return e="Pending",a.paid&&(t="primary",e="Paid"),$('<span class="badge badge-'+t+'">'+e+"</span>")}},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/user/orders/'+a.id+'/show">'+app.trans("Show details")+"</a>",e+='<a class="dropdown-item btn-download-invoice-order" data-route="/user/orders/'+a.id+'/download-invoice" href="#">'+app.trans("Download invoice")+"</a>",a.paid||"pending"!==a.status||(e+='<a class="dropdown-item text-danger btn-cancel-order" data-route="/user/orders/'+a.id+'/cancel" href="#">'+app.trans("Cancel order")+"</a>"),e+="</div>",$(e)}}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")}]},selectable:!1}},app.userOrderDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.userOrderDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.userOrderDatatable.init=function(){this.initDatatable()},$(document).ready(app.userOrderDatatable.init())}(),app.userSubscriptionCancel={},app.userSubscriptionCancel.config={button:".btn-cancel-user-subscription"},app.userSubscriptionCancel.ajax=function(a){var e=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Cancelling subscription")+"...</p>",closeButton:!1});$.ajax({type:"GET",url:a,success:function(a,t,n){setTimeout((function(){app.notify(a.message),e.modal("hide"),app.userSubscriptionDatatable.datatable?app.userSubscriptionDatatable.datatable.refresh():a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},error:function(a,t,n){var i=a;setTimeout((function(){e.modal("hide"),bootbox.alert(i.responseJSON.message)}),500)}})},app.userSubscriptionCancel.process=function(a){var e=this,t=$(a.target).data("id");bootbox.confirm({title:"Cancel subscription?",message:"Do you want to cancel your subscription? Once canceled cannot be reverted.",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancel'},confirm:{label:'<i class="fa fa-check"></i> Confirm'}},callback:function(a){if(a){var n="/user/subscriptions/"+t+"/cancel";e.ajax(n)}}})},app.userSubscriptionCancel.init=function(){$(document).delegate(this.config.button,"click",this.process.bind(this))},$(document).ready(app.userSubscriptionCancel.init()),app.userSubscriptionDatatable={},app.userSubscriptionDatatable.getStatusHtml=function(a){var e="secondary";switch(a.status){case"active":e="primary";break;case"cancelled":case"past_due":e="warning";break;case"ended":e="danger";break;case"trialing":e="info";break;default:e="secondary"}var t=a.status.replace(/\_/g," "),n=t.charAt(0).toUpperCase()+t.slice(1);return $('<div class="badge badge-'+e+'" data-toggle="tooltip" data-placement="top" title="" data-original-title="'+a.status_display+'">'+n+"</div>")},app.userSubscriptionDatatable.config={datatable:{src:"/user/subscriptions/datatable",resourceName:{singular:app.trans("subscription"),plural:app.trans("subscriptions")},columns:[{title:app.trans("Subscriber"),key:"subscriber",classes:"",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell w-50px",searchable:!1,element:function(a){return app.userSubscriptionDatatable.getStatusHtml(a)}},{title:app.trans("Package"),key:"package.name",classes:"hidden md:table-cell",searchable:!1,element:function(a){var e='<div class="d-flex flex-column align-items-start">';return e+='<span class="mb-1">'+a.package+"</span>",e+='<span class="free-billing-badge '+(a.unit_price?"text-white bg-primary":"")+'">',a.is_free?e+="Free billing":a.recurring?e+=a.total+" - "+a.item.price.term.description+" billing":e+=a.total+" - forever",e+="</span>",e+="</div>",$(e)}},{title:app.trans("Type"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="Lifetime";return a.recurring&&(e="Recurring"),$("<span>"+e+"</span>")}},{title:app.trans("Gateway"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,element:function(a){var e=a.gateway.charAt(0).toUpperCase()+a.gateway.slice(1);return $("<span>"+e+"</span>")}},{title:app.trans("Created"),key:"created_at",classes:"hidden md:table-cell",searchable:!1,element:function(a){return $("<span>"+a.created_at_display+"</span>")}},{title:"",key:"actions",searchable:!1,classes:"menu-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/user/subscriptions/'+a.id+'">'+app.trans("View subscription")+"</a>",e+='<a class="dropdown-item" href="/user/subscriptions/'+a.id+'/module-usages">'+app.trans("View module usage")+"</a>",a.can_cancel&&(e+='<a class="dropdown-item text-danger btn-cancel-user-subscription" href="javascript:void(0)" role="button" data-id="'+a.id+'">'+app.trans("Cancel subscription")+"</a>"),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No subscriptions were found!")},filterControl:[{key:"type",title:app.trans("Type"),choices:[{label:app.trans("Recurring"),value:"recurring"},{label:app.trans("Onetime"),value:"onetime"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""},{key:"gateway",title:app.trans("Gateway"),choices:[],shortcut:!0,allowMultiple:!0,showClear:!0,value:""},{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Trialing"),value:"trialing"},{label:app.trans("Active"),value:"active"},{label:app.trans("Past due"),value:"past_due"},{label:app.trans("Canceled"),value:"canceled"},{label:app.trans("Ended"),value:"ended"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:25,yajra:!0,selectable:!1,query:{subscription:$("#Subscription_id").val()}}},app.userSubscriptionDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#user-subscriptions-datatable").length&&(app.userSubscriptionDatatable.datatable={},app.userSubscriptionDatatable.datatable=$("#user-subscriptions-datatable").JsDataTable(app.userSubscriptionDatatable.config.datatable),$("#user-subscriptions-datatable").on("table:draw.finish",(function(a,e){$('[data-toggle="tooltip"]').tooltip()})))},app.userSubscriptionDatatable.init(),app.userSubscriptionPaymentDatatable={},app.userSubscriptionPaymentDatatable.config={datatable:{src:"/user/subscriptions/payments/datatable",resourceName:{singular:app.trans("payment"),plural:app.trans("payments")},columns:[{title:app.trans("Amount"),key:"amount",classes:"",searchable:!1},{title:app.trans("Description"),key:"description",classes:"",searchable:!1},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell",searchable:!1,element:function(a){return $('<span class="badge badge-'+a.state_color+'">'+a.state_label+"</span>")}},{title:app.trans("Gateway"),key:"gateway",classes:"hidden md:table-cell",searchable:!1,element:function(a){var e=a.gateway.charAt(0).toUpperCase()+a.gateway.slice(1);return $("<span>"+e+"</span>")}},{title:app.trans("Date"),key:"created",classes:"hidden md:table-cell",searchable:!1},{title:"",key:"actions",searchable:!1,classes:"subscription-payments-actions-column tb-actions-column text-right",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',e+='<a class="dropdown-item" href="/user/invoices/'+a.transaction_id+'">'+app.trans("View invoice")+"</a>",e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No payments were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("Pending"),value:"pending"},{label:app.trans("Paid"),value:"paid"},{label:app.trans("Failed"),value:"failed"}],shortcut:!0,allowMultiple:!1,showClear:!0,value:""}],sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:15,selectable:!1,yajra:!0,query:{subscription:$("#Subscription_id").val()}}},app.userSubscriptionPaymentDatatable.init=function(){void 0!==$.fn.JsDataTable&&$("#user-customer-payments-datatable").length&&(app.userSubscriptionPaymentDatatable.datatable={},app.userSubscriptionPaymentDatatable.datatable=$("#user-customer-payments-datatable").JsDataTable(app.userSubscriptionPaymentDatatable.config.datatable))},app.userSubscriptionPaymentDatatable.init(),function(){"use strict";app.userSubscriptionChange={},app.userSubscriptionChange.config={button:"#btn-submit-subscription-change"},app.userSubscriptionChange.ajax=function(a){var e=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Changing subscription")+"...</p>",closeButton:!1});$.ajax({type:"GET",url:a,success:function(a,e,t){setTimeout((function(){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},error:function(a,t,n){var i=a;setTimeout((function(){e.modal("hide"),bootbox.alert(i.responseJSON.message)}),500)}})},app.userSubscriptionChange.process=function(a){var e=$(a.target).data("href"),t=$(a.target);bootbox.confirm({title:app.trans("Are you sure to change the package?"),message:app.trans("Are you sure you want to change your package? Your previous subscription will be cancelled."),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Confirm")}},callback:function(a){a&&$.ajax({type:"GET",url:e,beforeSend:function(){t.attr("disabled",!0).addClass("loading disabled")},success:function(a,e,n){t.attr("disabled",!1).removeClass("loading disabled"),setTimeout((function(){app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},error:function(a,e,n){var i=a;t.attr("disabled",!1).removeClass("loading disabled"),setTimeout((function(){bootbox.alert(i.responseJSON.message)}),500)}})}})},app.userSubscriptionChange.init=function(){$(document).delegate(this.config.button,"click",this.process.bind(this))},$(document).ready(app.userSubscriptionChange.init())}(),function(){"use strict";app.userSubscriptionsManualPaymentCheckout={},app.userSubscriptionsManualPaymentCheckout.config={form:"#subscription-manual-payment-checkout"},app.userSubscriptionsManualPaymentCheckout.ajax=function(){$(app.userSubscriptionsManualPaymentCheckout.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.userSubscriptionsManualPaymentCheckout.config.form).find(":submit"),t=e.html();console.log(e.data("route")),$.ajax({type:"POST",url:e.data("route"),beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){a.message&&app.notify(a.message),a.data.redirectTo&&app.redirect(a.data.redirectTo)}),500)},error:function(a,n,i){var o=a;app.formErrors(app.userSubscriptionsManualPaymentCheckout.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.userSubscriptionsManualPaymentCheckout.init=function(){app.userSubscriptionsManualPaymentCheckout.ajax()},$(document).ready(app.userSubscriptionsManualPaymentCheckout.init())}(),function(){"use strict";app.userAffiliate={},app.userAffiliate.config={urlClipboardBtn:".btn-copy-affiliate-code-clipboard"},app.userAffiliate.copyUrlToClipboard=function(){$(this.config.urlClipboardBtn).on("click",(function(){var a=$(this).find("code")[0];navigator.clipboard.writeText(a.innerText)}))},app.userAffiliate.init=function(){this.copyUrlToClipboard()},$(document).ready(app.userAffiliate.init())}(),function(){"use strict";app.userAffiliateCommissionDatatable={},app.userAffiliateCommissionDatatable.config={datatable:"#user-affiliate-commissions-datatable",options:{src:"/user/commissions/datatable",resourceName:{singular:app.trans("commission"),plural:app.trans("commissions")},columns:[{title:app.trans("Referred user"),key:"referred",classes:"user-commission-referred-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.user,'</strong>\n                            <span class="text-muted text-sm">').concat(a.user_email,"</span>\n                        </div>\n                    "))}},{title:app.trans("Amount"),key:"withdrawable_amount",classes:"user-commission-withdrawable-amount-row",searchable:!1,orderable:!1},{title:app.trans("Type"),key:"type",classes:"user-commission-type-row"},{title:app.trans("Date"),key:"date",classes:"user-commission-date-row"},{title:app.trans("Status"),key:"status",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){return"Rejected"===a.status_label&&a.rejected_reason?$('<span class="badge badge-'+a.status_color+'" data-toggle="tooltip" data-original-title="'+a.rejected_reason+'">'+a.status_label+"</span>"):$('<span class="badge badge-'+a.status_color+'">'+a.status_label+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"user-commission-actions-row tb-actions-column text-right",element:function(a){return"Withdrawable"===a.status_label?$('<button type="button" class="btn btn-primary btn-sm btn-commission-withdraw" data-route="/user/commissions/'.concat(a.id,'/withdraw"><i class="fas fa-money-bill"></i></button>')):$('<span class="text-muted">--</span>')}},{title:"user",key:"user.first_name",hidden:!0},{title:"user",key:"user.last_name",hidden:!0},{title:"user",key:"user.email",hidden:!0},{title:"affiliate",key:"affiliate.user.first_name",hidden:!0},{title:"affiliate",key:"affiliate.user.last_name",hidden:!0},{title:"affiliate",key:"affiliate.user.email",hidden:!0},{title:"amount",key:"amount",hidden:!0},{title:"rate",key:"rate",hidden:!0}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No commissions were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("For verification"),value:"For verification"},{label:app.trans("Withdrawable"),value:"Withdrawable"},{label:app.trans("Completed"),value:"Completed"},{label:app.trans("Rejected"),value:"Rejected"}],hidden:!0,shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],filterTabs:[{label:app.trans("All"),filters:[]},{label:app.trans("For verification"),filters:[{key:"status",value:"For verification"}]},{label:app.trans("Withdrawable"),filters:[{key:"status",value:"Withdrawable"}]},{label:app.trans("Completed"),filters:[{key:"status",value:"Completed"}]},{label:app.trans("Rejected"),filters:[{key:"status",value:"Rejected"}]}],selectable:!1,sortControl:{value:"created_at__desc",options:[{value:"created_at__desc",label:app.trans("Latest Created")},{value:"created_at__asc",label:app.trans("Oldest Created")}]},limit:25}},app.userAffiliateCommissionDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.userAffiliateCommissionDatatable.table=$(this.config.datatable).JsDataTable(this.config.options),$(this.config.datatable).on("table:draw.finish",(function(a,e){$('[data-toggle="tooltip"]').tooltip()})))},app.userAffiliateCommissionDatatable.init=function(){this.initDatatable()},$(document).ready(app.userAffiliateCommissionDatatable.init())}(),function(){"use strict";app.userAffiliateCommissionWithdraw={},app.userAffiliateCommissionWithdraw.config={button:".btn-commission-withdraw"},app.userAffiliateCommissionWithdraw.ajax=function(){$(document).delegate(this.config.button,"click",(function(a){var e=$(this),t=e.html(),n=$(this).data("route");bootbox.confirm({title:app.trans("Withdraw commission?"),message:app.trans("To withdraw, kindly move commission to your wallet. Do you want to continue?"),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Move now")}},callback:function(a){a&&$.ajax({type:"GET",url:n,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.userAffiliateCommissionDatatable.table.refresh()}),350)},error:function(a,n,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(e,t)}),350)}})}})}))},app.userAffiliateCommissionWithdraw.init=function(){this.ajax()},$(document).ready(app.userAffiliateCommissionWithdraw.init())}(),function(){"use strict";app.userAffiliateCommissionWithdrawAll={},app.userAffiliateCommissionWithdrawAll.config={button:".btn-commission-withdraw-all",route:"/user/commissions/withdraw-all",redirectTo:"/user/affiliates"},app.userAffiliateCommissionWithdrawAll.ajax=function(){var a=this;$(document).delegate(a.config.button,"click",(function(e){var t=$(this),n=t.html();bootbox.confirm({title:app.trans("Withdraw all?"),message:app.trans("To withdraw all available commissions, kindly move commission to your wallet. Do you want to continue?"),buttons:{cancel:{label:'<i class="fa fa-times"></i> '+app.trans("Cancel")},confirm:{label:'<i class="fa fa-check"></i> '+app.trans("Move all now")}},callback:function(e){e&&$.ajax({type:"GET",url:a.config.route,beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,e,i){var o=a;setTimeout((function(){app.notify(o.responseJSON.message),app.backButtonContent(t,n)}),350)}})}})}))},app.userAffiliateCommissionWithdrawAll.init=function(){this.ajax()},$(document).ready(app.userAffiliateCommissionWithdrawAll.init())}(),function(){"use strict";app.userAffiliateReferralDatatable={},app.userAffiliateReferralDatatable.config={levelSelect:"#affiliate-referral-level",datatable:"#user-affiliate-referrals-datatable",options:{src:"/user/affiliates/referrals/datatable",resourceName:{singular:app.trans("referral"),plural:app.trans("referrals")},columns:[{title:app.trans("User"),key:"user",classes:"user-affiliate-referral-user-row",searchable:!1,orderable:!1,element:function(a){return $('\n                        <div class="d-flex flex-column">\n                            <strong>'.concat(a.user,'</strong>\n                            <span class="text-muted text-sm">').concat(a.email,"</span>\n                        </div>\n                    "))}},{title:app.trans("For verification"),key:"verification",classes:"admin-affiliate-referral-verification-row"},{title:app.trans("Withdrawable"),key:"withdrawable",classes:"admin-affiliate-referral-withdrawable-row"},{title:app.trans("Completed"),key:"completed",classes:"admin-affiliate-referral-completed-row"},{title:app.trans("Rejected"),key:"rejected",classes:"admin-affiliate-referral-rejected-row"},{title:app.trans("Created"),key:"created",classes:"admin-affiliate-referral-created-row text-right"}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No referred users were found!")},query:{level:1},selectable:!1,showSearchQuery:!1,limit:25}},app.userAffiliateReferralDatatable.levelChange=function(){var a=this;$(a.config.levelSelect).on("change",(function(){var e=this.value;a.table.setQuery({level:e},!0)}))},app.userAffiliateReferralDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.userAffiliateReferralDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.userAffiliateReferralDatatable.init=function(){this.initDatatable(),this.levelChange()},$(document).ready(app.userAffiliateReferralDatatable.init())}(),function(){"use strict";app.userAutomaticGatewayDepositCheckout={},app.userAutomaticGatewayDepositCheckout.process=function(){$("#btn-submit-automatic-deposit-checkout").on("click",(function(){var a=$(this).data("route"),e=parseFloat(app.depositCheckout.getAmount()),t=app.depositCheckout.getCurrency(),n=$(this);e&&$.ajax({type:"POST",url:a,data:{amount:e,currency:t},beforeSend:function(){n.attr("disabled",!0).addClass("disabled btn-progress")},success:function(a,e,t){setTimeout((function(){a.message&&app.notify(a.message),a.data.location&&(window.location=a.data.location)}),500)},complete:function(a){n.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,e,t){n.attr("disabled",!1).removeClass("disabled btn-progress");var i=a;setTimeout((function(){app.notify(i.responseJSON.message)}),350),app.formErrors("#checkout-form",i.responseJSON,i.status)}})}))},app.userAutomaticGatewayDepositCheckout.init=function(){this.process()},$(document).ready(app.userAutomaticGatewayDepositCheckout.init())}(),function(){"use strict";app.userCreateAffiliateUser={},app.userCreateAffiliateUser.config={btn:"#btn-create-affiliate-user",route:"/user/affiliates/create"},app.userCreateAffiliateUser.ajax=function(){$(app.userCreateAffiliateUser.config.btn).on("click",(function(a){a.preventDefault();var e=$(app.userCreateAffiliateUser.config.btn),t=e.html();$.ajax({type:"POST",url:app.userCreateAffiliateUser.config.route,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e),e.addClass("disabled").prop("disabled",!0)},success:function(a,t,n){app.redirect(a.data.redirectTo),app.notify(a.message),e.removeClass("disabled").prop("disabled",!1)},error:function(a,n,i){var o=a;app.notify(o.responseJSON.message),app.backButtonContent(e,t),e.removeClass("disabled").prop("disabled",!1)}})}))},app.userCreateAffiliateUser.init=function(){this.ajax()},$(document).ready(app.userCreateAffiliateUser.init())}(),function(){"use strict";app.userDepositHistoryDatatable={},app.userDepositHistoryDatatable.config={datatable:"#user-deposit-histories-datatable",route:"/user/deposits/histories/datatable",options:{src:"/user/deposits/histories/datatable",resourceName:{singular:app.trans("deposit history"),plural:app.trans("deposit histories")},columns:[{title:app.trans("Transaction ID"),key:"trx",classes:"deposit-history-trx-row"},{title:app.trans("Gateway"),key:"gateway",classes:"deposit-history-gateway-row",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"total",classes:"deposit-history-total-row",searchable:!1,orderable:!1},{title:app.trans("Date"),key:"date",classes:"deposit-history-date-row",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t=app.trans("Pending");return a.rejected_at?(e="danger",t=app.trans("Rejected")):a.status&&(e="primary",t=app.trans("Completed")),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"manual-gateway-actions-column tb-actions-column text-right",element:function(a){return $('<a href="javascript:void(0)" class="btn btn-primary btn-sm btn-deposit-request-details-show" data-id="'.concat(a.id,'"><i class="fas fa-eye"></i></a>'))}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No deposit histories were found!")},selectable:!1,showSearchQuery:!1,limit:25}},app.userDepositHistoryDatatable.initShowDetails=function(){$(document).delegate(".btn-deposit-request-details-show","click",(function(){var a=$(this).closest("a").data("id"),e=app.userDepositHistoryDatatable.table.findItem("id",parseInt(a));if(e){var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>'.concat(app.trans("Transaction ID"),"</span>\n                                <span>\n                                    ").concat(e.trx,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Date"),"</span>\n                                <span>\n                                    ").concat(e.date,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Gateway"),"</span>\n                                <span>\n                                    ").concat(e.gateway_name,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.total,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Charge"),"</span>\n                                <span>\n                                    ").concat(e.charge_display,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Payable"),"</span>\n                                <span>\n                                    ").concat(e.payable_display,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Status"),'</span>\n                                <strong class="').concat(e.status?"text-success":e.rejected_at?"text-danger":"",'">\n                                    ').concat(e.status?"Approved":e.rejected_at?"Rejected":"Pending","\n                                </strong>\n                            </div>\n                        </li>");e.rejected_at&&(t+='<li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>'.concat(app.trans("Rejected date"),"</span>\n                                <span>\n                                    ").concat(e.rejected_date,"\n                                </span>\n                            </div>\n                        </li>"),e.reject_reason&&(t+='<li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>'.concat(app.trans("Rejected reason"),"</span>\n                                <span>\n                                    ").concat(e.reject_reason,"\n                                </span>\n                            </div>\n                        </li>"))),t+="</ul>",bootbox.dialog({title:app.trans("Deposit details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.userDepositHistoryDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.userDepositHistoryDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.userDepositHistoryDatatable.init=function(){this.initDatatable(),this.initShowDetails()},$(document).ready(app.userDepositHistoryDatatable.init())}(),function(){"use strict";app.userManualGatewayDepositCheckout={},app.userManualGatewayDepositCheckout.image=function(){var a=$(".checkout-image"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"image",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:".jpeg,.jpg,.png,.gif",init:function(){var a=app.baseDropzone.countUploaded(".checkout-gateway-image-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.userManualGatewayDepositCheckout.data=function(){var a=new FormData,e=$("#checkout-form").serializeArray();$(".checkout-image").length&&$.each($(".checkout-image"),(function(){var e=$(this).get(0).dropzone.getAcceptedFiles(),t=this;$.each(e,(function(e,n){a.append("user_data["+$(t).data("field-name")+"]",$(t)[0].dropzone.getAcceptedFiles()[e])}))}));for(var t=0;t<e.length;t++){var n=e[t];a.append("user_data["+n.name+"]",n.value)}return a.append("amount",parseFloat(app.depositCheckout.getAmount())),a},app.userManualGatewayDepositCheckout.process=function(){var a=this;$("#btn-submit-manual-deposit-checkout").on("click",(function(){var e=$(this).data("route"),t=$(this),n=a.data();parseFloat(n.get("amount"))&&$.ajax({type:"POST",url:e,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){t.attr("disabled",!0).addClass("disabled btn-progress")},success:function(a,e,t){setTimeout((function(){a.message&&app.notify(a.message),a.data.location&&(window.location=a.data.location)}),500)},complete:function(a){t.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,e,n){var i=a;t.attr("disabled",!1).removeClass("disabled btn-progress"),setTimeout((function(){app.notify(i.responseJSON.message)}),350),app.formErrors("#checkout-form",i.responseJSON,i.status)}})}))},app.userManualGatewayDepositCheckout.init=function(){"undefined"!=typeof Dropzone&&$(".checkout-image").length&&$(".manual-deposit-checkout").length&&(Dropzone.autoDiscover=!1,app.userManualGatewayDepositCheckout.image()),this.process()},$(document).ready(app.userManualGatewayDepositCheckout.init())}(),app.userProducts={},app.userProducts.init=function(){},$(document).ready(app.userProducts.init()),app.userProductsCreate={},app.userProductsCreate.config={form:"#user-products-create-form",route:"/user/products/create"},app.userProductsCreate.ajax=function(){$(app.userProductsCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.userProductsCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.userProductsCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.userProductsCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.userProductsCreate.init=function(){app.userProductsCreate.ajax()},$(document).ready(app.userProductsCreate.init()),app.userProductsDatatable={},app.userProductsDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete product(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.userProductsDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.userProductsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.userProductsDatatable.restore=function(){$(document).delegate(".btn-user-products-restore","click",(function(){var a=$(this).attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this product!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"post",url:app.userProductsDatatable.config.restore.route,data:{id:a},success:function(a,e,t){app.notify(a.message),app.userProductsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.userProductsDatatable.forceDelete=function(){$(document).delegate(".btn-user-products-force-delete","click",(function(){var a=$(this).attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this product!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"delete",url:app.userProductsDatatable.config.forceDelete.route,data:{id:a},success:function(a,e,t){app.notify(a.message),app.userProductsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.userProductsDatatable.config={delete:{route:"/user/products/multi-delete"},restore:{route:"/user/products/restore"},forceDelete:{route:"/user/products/force-delete"},datatable:{src:"/user/products/datatable",resourceName:{singular:app.trans("product"),plural:app.trans("products")},columns:[{title:app.trans("Product"),key:"price",searchable:!0,classes:"products-title-column",element:function(a){var e='<div class="d-flex">';return e+='<img class="mr-3 rounded" width="55" src="'+a.image+'" alt="product">',e+='<div class="d-flex flex-column">',e+='<a href="/user/products/'+a.id+'/show" class="fw-bolder">'+a.title+"</a>",e+='<div class="mt-2 text-sm">',e+="<p>"+a.description+"</p>",e+="</div>",e+="</div>",e+="</div>",$(e)}},{title:app.trans("Price"),key:"unit_price",classes:"products-price-column",searchable:!1,orderable:!1},{title:app.trans("Stock"),key:"stock",searchable:!0,classes:"products-stock-column"},{title:app.trans("Rating"),key:"rating",searchable:!0,classes:"products-rating-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"products-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&(app.can("user.products.show")&&(e+='<a class="dropdown-item" href="/user/products/'+a.id+'/show"><i class="fas fa-eye"></i> '+app.trans("View")+"</a>"),app.can("user.products.edit")&&(e+='<a class="dropdown-item" href="/user/products/'+a.id+'/edit"><i class="fas fa-edit"></i> '+app.trans("Edit")+"</a>"),app.can("user.products.delete")&&(e+='<a class="dropdown-item btn-user-products-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Delete")+"</a>")),null!==a.deleted_at&&(app.can("user.products.restore")&&(e+='<a class="dropdown-item btn-user-products-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> '+app.trans("Restore")+"</a>"),app.can("user.products.force-delete")&&(e+='<a class="dropdown-item btn-user-products-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Force delete")+"</a>")),e+='<a class="dropdown-item btn-add-single-cart-item" href="javascript:void(0)" data-object="'+a.purchasable_object+'" data-key="'+a.purchasable_key+'"><i class="fas fa-shopping-cart"></i> '+app.trans("Add to cart")+"</a>",e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No products were found!")},sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"price__asc",label:app.trans("Price")+" ( A - Z )"},{value:"price__desc",label:app.trans("Price")+" ( Z - A )"},{value:"title__asc",label:app.trans("Title")+" ( A - Z )"},{value:"title__desc",label:app.trans("Title")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.userProductsDatatable.delete,status:"error"}],limit:10}},app.userProductsDatatable.init=function(){app.userProductsDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.userProductsDatatable.tb=$("#user-products-datatable").JsDataTable(this.config.datatable)),app.userProductsDatatable.restore(),app.userProductsDatatable.forceDelete()},$(document).ready(app.userProductsDatatable.init()),app.userProductsDelete={},app.userProductsDelete.config={button:".btn-user-products-delete"},app.userProductsDelete.ajax=function(a){$(document).delegate(app.userProductsDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this product!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){e&&$.ajax({type:"DELETE",url:"/user/products/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(a)},success:function(a,e,t){app.notify(a.message),app.userProductsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})}))},app.userProductsDelete.init=function(){app.userProductsDelete.ajax()},$(document).ready(app.userProductsDelete.init()),app.userProductsUpdate={},app.userProductsUpdate.config={form:"#user-products-edit-form"},app.userProductsUpdate.route=function(a){return $(this.config.form).data("action")},app.userProductsUpdate.ajax=function(a){$(app.userProductsUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.userProductsUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.ajax({type:"POST",url:app.userProductsUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.userProductsUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.userProductsUpdate.init=function(){app.userProductsUpdate.ajax()},$(document).ready(app.userProductsUpdate.init()),app.userProductsUpload={},app.userProductsUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1)},$(document).ready(app.userProductsUpload.init()),function(){"use strict";app.userTickets={},app.userTickets.tinyMCE=function(){tinymce.init({selector:"textarea.user-tickets-tinymce-default",plugins:["preview","importcss","code","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"],mobile:{plugins:["preview","importcss","searchreplace","autolink","autosave","save","directionality","visualblocks","visualchars","fullscreen","image","link","media","codesample","table","charmap","pagebreak","nonbreaking","anchor","insertdatetime","advlist","lists","wordcount","help","charmap","quickbars","emoticons"]},menubar:"file edit view insert format tools table tc",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange formatpainter removeformat | insertfile image media link anchor codesample | a11ycheck ltr rtl",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,height:600,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],contextmenu:"link image table",a11y_advanced_options:!0,promotion:!1,setup:function(a){a.on("change",(function(a){var e=tinyMCE.activeEditor.id;$("#"+e).parent(".form-group").hasClass("error")&&($("#"+e).parent(".form-group").removeClass("error"),$("#"+e).parent(".form-group").find(".message").remove())}))}})},app.userTickets.init=function(){"undefined"!=typeof tinymce&&$(".user-tickets-tinymce-default").length&&app.userTickets.tinyMCE()},$(document).ready(app.userTickets.init())}(),function(){"use strict";app.userTicketsCreate={},app.userTicketsCreate.config={form:"#user-tickets-create-form",route:"/user/tickets/create"},app.userTicketsCreate.ajax=function(){$(app.userTicketsCreate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.userTicketsCreate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.each($(".user-tickets-tinymce-default"),(function(){n.append($(this).attr("name"),tinyMCE.get($(this).attr("id")).getContent())}));var i=$("#user-tickets-attachments-dropzone").get(0).dropzone.getAcceptedFiles();$.each(i,(function(a,e){n.append("attachments["+a+"]",$("#user-tickets-attachments-dropzone")[0].dropzone.getAcceptedFiles()[a])})),$.ajax({type:"POST",url:app.userTicketsCreate.config.route,data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.userTicketsCreate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.userTicketsCreate.init=function(){app.userTicketsCreate.ajax()},$(document).ready(app.userTicketsCreate.init())}(),function(){"use strict";app.userTicketsDatatable={},app.userTicketsDatatable.delete=function(a){var e=a.map((function(a){return a.id}));bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete ticket(s)!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(a){a&&$.ajax({type:"delete",url:app.userTicketsDatatable.config.delete.route,data:{ids:e},success:function(a,e,t){app.notify(a.message),app.userTicketsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message)}})}})},app.userTicketsDatatable.restore=function(){$(document).delegate(".btn-user-tickets-restore","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to restore this ticket!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"post",url:app.userTicketsDatatable.config.restore.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.userTicketsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.userTicketsDatatable.forceDelete=function(){$(document).delegate(".btn-user-tickets-force-delete","click",(function(){var a=$(this),e=a.attr("data-id");bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to force delete this ticket!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(t){if(t){var n=a.parents(".tb-actions-column").find(".dropdown-toggle"),i=n.html();$.ajax({type:"delete",url:app.userTicketsDatatable.config.forceDelete.route,data:{id:e},beforeSend:function(){app.buttonLoader(n)},success:function(a,e,t){app.notify(a.message),app.userTicketsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(n,i)}})}}})}))},app.userTicketsDatatable.config={delete:{route:"/user/tickets/multi-delete"},restore:{route:"/user/tickets/restore"},forceDelete:{route:"/user/tickets/force-delete"},datatable:{selectable:!1,src:"/user/tickets/datatable",resourceName:{singular:app.trans("ticket"),plural:app.trans("tickets")},columns:[{title:"",key:"avatar",classes:"users-avatar-row",searchable:!1,element:function(a){if(null!==a.user){var e='<img src="'+app.adminUsersDatatable.avatar(a.user.avatar)+'" class="rounded-circle img-responsive" width="40">';return $(e)}return $("<span>&nbsp;</span>")}},{title:app.trans("Number"),key:"number",searchable:!0,hidden:!0},{title:app.trans("Subject"),key:"subject",searchable:!0,hidden:!0},{title:app.trans("Full name"),key:"user.first_name",searchable:!0,hidden:!0},{title:app.trans("Email"),key:"user.email",searchable:!0,hidden:!0},{title:app.trans("Customer"),key:"user.first_name",searchable:!0,classes:"tickets-user-column",element:function(a){var e="";return null!==a.user&&(null!==a.user.first_name&&null!==a.user.last_name?(e="<span>"+a.user.first_name+" "+a.user.last_name+"</span>",e+="<br>"):(e="<span>"+a.user.email+"</span>",e+="<br>")),e+='<a href="/user/tickets/'+a.number+'/show"><span class="text-bold">'+a.subject+"</span></a>",e+="<br>",e+="<span>[Ticket #"+a.number+"]</span>",$(e)}},{title:app.trans("Category"),key:"category.name",searchable:!0,classes:"tickets-category-column",element:function(a){if(null!==a.category){var e="#fff",t=a.category.color;return null===a.category.color&&(e="#000",t="#ddd"),$('<span class="badge" style="width: 100%; color: '+e+"; background-color: "+t+'">'+a.category.name+"</span>")}return $("<span>&nbsp;</span>")}},{title:app.trans("Priority"),key:"priority",searchable:!0,classes:"tickets-priority-column",element:function(a){var e=a.priority_details;return void 0!==e.name?$('<span class="badge badge-'+e.color+'" style="width: 100%;">'+e.name+"</span>"):$("<span>&nbsp;</span>")}},{title:app.trans("Status"),key:"status",searchable:!0,classes:"tickets-status-column",element:function(a){var e=a.status_details;return void 0!==e.name?$('<span class="badge badge-'+e.color+'" style="width: 100%;">'+e.name+"</span>"):$("<span>&nbsp;</span>")}},{title:app.trans("Created"),key:"created_at_timeago",searchable:!1,classes:"tickets-status-column"},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"tickets-actions-column tb-actions-column",element:function(a){var e='<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">';return e+='<i class="fas fa-ellipsis-h"></i>',e+="</button>",e+='<div class="dropdown-menu">',null===a.deleted_at&&app.can("user.tickets.show")&&(e+='<a class="dropdown-item" href="/user/tickets/'+a.number+'/show"><i class="fas fa-reply"></i> '+app.trans("Reply")+"</a>"),null!==a.deleted_at&&(app.can("user.tickets.restore")&&(e+='<a class="dropdown-item btn-user-tickets-restore" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash-restore-alt"></i> '+app.trans("Restore")+"</a>"),app.can("user.tickets.force-delete")&&(e+='<a class="dropdown-item btn-user-tickets-force-delete" href="javascript:void(0)" data-id="'+a.id+'"><i class="fas fa-trash"></i> '+app.trans("Force delete")+"</a>")),e+="</div>",$(e)}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No tickets were found!")},filterControl:[{key:"status",title:app.trans("Status"),choices:[{label:app.trans("All"),value:"All"},{label:app.trans("Open"),value:"open"},{label:app.trans("On Hold"),value:"onhold"},{label:app.trans("Closed"),value:"closed"},{label:app.trans("Trashed"),value:"Trashed"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""},{key:"priority",title:app.trans("Priority"),choices:[{label:app.trans("High"),value:"high"},{label:app.trans("Medium"),value:"medium"},{label:app.trans("Low"),value:"low"}],shortcut:!0,allowMultiple:!1,showClear:!1,value:""}],sortControl:{value:"id__desc",options:[{value:"id__desc",label:app.trans("Latest")},{value:"id__asc",label:app.trans("Oldest")},{value:"subject__asc",label:app.trans("Subject")+" ( A - Z )"},{value:"subject__desc",label:app.trans("Subject")+" ( Z - A )"},{value:"category__asc",label:app.trans("Category")+" ( A - Z )"},{value:"category__desc",label:app.trans("Category")+" ( Z - A )"}]},bulkActions:[{title:app.trans("Delete selected"),onAction:app.userTicketsDatatable.delete,status:"error"}],limit:50}},app.userTicketsDatatable.init=function(){if(app.userTicketsDatatable.tb={},void 0!==$.fn.JsDataTable&&$("#user-tickets-datatable").length){var a=this.config.datatable,e=JSON.parse($("#user-tickets-datatable").attr("data-status-counter")),t=0,n=0,i=0,o=e.trashed,s=e.all;$.each(e.statuses,(function(a,e){"open"==e.status&&(t=e.total_status),"onhold"==e.status&&(n=e.total_status),"closed"==e.status&&(i=e.total_status)})),a.filterTabs=[{label:app.trans("All <span class='badge badge-primary'>"+s+"</span>"),filters:[]},{label:app.trans("Open <span class='badge badge-danger'>"+t+"</span>"),filters:[{key:"status",value:"open"}]},{label:app.trans("On Hold <span class='badge badge-warning'>"+n+"</span>"),filters:[{key:"status",value:"onhold"}]},{label:app.trans("Closed <span class='badge badge-default'>"+i+"</span>"),filters:[{key:"status",value:"closed"}]},{label:app.trans("Trashed <span class='badge badge-info'>"+o+"</span>"),filters:[{key:"status",value:"Trashed"}]}],app.userTicketsDatatable.tb=$("#user-tickets-datatable").JsDataTable(a)}app.userTicketsDatatable.restore(),app.userTicketsDatatable.forceDelete()},$(document).ready(app.userTicketsDatatable.init())}(),function(){"use strict";app.userTicketsDelete={},app.userTicketsDelete.config={button:".btn-user-tickets-delete"},app.userTicketsDelete.ajax=function(a){$(document).delegate(app.userTicketsDelete.config.button,"click",(function(){var a=$(this);bootbox.confirm({title:app.trans("Are you sure?"),message:app.trans("You're about to delete this ticket!"),buttons:{confirm:{label:app.trans("Yes"),className:"btn-danger"},cancel:{label:app.trans("No"),className:"btn-default"}},callback:function(e){if(e){var t=a.parents(".tb-actions-column").find(".dropdown-toggle"),n=t.html();$.ajax({type:"DELETE",url:"/user/tickets/delete",data:{id:a.attr("data-id")},beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){app.notify(a.message),app.userTicketsDatatable.tb.refresh()},error:function(a){app.notify(a.responseJSON.message),app.backButtonContent(t,n)}})}}})}))},app.userTicketsDelete.init=function(){app.userTicketsDelete.ajax()},$(document).ready(app.userTicketsDelete.init())}(),function(){"use strict";app.userTicketsUpdate={},app.userTicketsUpdate.config={form:"#user-tickets-edit-form"},app.userTicketsUpdate.route=function(a){return $(this.config.form).data("action")},app.userTicketsUpdate.ajax=function(a){$(app.userTicketsUpdate.config.form).on("submit",(function(a){a.preventDefault();var e=$(app.userTicketsUpdate.config.form).find(":submit"),t=e.html(),n=new FormData(this);$.each($(".user-tickets-tinymce-default"),(function(){n.append($(this).attr("name"),tinyMCE.get($(this).attr("id")).getContent())}));var i=$("#user-tickets-attachments-dropzone").get(0).dropzone.getAcceptedFiles();$.each(i,(function(a,e){n.append("attachments["+a+"]",$("#user-tickets-attachments-dropzone")[0].dropzone.getAcceptedFiles()[a])})),$.ajax({type:"POST",url:app.userTicketsUpdate.route(),data:n,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,e,t){app.redirect(a.data.redirectTo)},error:function(a,n,i){var o=a;app.formErrors(app.userTicketsUpdate.config.form,o.responseJSON,o.status),app.backButtonContent(e,t)}})}))},app.userTicketsUpdate.init=function(){app.userTicketsUpdate.ajax()},$(document).ready(app.userTicketsUpdate.init())}(),function(){"use strict";app.userTicketsUpload={},app.userTicketsUpload.attachments=function(){var a=$("#user-tickets-attachments-dropzone"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"attachments",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:10,parallelUploads:10,autoProcessQueue:!1,uploadMultiple:!0,init:function(){var a=app.baseDropzone.countUploaded(".tickets-attachments-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.userTicketsUpload.init=function(){"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1,app.userTicketsUpload.attachments())},$(document).ready(app.userTicketsUpload.init())}(),function(){"use strict";app.userTransactionsDatatable={},app.userTransactionsDatatable.config={datatable:"#user-transactions-datatable",options:{src:"/user/transactions/datatable",resourceName:{singular:app.trans("transaction"),plural:app.trans("transactions")},columns:[{title:app.trans("Date"),key:"date",classes:"transaction-date-row"},{title:app.trans("Description"),key:"description",classes:"transaction-description-row"},{title:app.trans("Initial Balance"),key:"initial_balance",classes:"transaction-initial_balance-row"},{title:app.trans("Amount"),key:"total",classes:"transaction-total-row",searchable:!1,orderable:!1,element:function(a){return $("<strong>".concat(a.total,"</strong>"))}},{title:app.trans("Charge"),key:"total_charge",classes:"transaction-charge-row",orderable:!1,searchable:!1},{title:app.trans("Total"),key:"grand_total",classes:"transaction-grand-total-row",searchable:!1,orderable:!1,element:function(a){return $("<strong>".concat(a.grand_total,"</strong>"))}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"transaction-actions-column tb-actions-column text-right",element:function(a){return $('<a href="javascript:void(0)" class="btn btn-primary btn-sm btn-user-transaction-request-details-show" data-id="'.concat(a.id,'"><i class="fas fa-eye"></i></a>'))}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No transactions were found!")},selectable:!1,showSearchQuery:!1,limit:25,onRowClick:function(a){console.log(a)}}},app.userTransactionsDatatable.initShowDetails=function(){$(document).delegate(".btn-user-transaction-request-details-show","click",(function(){var a=$(this).closest("a").data("id"),e=app.userTransactionsDatatable.tb.findItem("id",parseInt(a));if(e){for(var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Transaction ID"),"</span>\n                                <span>\n                                    ").concat(e.trx,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Date"),"</span>\n                                <span>\n                                    ").concat(e.date,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Description"),"</span>\n                                <span>\n                                    ").concat(e.description,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.total,"\n                                </span>\n                            </div>\n                        </li>"),n=0;n<e.details.length;n++){var i=e.details[n];t+='<li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(i.label,"</span>\n                                <span>\n                                    ").concat(i.value,"\n                                </span>\n                            </div>\n                        </li>")}t+="</ul>",bootbox.dialog({title:app.trans("Transaction details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.userTransactionsDatatable.init=function(){app.userTransactionsDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.userTransactionsDatatable.tb=$(this.config.datatable).JsDataTable(this.config.options)),app.userTransactionsDatatable.initShowDetails()},$(document).ready(app.userTransactionsDatatable.init())}(),function(){"use strict";app.userWithdrawCheckout={},app.userWithdrawCheckout.config={section:"#withdraw-checkout-section",route:{process:"/user/withdrawals/checkout/process",store:"/user/withdrawals/checkout/store"}},app.userWithdrawCheckout.getAmount=function(){return parseFloat($(this.config.section+' [name="amount"]').val()||0)},app.userWithdrawCheckout.getCurrency=function(){return $(this.config.section+" #method-currency").val()},app.userWithdrawCheckout.getFixedCharge=function(){return parseFloat($(this.config.section+" #method-fixed-charge").val())},app.userWithdrawCheckout.getPercentCharge=function(){return parseFloat($(this.config.section+" #method-percent-charge").val())},app.userWithdrawCheckout.initTotal=function(){var a=this.getCurrency(),e=this.getAmount(),t=this.getPercentCharge(),n=this.getFixedCharge(),i=0;t&&(i=t/100*e);var o=0;e&&(o=e-(n+i)),$("#checkout-withdraw-percent-charge").html(app.currency.format(i,a)),$(".checkout-withdraw-total").html(app.currency.format(o,a))},app.userWithdrawCheckout.image=function(){var a=$(".checkout-image"),e=$(".dz-preview");a.length&&(Dropzone.autoDiscover=!1,a.each((function(){var a,t,n,i,o;a=$(this),t=void 0!==a.data("dropzone-multiple"),n=a.find(e),i=void 0,o={url:"/",paramName:"image",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:n.get(0),previewTemplate:n.html(),maxFiles:1,parallelUploads:1,autoProcessQueue:!1,uploadMultiple:!1,acceptedFiles:".jpeg,.jpg,.png,.gif",init:function(){var a=app.baseDropzone.countUploaded(".checkout-gateway-image-dropzone-uploaded");this.options.maxFiles=this.options.maxFiles-a,this.on("addedfile",(function(a){!t&&i&&this.removeFile(i),i=a,a.previewElement.querySelector("img").src=app.baseDropzone.config.defaultThumbnail,app.baseDropzone.removeErrors(a)})),this.on("error",(function(a,e){app.notify(e),this.removeFile(a)}))}},n.html(""),a.dropzone(o)})))},app.userWithdrawCheckout.data=function(){var a=new FormData,e=$("#checkout-form").serializeArray();$(".checkout-image").length&&$.each($(".checkout-image"),(function(){var e=$(this).get(0).dropzone.getAcceptedFiles(),t=this;$.each(e,(function(e,n){a.append("user_data["+$(t).data("field-name")+"]",$(t)[0].dropzone.getAcceptedFiles()[e])}))}));for(var t=0;t<e.length;t++){var n=e[t];a.append("user_data["+n.name+"]",n.value)}return a.append("method",$("#method").val()),a.append("amount",parseFloat(app.userWithdrawCheckout.getAmount())),a},app.userWithdrawCheckout.process=function(){var a=this;$("#btn-submit-withdraw-checkout").on("click",(function(){var e=$(this),t=a.data();parseFloat(t.get("amount"))&&$.ajax({type:"POST",url:a.config.route.process,data:t,contentType:!1,cache:!1,processData:!1,beforeSend:function(){e.attr("disabled",!0).addClass("disabled btn-progress")},success:function(t,n,i){var o=new FormData,s=$("#checkout-form").serializeArray();$(".checkout-image").length&&$.each($(".checkout-image"),(function(){var a=$(this).get(0).dropzone.getAcceptedFiles(),e=this;$.each(a,(function(a,t){o.append("user_data["+$(e).data("field-name")+"]",$(e)[0].dropzone.getAcceptedFiles()[a])}))}));for(var r=0;r<s.length;r++){var l=s[r];o.append("user_data["+l.name+"]",l.value)}window.otp_wothdrawal?app.walletOtp.confirm({success:function(t){$.ajax({type:"POST",url:a.config.route.store,data:o,contentType:!1,cache:!1,processData:!1,success:function(a,e,t){setTimeout((function(){a.message&&app.notify(a.message),a.data.location&&(window.location=a.data.location)}),500)},complete:function(a){e.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,t,n){var i=a;e.attr("disabled",!1).removeClass("disabled btn-progress"),setTimeout((function(){app.notify(i.responseJSON.message)}),350),app.formErrors("#checkout-form",i.responseJSON,i.status)}})},error:function(a){e.attr("disabled",!1).removeClass("disabled btn-progress"),setTimeout((function(){app.notify(a.responseJSON.message)}),350),app.formErrors("#checkout-form",a.responseJSON,a.status)},always:function(){e.attr("disabled",!1).removeClass("disabled btn-progress")}},"withdraw_checkout"):$.ajax({type:"POST",url:a.config.route.store,data:o,contentType:!1,cache:!1,processData:!1,success:function(a,e,t){setTimeout((function(){a.message&&app.notify(a.message),a.data.location&&(window.location=a.data.location)}),500)},complete:function(a){e.attr("disabled",!1).removeClass("disabled btn-progress")},error:function(a,t,n){var i=a;e.attr("disabled",!1).removeClass("disabled btn-progress"),setTimeout((function(){app.notify(i.responseJSON.message)}),350),app.formErrors("#checkout-form",i.responseJSON,i.status)}})},error:function(a,t,n){var i=a;e.attr("disabled",!1).removeClass("disabled btn-progress"),setTimeout((function(){app.notify(i.responseJSON.message)}),350),app.formErrors("#checkout-form",i.responseJSON,i.status)}})}))},app.userWithdrawCheckout.init=function(){$(this.config.section+' [name="amount"]').on("input",(function(){app.userWithdrawCheckout.initTotal()})),"undefined"!=typeof Dropzone&&$(".checkout-image").length&&$(".manual-withdraw-checkout").length&&(Dropzone.autoDiscover=!1,app.userWithdrawCheckout.image()),this.process()},$(document).ready(app.userWithdrawCheckout.init())}(),function(){"use strict";app.userWithdrawHistoryDatatable={},app.userWithdrawHistoryDatatable.config={datatable:"#user-withdraw-histories-datatable",options:{src:"/user/withdrawals/histories/datatable",resourceName:{singular:app.trans("withdraw history"),plural:app.trans("withdraw histories")},columns:[{title:app.trans("Transaction ID"),key:"trx",classes:"withdraw-history-trx-row"},{title:app.trans("Method"),key:"method",classes:"withdraw-history-method-row",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"total",classes:"withdraw-history-amount-row",searchable:!1,orderable:!1},{title:app.trans("Charge"),key:"charge_display",classes:"withdraw-history-charge-row",searchable:!1,orderable:!1},{title:app.trans("Receivable"),key:"receivable",classes:"withdraw-history-receivable-row",searchable:!1,orderable:!1},{title:app.trans("Date"),key:"date",classes:"deposit-history-date-row",searchable:!1,orderable:!1},{title:app.trans("Status"),key:"active",classes:"hidden md:table-cell",searchable:!1,orderable:!1,element:function(a){var e="secondary",t=app.trans("Pending");return a.rejected_at?(e="danger",t=app.trans("Rejected")):a.status&&(e="primary",t=app.trans("Completed")),$('<span class="badge badge-'+e+'">'+t+"</span>")}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"withdrawal-actions-column tb-actions-column text-right",element:function(a){return $('<a href="javascript:void(0)" class="btn btn-primary btn-sm btn-withdrawal-request-details-show" data-id="'.concat(a.id,'"><i class="fas fa-eye"></i></a>'))}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No withdrawal histories were found!")},selectable:!1,showSearchQuery:!1,limit:25}},app.userWithdrawHistoryDatatable.initShowDetails=function(){$(document).delegate(".btn-withdrawal-request-details-show","click",(function(){var a=$(this).closest("a").data("id"),e=app.userWithdrawHistoryDatatable.table.findItem("id",parseInt(a));if(e){var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>'.concat(app.trans("Transaction ID"),"</span>\n                                <span>\n                                    ").concat(e.trx,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Date"),"</span>\n                                <span>\n                                    ").concat(e.date,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Gateway"),"</span>\n                                <span>\n                                    ").concat(e.method,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.total,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Charge"),"</span>\n                                <span>\n                                    ").concat(e.charge_display,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Receivable"),"</span>\n                                <span>\n                                    ").concat(e.receivable,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>').concat(app.trans("Status"),'</span>\n                                <strong class="').concat(e.status?"text-success":e.rejected_at?"text-danger":"",'">\n                                    ').concat(e.status?"Approved":e.rejected_at?"Rejected":"Pending","\n                                </strong>\n                            </div>\n                        </li>");e.rejected_at&&(t+='<li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>'.concat(app.trans("Rejected date"),"</span>\n                                <span>\n                                    ").concat(e.rejected_date,"\n                                </span>\n                            </div>\n                        </li>"),e.reject_reason&&(t+='<li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <span>'.concat(app.trans("Rejected reason"),"</span>\n                                <span>\n                                    ").concat(e.reject_reason,"\n                                </span>\n                            </div>\n                        </li>"))),t+="</ul>",e.status&&(e.note||e.additional_image?(t+='<h6 class="mt-4">'.concat(app.trans("Additional details"),"</h6>"),t+='<ul class="list-group">',e.note&&(t+='<li class="list-group-item">\n                                <div class="d-flex align-items-start flex-column">\n                                    <strong>'.concat(app.trans("Note"),"</strong>\n                                    <span>\n                                        ").concat(e.note,"\n                                    </span>\n                                </div>\n                            </li>")),e.additional_image&&(t+='<li class="list-group-item">\n                                <div class="d-flex align-items-start flex-column">\n                                    <strong>'.concat(app.trans("Screenshot"),'</strong>\n                                    <img class="w-100 mb-2" src="').concat(e.additional_image,'" alt="Image">\n                                </div>\n                            </li>')),t+="</ul>"):t+='<div class="alert alert-info alert-has-icon mt-4 mb-0">\n                                    <div class="alert-icon"><i class="far fa-lightbulb"></i></div>\n                                    <div class="alert-body">\n                                    <div class="alert-title"></div>\n                                        '.concat(app.trans("No extra details are being provided."),"\n                                    </div>\n                                </div>")),bootbox.dialog({title:app.trans("Withdrawal details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.userWithdrawHistoryDatatable.initDatatable=function(){void 0!==$.fn.JsDataTable&&$(this.config.datatable).length&&(app.userWithdrawHistoryDatatable.table=$(this.config.datatable).JsDataTable(this.config.options))},app.userWithdrawHistoryDatatable.init=function(){this.initDatatable(),this.initShowDetails()},$(document).ready(app.userWithdrawHistoryDatatable.init())}(),function(){"use strict";app.modulesValidation={},app.modulesValidation.validation={},app.modulesValidation.validation.config={uniqueValidationFields:["text","email","number","float","money"]},app.modulesValidation.validation.rules=function(a){return app.modulesValidation.validation.unique(),-1!==app.modulesValidation.validation.config.uniqueValidationFields.indexOf(a)?app.modulesValidation.validation.unique():app.modulesValidation.validation.default()},app.modulesValidation.validation.default=function(){var a="";return(a+='<option value="optional">'+app.trans("Optional")+"</option>")+'<option value="required">'+app.trans("Required")+"</option>"}}(),function(){"use strict";app.modulesValidation.validation.unique=function(){var a="";return a+='<option value="optional">'+app.trans("Optional")+"</option>",(a+='<option value="required">'+app.trans("Required")+"</option>")+'<option value="required_unique">'+app.trans("Required | Unique")+"</option>"}}(),function(){"use strict";app.verify2FA={},app.verify2FA.config={form:"#2fa-login-verify-form",route:"/verify/two-factor"},app.verify2FA.data=function(){return $(this.config.form).serializeArray()},app.verify2FA.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,e,t){void 0!==a.data.redirectTo&&app.redirect(a.data.redirectTo)},complete:function(a){200!=a.status&&app.backButtonContent(t,n)},error:function(a,t,n){var i=a;app.formErrors(e.config.form,i.responseJSON,i.status)}})},app.verify2FA.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.verify2FA.init())}(),function(){"use strict";app.verifyEnableProfileTwoFactor={},app.verifyEnableProfileTwoFactor.config={form:"#profile-verify-two-factor-form",route:"/profile/two-factor/verify-enable",redirect:"/profile/security"},app.verifyEnableProfileTwoFactor.data=function(){return $(this.config.form).serializeArray()},app.verifyEnableProfileTwoFactor.process=function(a){a.preventDefault();var e=this,t=$(e.config.form).find(":submit"),n=t.html();$.ajax({type:"POST",url:e.config.route,data:e.data(),beforeSend:function(){app.buttonLoader(t)},success:function(a,t,n){app.redirect(e.config.redirect)},error:function(a,i,o){var s=a;app.formErrors(e.config.form,s.responseJSON,s.status),app.backButtonContent(t,n),t.attr("disabled",!1)}})},app.verifyEnableProfileTwoFactor.init=function(){$(this.config.form).on("submit",this.process.bind(this))},$(document).ready(app.verifyEnableProfileTwoFactor.init())}(),function(){"use strict";app.wallet={},app.wallet.config={item:".wallet-item-link"},app.wallet.handleItemSelection=function(a){var e=$(a.target).closest("li");if(!e.hasClass("active")&&!e.find("a.disabled").length){e.siblings(".active").removeClass("active"),e.addClass("active");var t=app.currency.get(e.data("code"));if(t){var n=$(".wallet-exchange-link");$(".wallet-title").html(t.name+" Wallet"),$(".wallet-balance").html(app.currency.format(t.balance,t.code)),t.balance?($(".wallet-form .wallet-balance").removeClass("text-danger"),$(".wallet-form .wallet-balance").addClass("text-success"),$(".btn-send-money-show-modal").removeClass("disabled").attr("disabled",!1),n.removeClass("disabled").attr("disabled",!1)):($(".wallet-form .wallet-balance").addClass("text-danger"),$(".wallet-form .wallet-balance").removeClass("text-success"),$(".btn-send-money-show-modal").addClass("disabled").attr("disabled",!0),n.addClass("disabled").attr("disabled",!0)),$(".wallet-code").html(t.code),$('.wallet-form [name="from_currency"]').val(t.code),$('.wallet-form [name="currency"]').val(t.code),$("#wallet-exchange-form .wallet-exchange-fixed-amount").html(t.exhange_charge.fixed_charge_display),$("#wallet-exchange-form .wallet-exchange-rate").html(t.exhange_charge.fixed_charge_rate),$("#wallet-send-money-form .wallet-exchange-fixed-amount").html(t.send_charge.fixed_charge_display),$("#wallet-send-money-form .wallet-exchange-rate").html(t.send_charge.fixed_charge_rate),n.attr("href",n.data("href")+"?from="+t.code)}}},app.wallet.initNumberTextbox=function(){$("[data-decimals]").keypress((function(a){var e=parseInt(a.target.dataset.decimals)||2;46==a.which&&-1==$(this).val().indexOf(".")||!(a.which<48||a.which>57)||0==a.which||8==a.which||a.preventDefault();var t=$(this).val();-1!=t.indexOf(".")&&t.substring(t.indexOf(".")).length>e&&0!=a.which&&8!=a.which&&$(this)[0].selectionStart>=t.length-e&&a.preventDefault()})).on("paste",(function(a){a.preventDefault()}))},app.wallet.init=function(){$(this.config.item).on("click",this.handleItemSelection.bind(this)),this.initNumberTextbox()},$(document).ready(app.wallet.init())}(),function(){"use strict";app.walletOtp={},app.walletOtp.config={modal:"#wallet-confirm-otp-modal",form:"#wallet-confirm-otp-form",send:"/profile/wallet/send-otp",resend:"/profile/wallet/resend-otp",verify:"/profile/wallet/verify-otp",btn:{verify:"#btn-confirm-otp",resend:"#btn-resend-otp"},options:{before:function(){},success:function(){},error:function(){},always:function(){}},resource:null},app.walletOtp.confirm=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=this;t.config.resource=e,t.config.options=$.extend({},this.config.options,a),$.ajax({type:"GET",url:t.config.send,beforeSend:function(){t.config.options.before()}}).done((function(a){setTimeout((function(){$(t.config.modal).find('[name="otp"]').val(""),$(t.config.modal).modal("show"),t.config.options.always()}),350)})).fail((function(a){setTimeout((function(){t.config.options.error(a),t.config.options.always()}),350)}))},app.walletOtp.resend=function(){var a=this;$(a.config.btn.resend).on("click",(function(){$.ajax({type:"GET",url:a.config.resend,beforeSend:function(){$(a.config.btn.resend).attr("disabled",!0).addClass("disabled btn-progress")},success:function(){setTimeout((function(){$(a.config.btn.resend).attr("disabled",!1).removeClass("disabled btn-progress")}),350)},error:function(){setTimeout((function(){$(a.config.btn.resend).attr("disabled",!1).removeClass("disabled btn-progress")}),350)}})}))},app.walletOtp.verify=function(){var a=this;$(a.config.btn.verify).on("click",(function(){var e=$(a.config.form).find('[name="otp"]').val();$.ajax({type:"POST",url:a.config.verify,data:{otp:e,otp_checkout_resource:a.config.resource},beforeSend:function(){$(a.config.btn.verify).attr("disabled",!0).addClass("disabled btn-progress")},success:function(e){setTimeout((function(){$(a.config.btn.verify).attr("disabled",!1).removeClass("disabled btn-progress"),a.config.options.success(e),$(a.config.modal).modal("hide")}),350)},error:function(e){setTimeout((function(){$(a.config.btn.verify).attr("disabled",!1).removeClass("disabled btn-progress"),a.config.options.error(e)}),350)}})}))},app.walletOtp.init=function(){var a=this;$(this.config.modal).on("hidden.bs.modal",(function(){$(this).find('[name="otp"]').val(""),a.config.options.always()})),a.verify(),a.resend()},$(document).ready(app.walletOtp.init())}(),function(){"use strict";app.walletExchange={},app.walletExchange.config={data:null,modal:"#wallet-exchange-modal",form:"#wallet-exchange-form",route:"/profile/wallet/exchange/process",checkoutRoute:"/profile/wallet/exchange/checkout"},app.walletExchange.onModalShow=function(){var a=this;$(this.config.modal).on("show.bs.modal",(function(){var e=$(a.config.form).find('[name="from_currency"]').val();e&&($(a.config.form).find('[name="amount"]').val(""),$(a.config.form).find('[name="to_currency"]').val(""),$(a.config.form).find('[name="to_currency"]').find("option").prop("disabled",!1),$(a.config.form).find('[name="to_currency"]').find('option[value="'+e+'"]').prop("disabled",!0),$(a.config.form+' [name="to_currency"]').select2()),$(a.config.form).find(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).find(app.formErrorsHelper.config.messageClass).remove(),$(a.config.form).find(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).removeClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),$(a.config.form).find(app.removeClassDot(app.formErrorsHelper.config.formErrorMessageClass)).remove()}))},app.walletExchange.ajax=function(){var a=this;$(a.config.form).on("submit",(function(e){e.preventDefault();var t=$(a.config.form).find(":submit"),n=t.html(),i=new FormData(this);$.ajax({type:"POST",url:a.config.route,data:i,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(e,i,o){app.backButtonContent(t,n),$(a.config.modal).modal("hide"),a.config.data=e.data,a.checkout()},error:function(e,i,o){app.backButtonContent(t,n);var s=e;app.formErrors(a.config.form,s.responseJSON,s.status)}})}))},app.walletExchange.checkout=function(){var a=this.config.data;if(a){var e='<ul class="list-group mb-4">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <strong>'.concat(app.trans("Rate"),"</strong>\n                                <strong>\n                                    ").concat(app.trans("Rate"),": ").concat(a.currency_rate[a.to.currency]," ").concat(a.to.currency," ~ ").concat(a.currency_rate[a.from.currency]," ").concat(a.from.currency,'\n                                </strong>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <strong>').concat(a.from.currency_name,'</strong>\n\n                                <strong class="d-flex align-items-center">\n                                    <span>').concat(a.from.amount_display,'</span>\n                                </strong>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <strong>').concat(a.to.currency_name,'</strong>\n\n                                <strong class="d-flex align-items-center">\n                                    <span>').concat(a.to.reg_amount,'</span>\n                                </strong>\n                            </div>\n                        </li>\n                    </ul>\n                    <ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <strong>').concat(app.trans("Receivable"),'</strong>\n                                <h3 class="wallet-balance text-success mb-0">\n                                    ').concat(a.to.amount_display,'\n                                </h3>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <div class="d-flex align-items-center">\n                                    <strong class="mr-1">').concat(app.trans("Charges"),' </strong>\n                                    (<strong class="d-flex align-items-center text-danger">\n                                        <span>').concat(a.fixed_charge_display,'</span>\n                                        <span class="mx-1">+</span>\n                                        <span>').concat(a.rate,'%</span>\n                                    </strong>)\n                                </div>\n\n                                <strong class="d-flex align-items-center text-danger">\n                                    <span class="wallet-exchange-fixed-amount">').concat(a.fixed_charge_display,'</span>\n                                    <span class="mx-1">+</span>\n                                    <span class="wallet-exchange-rate">').concat(a.rate_charge_display,"</span>\n                                </strong>\n                            </div>\n                        </li>\n                    </ul>");bootbox.dialog({title:app.trans("Wallet exchange details"),message:e,buttons:{cancel:{label:app.trans("Cancel"),className:"btn-danger"},ok:{label:app.trans("Convert now"),className:"btn-primary",callback:function(){var a=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Processing")+"...</p>",closeButton:!1});if(window.allow_wallet_exchange_otp)app.walletOtp.confirm({success:function(a){var e=app.walletExchange.config.data;app.walletExchange.config.data=null,$.ajax({type:"POST",url:app.walletExchange.config.checkoutRoute,contentType:!1,cache:!1,processData:!1,success:function(a,e,t){app.walletExchange.config.data=null,setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,t,n){app.walletExchange.config.data=e,setTimeout((function(){app.notify(a.responseJSON.message)}),350)}})},error:function(a){app.notify(a.responseJSON.message)},always:function(){a.modal("hide")}},"wallet_exchange_checkout");else{var e=$(".wallet-exchange-link"),t=e.html(),n=app.walletExchange.config.data;app.walletExchange.config.data=null,$.ajax({type:"POST",url:app.walletExchange.config.checkoutRoute,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.walletExchange.config.data=null,setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,i,o){app.backButtonContent(e,t),app.walletExchange.config.data=n,setTimeout((function(){app.notify(a.responseJSON.message)}),350)}})}}}}})}},app.walletExchange.onOtpCancel=function(){$(app.walletOtp.config.modal).on("hide.bs.modal",(function(a){setTimeout((function(){app.walletExchange.checkout()}),350)}))},app.walletExchange.init=function(){this.onModalShow(),this.ajax(),this.onOtpCancel()},$(document).ready(app.walletExchange.init())}(),function(){"use strict";app.walletSendMoney={},app.walletSendMoney.config={data:null,modal:"#wallet-send-money-modal",form:"#wallet-send-money-form",route:"/profile/wallet/send-money/process",checkoutRoute:"/profile/wallet/send-money/checkout"},app.walletSendMoney.onModalShow=function(){var a=this;$(this.config.modal).on("show.bs.modal",(function(){$(a.config.form).find('[name="amount"]').val(""),$(a.config.form).find('[name="email"]').val(""),$(a.config.form).find(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).find(app.formErrorsHelper.config.messageClass).remove(),$(a.config.form).find(app.formErrorsHelper.config.formGroupClass+app.formErrorsHelper.config.errorClass).removeClass(app.removeClassDot(app.formErrorsHelper.config.errorClass)),$(a.config.form).find(app.removeClassDot(app.formErrorsHelper.config.formErrorMessageClass)).remove()}))},app.walletSendMoney.ajax=function(){var a=this;$(a.config.form).on("submit",(function(e){e.preventDefault();var t=$(a.config.form).find(":submit"),n=t.html(),i=new FormData(this);$.ajax({type:"POST",url:a.config.route,data:i,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(t)},success:function(e,i,o){app.backButtonContent(t,n),$(a.config.modal).modal("hide"),a.config.data=e.data,a.checkout()},error:function(e,i,o){app.backButtonContent(t,n);var s=e;app.formErrors(a.config.form,s.responseJSON,s.status)}})}))},app.walletSendMoney.checkout=function(){var a=this.config.data;if(a){var e='<ul class="list-group mb-4">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <strong>'.concat(app.trans("Amount"),'</strong>\n                                <h3 class="mb-0">\n                                    ').concat(a.amount_display,'\n                                </h3>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <strong>').concat(app.trans("Receiver"),'</strong>\n\n                                <div class="d-flex flex-column align-items-end">\n                                    <strong>').concat(a.recepient.full_name,"</strong>\n                                    <span>").concat(a.recepient.email,'</span>\n                                </div>\n                            </div>\n                        </li>\n                    </ul>\n                    <ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <strong>').concat(app.trans("Total Payable"),'</strong>\n                                <h3 class="text-success mb-0">\n                                    ').concat(a.total_display,'\n                                </h3>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-center justify-content-between">\n                                <strong>').concat(app.trans("Charges"),'</strong>\n\n                                <strong class="d-flex align-items-center text-danger">\n                                    <span class="wallet-exchange-fixed-amount">').concat(a.fixed_charge_display,'</span>\n                                    <span class="mx-1">+</span>\n                                    <span class="wallet-exchange-rate">').concat(a.rate_charge_display,"</span>\n                                </strong>\n                            </div>\n                        </li>\n                    </ul>");bootbox.dialog({title:app.trans("Send money details"),message:e,buttons:{cancel:{label:app.trans("Cancel"),className:"btn-danger"},ok:{label:app.trans("Send now"),className:"btn-primary",callback:function(){var a=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> '+app.trans("Processing")+"...</p>",closeButton:!1});if(window.allow_send_money_otp)app.walletOtp.confirm({success:function(a){var e=app.walletSendMoney.config.data;app.walletSendMoney.config.data=null,$.ajax({type:"POST",url:app.walletSendMoney.config.checkoutRoute,contentType:!1,cache:!1,processData:!1,success:function(a,e,t){app.walletSendMoney.config.data=null,setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,t,n){app.walletSendMoney.config.data=e,setTimeout((function(){app.notify(a.responseJSON.message)}),350)}})},error:function(a){app.notify(a.responseJSON.message)},always:function(){a.modal("hide")}},"wallet_send_money_checkout");else{var e=$(".btn-send-money-show-modal"),t=e.html(),n=app.walletSendMoney.config.data;app.walletSendMoney.config.data=null,$.ajax({type:"POST",url:app.walletSendMoney.config.checkoutRoute,contentType:!1,cache:!1,processData:!1,beforeSend:function(){app.buttonLoader(e)},success:function(a,n,i){app.backButtonContent(e,t),app.walletSendMoney.config.data=null,setTimeout((function(){app.notify(a.message),app.redirect(a.data.redirectTo)}),350)},error:function(a,i,o){app.backButtonContent(e,t),app.walletSendMoney.config.data=n,setTimeout((function(){app.notify(a.responseJSON.message)}),350)}})}}}}})}},app.walletSendMoney.onOtpCancel=function(){$(app.walletOtp.config.modal).on("hide.bs.modal",(function(a){setTimeout((function(){app.walletSendMoney.checkout()}),350)}))},app.walletSendMoney.init=function(){this.onModalShow(),this.ajax(),this.onOtpCancel()},$(document).ready(app.walletSendMoney.init())}(),function(){"use strict";app.walletTransactionsDatatable={},app.walletTransactionsDatatable.config={datatable:"#wallet-transactions-datatable",options:{src:"/profile/wallet/transactions/datatable",resourceName:{singular:app.trans("transaction"),plural:app.trans("transactions")},columns:[{title:app.trans("Description"),key:"description",classes:"transaction-description-row",searchable:!1,orderable:!1,element:function(a){return $('<div class="d-flex flex-column">\n                        <span>'.concat(a.description,'</span>\n                        <span class="text-muted">').concat(a.date,"</span>\n                    </div>"))}},{title:app.trans("Initial Balance"),key:"initial_balance",classes:"transaction-initial_balance-row",searchable:!1,orderable:!1},{title:app.trans("Amount"),key:"total",classes:"transaction-total-row",searchable:!1,orderable:!1,element:function(a){var e="text-dark";return"+"===a.prefix&&(e="text-success"),"-"===a.prefix&&(e="text-danger"),$('<div class="d-flex flex-column">\n                        <strong class="'.concat(e,'">').concat(a.total,'</strong>\n                        <span class="text-muted">').concat(a.total_charge,"</span>\n                    </div>"))}},{title:app.trans("Total"),key:"grand_total",classes:"transaction-grand-total-row",searchable:!1,orderable:!1,element:function(a){return $("<strong>".concat(a.grand_total,"</strong>"))}},{title:app.trans("Actions"),key:"actions",searchable:!1,classes:"transaction-actions-column tb-actions-column text-right",element:function(a){return $('<a href="javascript:void(0)" class="btn btn-primary btn-sm btn-transaction-request-details-show" data-id="'.concat(a.id,'"><i class="fas fa-eye"></i></a>'))}}],language:{sortTitle:app.trans("Sort"),noResultsFoundTitle:app.trans("No transactions were found!")},selectable:!1,showSearchQuery:!1,limit:25,onRowClick:function(a){console.log(a)}}},app.walletTransactionsDatatable.initShowDetails=function(){$(document).delegate(".btn-transaction-request-details-show","click",(function(){var a=$(this).closest("a").data("id"),e=app.walletTransactionsDatatable.tb.findItem("id",parseInt(a));if(e){for(var t='<ul class="list-group">\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(app.trans("Transaction ID"),"</span>\n                                <span>\n                                    ").concat(e.trx,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Date"),"</span>\n                                <span>\n                                    ").concat(e.date,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Description"),"</span>\n                                <span>\n                                    ").concat(e.description,'\n                                </span>\n                            </div>\n                        </li>\n                        <li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">').concat(app.trans("Amount"),"</span>\n                                <span>\n                                    ").concat(e.total,"\n                                </span>\n                            </div>\n                        </li>"),n=0;n<e.details.length;n++){var i=e.details[n];t+='<li class="list-group-item">\n                            <div class="d-flex align-items-start justify-content-between">\n                                <span class="mr-4">'.concat(i.label,"</span>\n                                <span>\n                                    ").concat(i.value,"\n                                </span>\n                            </div>\n                        </li>")}t+="</ul>",bootbox.dialog({title:app.trans("Transaction details"),message:t,buttons:{cancel:{label:app.trans("Close"),className:"btn-danger"}}})}}))},app.walletTransactionsDatatable.init=function(){app.walletTransactionsDatatable.tb={},void 0!==$.fn.JsDataTable&&(app.walletTransactionsDatatable.tb=$(this.config.datatable).JsDataTable(this.config.options)),app.walletTransactionsDatatable.initShowDetails()},$(document).ready(app.walletTransactionsDatatable.init())}();